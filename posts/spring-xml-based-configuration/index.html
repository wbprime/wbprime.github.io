<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>wangboâ€™s blog - Spring: XML based configuration</title>

      

      
          <script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
          
      

      
          <link rel="stylesheet" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;site.css">
          
      

      
      
    </head>

    <body>
        <div class="container">

            <div id="mobile-navbar" class="mobile-navbar">
              <div class="mobile-header-logo">
                <a href="/" class="logo">WB Prime</a>
              </div>
              <div class="mobile-navbar-icon icon-out">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;categories">
                            Categories
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags">
                            Tags
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;github.wangbo.im">
                            Github
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;about">
                            About
                        </a>
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                <div class="logo"><a href="https:&#x2F;&#x2F;www.wangbo.im">WB Prime</a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;categories">
                                    Categories
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags">
                                    Tags
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;github.wangbo.im">
                                    Github
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;about">
                                    About
                                </a>
                            </li>
                        
                    </ul>
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    


<div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content always-active">
        <nav id="TableOfContents">
            <ul>
                
                <li>
                    <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#overview" class="toc-link">Overview</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#spring-configuration" class="toc-link">Spring Configuration</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#applicationcontext" class="toc-link">ApplicationContext</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#xml-file-format" class="toc-link">XML file format</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#beans" class="toc-link">beans</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#bean" class="toc-link">bean</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#alias" class="toc-link">alias</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#import" class="toc-link">import</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#bean-configuration" class="toc-link">Bean Configuration</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#name" class="toc-link">Name</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#class" class="toc-link">Class</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#instantiating-a-bean" class="toc-link">Instantiating a Bean</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#scope" class="toc-link">Scope</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#lazy-initializing" class="toc-link">Lazy-initializing</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#lifecycle-callbacks" class="toc-link">Lifecycle Callbacks</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#dependency-injection" class="toc-link">Dependency Injection</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#autowiring" class="toc-link">Autowiring</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a href="https://www.wangbo.im/posts/spring-xml-based-configuration/#summary" class="toc-link">Summary</a>
                    
                </li>
                
            </ul>
        </nav>
    </div>
</div>


<article class="post">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;spring-xml-based-configuration&#x2F;">Spring: XML based configuration</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2015-06-02</span>
            
        </div>
    </header>

    <div class="post-content">
      <h1 id="overview"><a class="zola-anchor" href="#overview" aria-label="Anchor link for: overview">ðŸ”—</a>Overview</h1>
<h2 id="spring-configuration"><a class="zola-anchor" href="#spring-configuration" aria-label="Anchor link for: spring-configuration">ðŸ”—</a>Spring Configuration</h2>
<p>The Springframework supports 3 kinds of configuration methods, including XML-based configuration, annotation-based configuration and Java-based configuration.</p>
<ul>
<li>Xml-based configuration: traditionally supplied as a simple and intuitive XMl format metadata.</li>
<li>Annotation-based configuration: introduced by Spring 2.5.</li>
<li>Java-based configuration: introduced as the Spring JavaConfig project by Spring 3.0.</li>
</ul>
<p>XML-based configuration is widely used and best supported.</p>
<p>Typical xml configuration file:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span style="color:#fdf4c1aa;">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span style="color:#fdf4c1aa;">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
</span><span style="color:#fdf4c1aa;">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

</span><span style="color:#fdf4c1aa;">    &lt;bean id=&quot;aBean&quot; class=&quot;MyBean&quot;&gt;
</span><span style="color:#fdf4c1aa;">    &lt;!-- collaborators and configuration for this bean go here --&gt;
</span><span style="color:#fdf4c1aa;">    &lt;/bean&gt;

</span><span style="color:#fdf4c1aa;">    &lt;!-- more bean definitions go here --&gt;

</span><span style="color:#fdf4c1aa;">&lt;/beans&gt;
</span></pre><h2 id="applicationcontext"><a class="zola-anchor" href="#applicationcontext" aria-label="Anchor link for: applicationcontext">ðŸ”—</a>ApplicationContext</h2>
<p>XML-based configuration provides bean metadata to Spring through a single or a set of XML file(s).</p>
<p>Generally Spring read configuration metadata via a <code>BeanFactory</code> interface.  Direct use of <code>BeanFactory</code> is not supported officially in dailly application development, though you can implement <code>BeanFactory</code> interface and provide your own class.  However Spring provide a more convinient interface <code>ApplicationContext</code> inheriting <code>BeanFactory</code>.</p>
<p>The <code>org.springframework.context.ApplicationContext</code> interface provides more features over <code>BeanFactory</code> interface such as: integration with Spring AOP interfaces, message resource handling for internationalization, event publication, web application support and so on.</p>
<p>Implementations of <code>ApplicationContext</code> interface differ in ways reading configuration metadata, among which are <code>ClassPathXmlApplicationContext</code> and <code>FileSystemXmlApplicationContext</code> that providing control of XML-based configuration metadata.</p>
<p><code>ClassPathXmlApplicationContext</code> is a standalone XML application context, taking the context definition files from the class path, interpreting plain paths as class path resource names that include the package path (e.g. &quot;mypackage/myresource.txt&quot;).  <code>ClassPathXmlApplicationContext</code> accepts one or more String and intepretes them as files in CLASSPATH, then loads configuration metadata from those files.  The leading slash in parameters, if exists, will be ignored.</p>
<p>Note: In case of multiple config locations, later bean definitions will override ones defined in earlier loaded files. This can be leveraged to deliberately override certain bean definitions via an extra XML file.</p>
<p><code>FileSystemXmlApplicationContext</code> is a Standalone XML application context, taking the context definition files from the file system or from URLs, interpreting plain paths as relative file system locations (e.g. &quot;mydir/myfile.txt&quot;). Useful for test harnesses as well as for standalone environments.  Plain path(s) will always treated relative to the current VM working directory whether it has or has not leading slash.  To avoid this, add a &quot;file:&quot; prefix to declare an absolute file path.</p>
<p>Note: In case of multiple config locations, later bean definitions will override ones defined in earlier loaded files. This can be leveraged to deliberately override certain bean definitions via an extra XML file.</p>
<p>Typical usage of <code>ApplicationContext</code> to load xml configuration metadata:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">// create and configure beans
</span><span style="color:#fdf4c1aa;">ApplicationContext context =
</span><span style="color:#fdf4c1aa;">    new ClassPathXmlApplicationContext(new String[] {&quot;mybean.xml&quot;, &quot;mybean2.xml&quot;});

</span><span style="color:#fdf4c1aa;">// retrieve configured instance
</span><span style="color:#fdf4c1aa;">MyBean my_bean = context.getBean(&quot;aBean&quot;, MyBean.class);

</span><span style="color:#fdf4c1aa;">// use configured instance
</span><span style="color:#fdf4c1aa;">boolean is_succeed = myBean.doSomething();
</span></pre><h1 id="xml-file-format"><a class="zola-anchor" href="#xml-file-format" aria-label="Anchor link for: xml-file-format">ðŸ”—</a>XML file format</h1>
<h2 id="beans"><a class="zola-anchor" href="#beans" aria-label="Anchor link for: beans">ðŸ”—</a><code>beans</code></h2>
<p>An xml configuration file is, of cource, a regular xml file with a top-level <code>&lt;beans /&gt;</code> element and some springframework specific definitions.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span style="color:#fdf4c1aa;">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span style="color:#fdf4c1aa;">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
</span><span style="color:#fdf4c1aa;">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;
</span><span style="color:#fdf4c1aa;">&lt;/beans&gt;
</span></pre><h2 id="bean"><a class="zola-anchor" href="#bean" aria-label="Anchor link for: bean">ðŸ”—</a><code>bean</code></h2>
<p>An xml file consists of at least one bean definition through <code>&lt;bean /&gt;</code> element inside a top-level <code>&lt;beans /&gt;</code> element.  A <code>&lt;bean /&gt;</code> element represents a bean object; a bean object can be anything whatever you want it to be: a service layer object, a data access object (DAO), a presentation object and so forth, only if it is a standard BEAN object.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span style="color:#fdf4c1aa;">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span style="color:#fdf4c1aa;">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
</span><span style="color:#fdf4c1aa;">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

</span><span style="color:#fdf4c1aa;">    &lt;bean id=&quot;aSerice&quot; class=&quot;me.wbprime.java.MySerice&quot; /&gt;
</span><span style="color:#fdf4c1aa;">    &lt;bean id=&quot;aDao&quot; class=&quot;me.wbprime.java.MyDAO&quot; /&gt;
</span><span style="color:#fdf4c1aa;">    &lt;bean id=&quot;aAction&quot; class=&quot;me.wbprime.java.MyAction&quot; /&gt;
</span><span style="color:#fdf4c1aa;">    &lt;bean id=&quot;aSession&quot; class=&quot;me.wbprime.java.MySession&quot; /&gt;

</span><span style="color:#fdf4c1aa;">    &lt;!-- more bean definitions go here --&gt;

</span><span style="color:#fdf4c1aa;">&lt;/beans&gt;
</span></pre><h2 id="alias"><a class="zola-anchor" href="#alias" aria-label="Anchor link for: alias">ðŸ”—</a><code>alias</code></h2>
<p>Spring supports alias for a bean which is valid in the <code>ApplicationContext</code> scope.</p>
<p>In file <code>a.xml</code>:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span style="color:#fdf4c1aa;">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span style="color:#fdf4c1aa;">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
</span><span style="color:#fdf4c1aa;">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

</span><span style="color:#fdf4c1aa;">    &lt;alias name=&quot;appService&quot; alias=&quot;b-serice&quot;/&gt;
</span><span style="color:#fdf4c1aa;">&lt;/beans&gt;
</span></pre>
<p>In file <code>b.xml</code>:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span style="color:#fdf4c1aa;">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span style="color:#fdf4c1aa;">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
</span><span style="color:#fdf4c1aa;">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

</span><span style="color:#fdf4c1aa;">    &lt;alias name=&quot;appService&quot; alias=&quot;b-serice&quot;/&gt;
</span><span style="color:#fdf4c1aa;">&lt;/beans&gt;
</span></pre>
<p>In file <code>app.xml</code>:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span style="color:#fdf4c1aa;">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span style="color:#fdf4c1aa;">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
</span><span style="color:#fdf4c1aa;">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

</span><span style="color:#fdf4c1aa;">    &lt;alias name=&quot;appService&quot; alias=&quot;app-serice&quot;/&gt;

</span><span style="color:#fdf4c1aa;">    &lt;bean id=&quot;appSerice&quot; class=&quot;me.wbprime.java.MySerice&quot; /&gt;
</span><span style="color:#fdf4c1aa;">    &lt;bean id=&quot;appDao&quot; class=&quot;me.wbprime.java.MyDAO&quot; /&gt;
</span><span style="color:#fdf4c1aa;">    &lt;bean id=&quot;appAction&quot; class=&quot;me.wbprime.java.MyAction&quot; /&gt;
</span><span style="color:#fdf4c1aa;">    &lt;bean id=&quot;appSession&quot; class=&quot;me.wbprime.java.MySession&quot; /&gt;
</span><span style="color:#fdf4c1aa;">&lt;/beans&gt;
</span></pre><h2 id="import"><a class="zola-anchor" href="#import" aria-label="Anchor link for: import">ðŸ”—</a><code>import</code></h2>
<p>It can be useful to have bean definitions span multiple XML files. Often each individual XML configuration file represents a logical layer or module in your architecture.</p>
<p>In file <code>app.xml</code>:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span><span style="color:#fdf4c1aa;">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span style="color:#fdf4c1aa;">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
</span><span style="color:#fdf4c1aa;">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;

</span><span style="color:#fdf4c1aa;">    &lt;import resource=&quot;a.xml&quot;/&gt;
</span><span style="color:#fdf4c1aa;">    &lt;import resource=&quot;resources/b.xml&quot;/&gt;
</span><span style="color:#fdf4c1aa;">    &lt;import resource=&quot;/resources/c.xml&quot;/&gt;
</span><span style="color:#fdf4c1aa;">&lt;/beans&gt;
</span></pre>
<p>Thus loading <code>app.xml</code> means loading configuration data from three files: <code>a.xml</code>, <code>b.xml</code> and <code>c.xml</code>.  As a implicit constraint, pathes of all files being imported must be given relative to the file doing the import.  So <code>a.xml</code> must be in the same directory or classpath location as <code>app.xml</code>, while <code>b.xml</code> and <code>c.xml</code> must be in <code>resources</code> sub-directory of the importing file.  Also a leading slash is ignored.</p>
<p>Note that the contents of the files being imported, including the top level <beans/> element, must be valid XML bean definitions according to the Spring Schema.</p>
<h1 id="bean-configuration"><a class="zola-anchor" href="#bean-configuration" aria-label="Anchor link for: bean-configuration">ðŸ”—</a>Bean Configuration</h1>
<p>Spring container manages one or more beans by <code>&lt;bean /&gt;</code> definitions.  A <code>&lt;bean /&gt;</code> element can provide the following metadata for a target <code>Bean</code> object:</p>
<ul>
<li>a full-qualified class name</li>
<li>object scope</li>
<li>object lifecycle behavior</li>
<li>properties being injected, including plain values and references, also called <em>collaborators</em> or <em>dependencies</em></li>
<li>other configuration</li>
</ul>
<h2 id="name"><a class="zola-anchor" href="#name" aria-label="Anchor link for: name">ðŸ”—</a>Name</h2>
<p>In Spring, every bean should have one or more identifiers.  These identifiers must be unique within the container that hosts the bean.</p>
<p>In a <code>&lt;bean /&gt;</code> element, an identifier can be specified by an <code>id</code> attribute.  Note that <code>id</code> uniqueness is enforced by the container.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;unique id&quot; ... /&gt;
</span></pre>
<p>Also you can use a <code>name</code> attribute.  Interestingly, you can specify more than one identifiers in <code>name</code> attribute, treated as aliases, separated by a comma (<code>,</code>), a semicolon (<code>;</code>) or white space(s).</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;beans name=&quot;id1,id2,id3&quot; ... /&gt;
</span><span style="color:#fdf4c1aa;">&lt;beans name=&quot;id1;id2;id3&quot; ... /&gt;
</span><span style="color:#fdf4c1aa;">&lt;beans name=&quot;id1 id2 id3&quot; ... /&gt;
</span></pre>
<p>If neither <code>id</code> nor <code>name</code> sttribute are explicitly given, Spring would generate a unique identifier for that bean.  However this bean can not be referenced by other beans.</p>
<h2 id="class"><a class="zola-anchor" href="#class" aria-label="Anchor link for: class">ðŸ”—</a>Class</h2>
<p>The object type is specified by <code>class</code> attribute for a bean.  The <code>class</code> attribute can be used in 2 ways:</p>
<ul>
<li>
<p>when specifying a static factory method, <code>class</code> attribute must match the calss type containning the static factory method.</p>
</li>
<li>
<p>when not specified, <code>class</code> attribute must match the return type of <code>new</code> operator.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">  &lt;bean class=&quot;ClassA&quot; ... /&gt;
</span></pre></li>
</ul>
<h2 id="instantiating-a-bean"><a class="zola-anchor" href="#instantiating-a-bean" aria-label="Anchor link for: instantiating-a-bean">ðŸ”—</a>Instantiating a Bean</h2>
<p>Spring provides 3 ways to instantiating a bean.</p>
<ol>
<li>
<p>using a constructor.</p>
<p>If you got a class with default constructor which has no parameters, you can simply specify the <code>class</code> attribute.</p>
<p>If you got a class without a default constructor, you can add a <code>class</code> attribute and then provide additional <code>constructor-arg</code> sub-elements.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean id=&quot;exampleBean&quot; class=&quot;me.wbprime.java.ExampleBean&quot; &gt;
</span><span style="color:#fdf4c1aa;">     &lt;constructor-arg value=&quot;some value&quot; /&gt;
</span><span style="color:#fdf4c1aa;"> &lt;/bean&gt;
</span></pre>
<p>If your constructor have more than one parameters, for example, class <code>ExampleBean</code>:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> package me.wbprime.java

</span><span style="color:#fdf4c1aa;"> public class ExampleBean {
</span><span style="color:#fdf4c1aa;">     private int _age;
</span><span style="color:#fdf4c1aa;">     private String _name;

</span><span style="color:#fdf4c1aa;">     public ExampleBean(int age, String name) {
</span><span style="color:#fdf4c1aa;">         this._age = age;
</span><span style="color:#fdf4c1aa;">         this._name = name;
</span><span style="color:#fdf4c1aa;">     }
</span><span style="color:#fdf4c1aa;"> }
</span></pre>
<p>You can specify the parameter type:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean id=&quot;exampleBean&quot; class=&quot;me.wbprime.java.ExampleBean&quot; &gt;
</span><span style="color:#fdf4c1aa;">     &lt;constructor-arg type=&quot;int&quot; value=&quot;26&quot; /&gt;
</span><span style="color:#fdf4c1aa;">     &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;Elvis Wang&quot; /&gt;
</span><span style="color:#fdf4c1aa;"> &lt;/bean&gt;
</span></pre>
<p>Or you can specify the parameter position:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean id=&quot;exampleBean&quot; class=&quot;me.wbprime.java.ExampleBean&quot; &gt;
</span><span style="color:#fdf4c1aa;">     &lt;constructor-arg index=&quot;0&quot; value=&quot;26&quot; /&gt;
</span><span style="color:#fdf4c1aa;">     &lt;constructor-arg index=&quot;1&quot; value=&quot;Elvis Wang&quot; /&gt;
</span><span style="color:#fdf4c1aa;"> &lt;/bean&gt;
</span></pre>
<p>Or you can use parameter names:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean id=&quot;exampleBean&quot; class=&quot;me.wbprime.java.ExampleBean&quot; &gt;
</span><span style="color:#fdf4c1aa;">     &lt;constructor-arg name=&quot;age&quot; value=&quot;26&quot; /&gt;
</span><span style="color:#fdf4c1aa;">     &lt;constructor-arg name=&quot;name&quot; value=&quot;Elvis Wang&quot; /&gt;
</span><span style="color:#fdf4c1aa;"> &lt;/bean&gt;
</span></pre>
<p>Keep in mind that to make this work out of the box your code must be compiled with the debug flag enabled so that Spring can look up the parameter name from the constructor.</p>
</li>
<li>
<p>using a static factory method</p>
<p>You may want to implement your <code>Factory method</code> pattern, by using a static factory method.  Of cource you can make your work together with Spring.  In such case, you need a <code>class</code> attribute which contains the static factory method as is discussed right before.  Then you need a new attribute named <code>factory-method</code>.</p>
<p>For example:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> package me.wbprime.java

</span><span style="color:#fdf4c1aa;"> public class ExampleFactory {
</span><span style="color:#fdf4c1aa;">     private static ExampleBean aBean = new ExampleBean();
</span><span style="color:#fdf4c1aa;">     private ExampleFactory() {}

</span><span style="color:#fdf4c1aa;">     public static ExampleBean createBean() {
</span><span style="color:#fdf4c1aa;">         return aBean;
</span><span style="color:#fdf4c1aa;">     }
</span><span style="color:#fdf4c1aa;"> }
</span></pre>
<p>You can add a <code>&lt;bean /&gt;</code> like this:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean id=&quot;aaBean&quot;
</span><span style="color:#fdf4c1aa;">     class=&quot;me.wbprime.java.ExampleFactory&quot;
</span><span style="color:#fdf4c1aa;">     factory-method=&quot;createBean&quot;/&gt;
</span></pre>
<p>The definition does not specify the return type.</p>
</li>
<li>
<p>using a non-static factory method</p>
<p>Similar to a static factory method, instance factory method is also supported by Spring.  All you need to do is to leave the <code>class</code> attribute empty, set the <code>factory-bean</code> attribute to the bean reference containning the factory method, set the <code>factory-method</code> attribute to the name of the factory method.</p>
<p>Example:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">     package me.wbprime.java

</span><span style="color:#fdf4c1aa;">     public class ExampleFactory {
</span><span style="color:#fdf4c1aa;">         public ExampleFactory() {}

</span><span style="color:#fdf4c1aa;">         public ExampleBean createBeanA() {
</span><span style="color:#fdf4c1aa;">             return new BeanA;
</span><span style="color:#fdf4c1aa;">         }

</span><span style="color:#fdf4c1aa;">         public ExampleBean createBeanB() {
</span><span style="color:#fdf4c1aa;">             return new BeanB;
</span><span style="color:#fdf4c1aa;">         }
</span><span style="color:#fdf4c1aa;">     }
</span></pre>
<p>Configuration in xml file:</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> ...

</span><span style="color:#fdf4c1aa;"> &lt;bean id=&quot;aFactory&quot; class=&quot;ExampleFactory&quot; /&gt;
</span><span style="color:#fdf4c1aa;"> &lt;bean id=&quot;aBean&quot; factory-bean=&quot;aFactory&quot; factory-method=&quot;createBeanA&quot; /&gt;
</span><span style="color:#fdf4c1aa;"> &lt;bean id=&quot;bBean&quot; factory-bean=&quot;aFactory&quot; factory-method=&quot;createBeanB&quot; /&gt;

</span><span style="color:#fdf4c1aa;"> ...
</span></pre>
<p>Note that a <code>factory-bean</code> can have more than one factory method, and the return type is not specified.</p>
</li>
</ol>
<h2 id="scope"><a class="zola-anchor" href="#scope" aria-label="Anchor link for: scope">ðŸ”—</a>Scope</h2>
<p>You can control the bean scope by specifying an additional <code>scope</code> attribute to your <code>&lt;bean /&gt;</code> element.  The Spring Framework supports six scopes out of box, four of which are web-aware.</p>
<table><thead><tr><th>Scope</th><th>Description</th></tr></thead><tbody>
<tr><td>singleton</td><td>(Default) Scopes a single bean definition to a single object instance per Spring IoC container.</td></tr>
<tr><td>prototype</td><td>Scopes a single bean definition to any number of object instances.</td></tr>
<tr><td>request</td><td>Scopes a single bean definition to the lifecycle of a single HTTP request. Web-aware.</td></tr>
<tr><td>session</td><td>Scopes a single bean definition to the lifecycle of an HTTP Session. Web-aware.</td></tr>
<tr><td>global session</td><td>Scopes a single bean definition to the lifecycle of a global HTTP Session. Web-aware.</td></tr>
<tr><td>application</td><td>Scopes a single bean definition to the lifecycle of a ServletContext. Web-aware.</td></tr>
</tbody></table>
<h3 id="singleton"><a class="zola-anchor" href="#singleton" aria-label="Anchor link for: singleton">ðŸ”—</a><code>singleton</code></h3>
<p>The Spring container creates only one instance of that object if you specify singleton scope to a bean by adding a <code>scope</code> attribute.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;demo1&quot; class=&quot;Demo1&quot; scope=&quot;singleton&quot; /&gt;
</span></pre>
<p>Note that this is the default value for <code>scope</code> attribute, if not specified explicitly.</p>
<h3 id="prototype"><a class="zola-anchor" href="#prototype" aria-label="Anchor link for: prototype">ðŸ”—</a><code>prototype</code></h3>
<p>In contrast to singleton, prototype scope means that the Spring container creates an instance each time a request for that bean is made. As a rule, use the prototype scope for all stateful beans and the singleton scope for stateless beans.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;demo2&quot; class=&quot;Demo2&quot; scope=&quot;prototype&quot; /&gt;
</span></pre>
<p>If you use a singleton-scoped bean which referenced a prototype-scoped bean, all dependencies are injected at instantiation time and injected once.</p>
<h3 id="request-session-and-global-session"><a class="zola-anchor" href="#request-session-and-global-session" aria-label="Anchor link for: request-session-and-global-session">ðŸ”—</a><code>request</code>, <code>session</code> and <code>global session</code></h3>
<p>The request, session, and global session scopes are web-aware (using <code>ApplicationContext</code> such as <code>XmlWebApplicationContext</code>). If you use these scopes with regular <code>ApplicationContext</code> such as the <code>ClassPathXmlApplicationContext</code>, you get an <code>IllegalStateException</code> complaining about an unknown bean scope.</p>
<h3 id="application"><a class="zola-anchor" href="#application" aria-label="Anchor link for: application">ðŸ”—</a><code>application</code></h3>
<p>The application scope is similar to singleton for a entire web application, but differs in 2 ways: It is a singleton per <code>ServletContext</code>, not per Spring <code>ApplicationContext</code>, and it is actually exposed and therefore visible as a <code>ServletContext</code> attribute.</p>
<h3 id="custom-scope"><a class="zola-anchor" href="#custom-scope" aria-label="Anchor link for: custom-scope">ðŸ”—</a>Custom Scope</h3>
<p>To do.</p>
<h2 id="lazy-initializing"><a class="zola-anchor" href="#lazy-initializing" aria-label="Anchor link for: lazy-initializing">ðŸ”—</a>Lazy-initializing</h2>
<p>By default, the Spring container creates and configures all singleton dependencies when initializing a bean.  If this behavior is not desirable, you can set lazy initializing mode for a bean.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;lazyBean&quot; class=&quot;LazyBean&quot; lazy-init=&quot;true&quot; /&gt;
</span></pre>
<p>Now <code>lazyBean</code> bean will not be pre-instantiated when the Spring container is starting up.  However, if a lazy-initialized bean is referenced by another singleton bean that is not lazy-initialized, the lazy-initialized bean will still be created and initialized when starting up.</p>
<h2 id="lifecycle-callbacks"><a class="zola-anchor" href="#lifecycle-callbacks" aria-label="Anchor link for: lifecycle-callbacks">ðŸ”—</a>Lifecycle Callbacks</h2>
<h3 id="init-method"><a class="zola-anchor" href="#init-method" aria-label="Anchor link for: init-method">ðŸ”—</a><code>init-method</code></h3>
<p>The Spring provides <code>init-method</code> attribute to allow a bean performing initialization work after instantiating and all necessary properties been set.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;exampleBean&quot; class=&quot;examples.ExampleBean&quot; init-method=&quot;init&quot;/&gt;
</span></pre>
<p><code>init</code> is a name of method in <code>examples.ExampleBean</code> with a <code>public void init() {..}</code> like implementation.</p>
<h3 id="destroy-method"><a class="zola-anchor" href="#destroy-method" aria-label="Anchor link for: destroy-method">ðŸ”—</a><code>destroy-method</code></h3>
<p>The Spring provides <code>destroy-method</code> attribute to allow a bean performing cleaning up work before destroyed.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;exampleBean&quot; class=&quot;examples.ExampleBean&quot; destroy-method=&quot;cleanup&quot;/&gt;
</span></pre>
<p><code>cleanup</code> is a name of method in <code>examples.ExampleBean</code> with a <code>public void cleanup() {...}</code> like implementation.</p>
<h3 id="default-init-destroy-method"><a class="zola-anchor" href="#default-init-destroy-method" aria-label="Anchor link for: default-init-destroy-method">ðŸ”—</a>Default <code>init/destroy</code> Method</h3>
<p>The fact is that init methods in your project keep the same name such as <code>init()</code>, <code>initialize()</code> and so on.  Adding it to each bean seems stupid.  To avoid this, you can set <code>default-init-method</code> attribute for <code>beans</code> element.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;beans default-init-method=&quot;init&quot;/&gt;
</span></pre>
<p>Similarly, you can set <code>default-destroy-method</code> attribute for destroy methods.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;beans default-destroy-method=&quot;destroy&quot;/&gt;
</span></pre>
<p>The <code>init-method</code>/<code>destroy-method</code> attribute for <code>bean</code> element will override the default values set to <code>beans</code>.</p>
<h2 id="dependency-injection"><a class="zola-anchor" href="#dependency-injection" aria-label="Anchor link for: dependency-injection">ðŸ”—</a>Dependency Injection</h2>
<p>Dependency injection (DI) is a process that bean objects define their dependencies, while the dependencies are handled by the container.  DI can be fulfilled by 1) interface, 2) constructor and 3) setters.</p>
<p>The Spring provides support for constructor-based DI and setter-based DI.</p>
<h3 id="constructor-based-di"><a class="zola-anchor" href="#constructor-based-di" aria-label="Anchor link for: constructor-based-di">ðŸ”—</a>Constructor-based DI</h3>
<p>This applies to constructor and factory method based bean instantiation process.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;bBean&quot; ... &gt;
</span><span style="color:#fdf4c1aa;">    &lt;constructor-arg value=&quot;lalala&quot; /&gt; &lt;!-- auto detecting --&gt;
</span><span style="color:#fdf4c1aa;">    &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;lalala&quot; /&gt; &lt;!-- using type detecting --&gt;
</span><span style="color:#fdf4c1aa;">    &lt;constructor-arg index=&quot;0&quot; value=&quot;lalala&quot; /&gt; &lt;!-- using index detecting --&gt;
</span><span style="color:#fdf4c1aa;">    &lt;constructor-arg name=&quot;info&quot; value=&quot;lalala&quot; /&gt; &lt;!-- using name detecting --&gt;
</span><span style="color:#fdf4c1aa;">&lt;/bean&gt;
</span></pre><h3 id="setter-based-di"><a class="zola-anchor" href="#setter-based-di" aria-label="Anchor link for: setter-based-di">ðŸ”—</a>Setter-based DI</h3>
<p>Setter-based DI applies to beans being instantiated.</p>
<p>Setter-based DI can be done via <code>property</code> sub-element.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;exampleBean&quot; class=&quot;examples.ExampleBean&quot;&gt;
</span><span style="color:#fdf4c1aa;">    &lt;property name=&quot;prop1&quot;&gt;
</span><span style="color:#fdf4c1aa;">        &lt;ref bean=&quot;anotherExampleBean&quot;/&gt;
</span><span style="color:#fdf4c1aa;">    &lt;/property&gt;

</span><span style="color:#fdf4c1aa;">    &lt;property name=&quot;prop2&quot; ref=&quot;yetAnotherBean&quot;/&gt;
</span><span style="color:#fdf4c1aa;">    &lt;property name=&quot;prop3&quot; value=&quot;1&quot;/&gt;
</span><span style="color:#fdf4c1aa;">&lt;/bean&gt;
</span></pre><h3 id="di-values"><a class="zola-anchor" href="#di-values" aria-label="Anchor link for: di-values">ðŸ”—</a>DI Values</h3>
<p>The Spring supports constructor-based DI via <code>&lt;constructor-arg /&gt;</code> element and setter-based DI via <code>&lt;property /&gt;</code> element.  Values for these two elements can be specified inline (via attribute) or via sub element.  And values can be Java primitives (int, boolean and so on), String (java.lang.String) and reference to other beans.</p>
<ol>
<li>
<p>straight values</p>
<p>Java primitives and String values can be setted using <code>value</code> attribute or <code>value</code> element.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean id=&quot;exampleBean&quot; class=&quot;examples.ExampleBean&quot;&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;prop1&quot; value=&quot;1&quot;/&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;prop2&quot;&gt;
</span><span style="color:#fdf4c1aa;">         &lt;value&gt;1&lt;/value&gt;
</span><span style="color:#fdf4c1aa;">     &lt;/property&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;prop3&quot; value=&quot;My name&quot;/&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;prop4&quot;&gt;
</span><span style="color:#fdf4c1aa;">         &lt;value&gt;My name&lt;/value&gt;
</span><span style="color:#fdf4c1aa;">     &lt;/property&gt;
</span><span style="color:#fdf4c1aa;"> &lt;/bean&gt;
</span></pre></li>
<li>
<p>bean reference</p>
<p>References to other beans can be setted using <code>ref</code> attribute or <code>ref</code> element.  You can specify each of <code>bean</code>, <code>local</code> and <code>parent</code> attributes to <code>ref</code> element.</p>
<p>Specifying the target bean through the <code>bean</code> attribute of the <code>&lt;ref/&gt;</code> tag is the most general form, and allows creation of a reference to any bean in the same container or parent container, regardless of whether it is in the same XML file. The value of the <code>bean</code> attribute may be the same as the <code>id</code> attribute of the target bean, or as one of the values in the <code>name</code> attribute of the target bean.</p>
<p>Specifying the target bean through the <code>parent</code> attribute creates a reference to a bean that is in a parent container of the current container. The value of the <code>parent</code> attribute may be the same as either the <code>id</code> attribute of the target bean, or one of the values in the <code>name</code> attribute of the target bean, and the target bean must be in a parent container of the current one. You use this bean reference variant mainly when you have a hierarchy of containers and you want to wrap an existing bean in a parent container with a proxy that will have the same name as the parent bean.</p>
<p>The <code>local</code> attribute on the <code>ref</code> element is no longer supported in the 4.0 beans xsd since it does not provide value over a regular bean reference any more.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean id=&quot;exampleBean&quot; class=&quot;examples.ExampleBean&quot;&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;prop1&quot; ref=&quot;aBean&quot;/&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;prop2&quot;&gt;
</span><span style="color:#fdf4c1aa;">         &lt;ref bean=&quot;aBean&quot; /&gt;
</span><span style="color:#fdf4c1aa;">     &lt;/property&gt;
</span><span style="color:#fdf4c1aa;"> &lt;/bean&gt;
</span></pre></li>
<li>
<p>inner beans</p>
<p>A <code>&lt;bean/&gt;</code> element inside the <code>&lt;property/&gt;</code> or <code>&lt;constructor-arg/&gt;</code> elements defines a inner bean. An inner bean definition does not require a defined id or name; the container ignores these values. It also ignores the scope flag. Inner beans are always anonymous and they are always created with the outer bean. It is not possible to inject inner beans into collaborating beans other than into the enclosing bean.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean id=&quot;outer&quot; class=&quot;...&quot;&gt;
</span><span style="color:#fdf4c1aa;">     &lt;!-- instead of using a reference to a target bean, simply define the target bean inline --&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;target&quot;&gt;
</span><span style="color:#fdf4c1aa;">         &lt;bean class=&quot;com.example.Person&quot;&gt; &lt;!-- this is the inner bean --&gt;
</span><span style="color:#fdf4c1aa;">             &lt;property name=&quot;name&quot; value=&quot;Fiona Apple&quot;/&gt;
</span><span style="color:#fdf4c1aa;">             &lt;property name=&quot;age&quot; value=&quot;25&quot;/&gt;
</span><span style="color:#fdf4c1aa;">         &lt;/bean&gt;
</span><span style="color:#fdf4c1aa;">     &lt;/property&gt;
</span><span style="color:#fdf4c1aa;"> &lt;/bean&gt;
</span></pre></li>
<li>
<p>collections</p>
<p>You can set values of Java collection types <code>List</code>, <code>Set</code>, <code>Map</code> and <code>Properties</code> via <code>&lt;list /&gt;</code>, <code>&lt;set /&gt;</code>, <code>&lt;map /&gt;</code> and <code>&lt;props /&gt;</code> elements respectively.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean id=&quot;moreComplexObject&quot; class=&quot;example.ComplexObject&quot;&gt;
</span><span style="color:#fdf4c1aa;">     &lt;!-- results in a setAdminEmails(java.util.Properties) call --&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;adminEmails&quot;&gt;
</span><span style="color:#fdf4c1aa;">         &lt;props&gt;
</span><span style="color:#fdf4c1aa;">             &lt;prop key=&quot;administrator&quot;&gt;administrator@example.org&lt;/prop&gt;
</span><span style="color:#fdf4c1aa;">             &lt;prop key=&quot;support&quot;&gt;support@example.org&lt;/prop&gt;
</span><span style="color:#fdf4c1aa;">             &lt;prop key=&quot;development&quot;&gt;development@example.org&lt;/prop&gt;
</span><span style="color:#fdf4c1aa;">         &lt;/props&gt;
</span><span style="color:#fdf4c1aa;">     &lt;/property&gt;
</span><span style="color:#fdf4c1aa;">     &lt;!-- results in a setSomeList(java.util.List) call --&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;someList&quot;&gt;
</span><span style="color:#fdf4c1aa;">         &lt;list&gt;
</span><span style="color:#fdf4c1aa;">             &lt;value&gt;a list element followed by a reference&lt;/value&gt;
</span><span style="color:#fdf4c1aa;">             &lt;ref bean=&quot;myDataSource&quot; /&gt;
</span><span style="color:#fdf4c1aa;">         &lt;/list&gt;
</span><span style="color:#fdf4c1aa;">     &lt;/property&gt;
</span><span style="color:#fdf4c1aa;">     &lt;!-- results in a setSomeMap(java.util.Map) call --&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;someMap&quot;&gt;
</span><span style="color:#fdf4c1aa;">         &lt;map&gt;
</span><span style="color:#fdf4c1aa;">             &lt;entry key=&quot;an entry&quot; value=&quot;just some string&quot;/&gt;
</span><span style="color:#fdf4c1aa;">             &lt;entry key =&quot;a ref&quot; value-ref=&quot;myDataSource&quot;/&gt;
</span><span style="color:#fdf4c1aa;">         &lt;/map&gt;
</span><span style="color:#fdf4c1aa;">     &lt;/property&gt;
</span><span style="color:#fdf4c1aa;">     &lt;!-- results in a setSomeSet(java.util.Set) call --&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;someSet&quot;&gt;
</span><span style="color:#fdf4c1aa;">         &lt;set&gt;
</span><span style="color:#fdf4c1aa;">             &lt;value&gt;just some string&lt;/value&gt;
</span><span style="color:#fdf4c1aa;">             &lt;ref bean=&quot;myDataSource&quot; /&gt;
</span><span style="color:#fdf4c1aa;">         &lt;/set&gt;
</span><span style="color:#fdf4c1aa;">     &lt;/property&gt;
</span><span style="color:#fdf4c1aa;"> &lt;/bean&gt;
</span></pre></li>
<li>
<p>null</p>
<p>Using <code>&lt;null /&gt;</code> element to set Java <code>null</code> value.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;"> &lt;bean class=&quot;ExampleBean&quot;&gt;
</span><span style="color:#fdf4c1aa;">     &lt;property name=&quot;email&quot;&gt;
</span><span style="color:#fdf4c1aa;">         &lt;null/&gt;
</span><span style="color:#fdf4c1aa;">     &lt;/property&gt;
</span><span style="color:#fdf4c1aa;"> &lt;/bean&gt;
</span></pre></li>
</ol>
<h3 id="p-namespace"><a class="zola-anchor" href="#p-namespace" aria-label="Anchor link for: p-namespace">ðŸ”—</a><code>p-namespace</code></h3>
<p>The Spring p-namespace (property namespace ?) is introduced to describe straight values and bean references as a shorcut/replacement for <code>&lt;property /&gt;</code> element.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
</span><span style="color:#fdf4c1aa;">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
</span><span style="color:#fdf4c1aa;">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;
</span></pre>
<p>Typically</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean name=&quot;pnamespaceBean&quot; class=&quot;com.example.ExampleBean&quot;
</span><span style="color:#fdf4c1aa;">    p:email=&quot;foo@bar.com&quot;/&gt;
</span></pre>
<p>is the same as</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean name=&quot;classicBean&quot; class=&quot;com.example.ExampleBean&quot;&gt;
</span><span style="color:#fdf4c1aa;">    &lt;property name=&quot;email&quot; value=&quot;foo@bar.com&quot;/&gt;
</span><span style="color:#fdf4c1aa;">&lt;/bean&gt;
</span></pre>
<p>And also</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean name=&quot;pnamespaceStudent&quot;
</span><span style="color:#fdf4c1aa;">    class=&quot;com.example.Student&quot;
</span><span style="color:#fdf4c1aa;">    p:teacher-ref=&quot;jane&quot;/&gt;
</span></pre>
<p>is the same as</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean name=&quot;classicStudent&quot; class=&quot;com.example.Student&quot;&gt;
</span><span style="color:#fdf4c1aa;">    &lt;property name=&quot;teacher&quot; ref=&quot;jane&quot;/&gt;
</span><span style="color:#fdf4c1aa;">&lt;/bean&gt;
</span></pre>
<p>Spring p-namespace provide inline attribute for <code>&lt;property /&gt;</code> element, using <code>p:PROPERRY</code> to set straight values and <code>p:PROPERTY-ref</code> to set bean references, of which <code>PROPERTY</code> is the actual property name.</p>
<h3 id="c-namespace"><a class="zola-anchor" href="#c-namespace" aria-label="Anchor link for: c-namespace">ðŸ”—</a><code>c-namespace</code></h3>
<p>The Spring c-namespace (constructor namespace ?) is introduced to describe straight values and bean references as a shorcut/replacement for <code>&lt;constructor-arg /&gt;</code> element.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
</span><span style="color:#fdf4c1aa;">    xmlns:c=&quot;http://www.springframework.org/schema/c&quot;
</span><span style="color:#fdf4c1aa;">    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
</span><span style="color:#fdf4c1aa;">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;
</span></pre>
<p>Typically</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean name=&quot;cnamespaceBean&quot; class=&quot;com.example.ExampleBean&quot;
</span><span style="color:#fdf4c1aa;">    c:email=&quot;foo@bar.com&quot;/&gt;
</span></pre>
<p>is the same as</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean name=&quot;classicBean&quot; class=&quot;com.example.ExampleBean&quot;&gt;
</span><span style="color:#fdf4c1aa;">    &lt;constraint-arg name=&quot;email&quot; value=&quot;foo@bar.com&quot;/&gt;
</span><span style="color:#fdf4c1aa;">&lt;/bean&gt;
</span></pre>
<p>And also</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean name=&quot;cnamespaceStudent&quot;
</span><span style="color:#fdf4c1aa;">    class=&quot;com.example.Student&quot;
</span><span style="color:#fdf4c1aa;">    c:teacher-ref=&quot;jane&quot;/&gt;
</span></pre>
<p>is the same as</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean name=&quot;classicStudent&quot; class=&quot;com.example.Student&quot;&gt;
</span><span style="color:#fdf4c1aa;">    &lt;constructor-arg name=&quot;teacher&quot; ref=&quot;jane&quot;/&gt;
</span><span style="color:#fdf4c1aa;">&lt;/bean&gt;
</span></pre>
<p>Of course the name of constructor parameters should be available (compiled with debug information).  If this is not the case, you can use index position based version.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;foo&quot; class=&quot;Foo&quot; c:_0=&quot;foo@bar.com&quot; c:_1-ref=&quot;jane&quot;/&gt;
</span></pre><h3 id="compound-property"><a class="zola-anchor" href="#compound-property" aria-label="Anchor link for: compound-property">ðŸ”—</a>Compound Property</h3>
<p>You can use compound property to simplify property injection.</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean id=&quot;foo&quot; class=&quot;foo.Bar&quot;&gt;
</span><span style="color:#fdf4c1aa;">    &lt;property name=&quot;fred.bob.sammy&quot; value=&quot;123&quot; /&gt;
</span><span style="color:#fdf4c1aa;">&lt;/bean&gt;
</span></pre>
<p>will call <code>foo.getFred().getBob().setSammy(&quot;123&quot;)</code> equally.  In order for this to work, the fred property of foo, and the bob property of fred must not be null after the bean is constructed, or a NullPointerException is thrown.</p>
<h2 id="autowiring"><a class="zola-anchor" href="#autowiring" aria-label="Anchor link for: autowiring">ðŸ”—</a>Autowiring</h2>
<p>Autowiring is such a feature that the container manages the relationship between a bean and its implicit collaborating beans and resolves the dependencies automatically.  Within the Spring autowiring decrease your work significantly specifying properties/constructor-args and helps when your project evolves and bean dependencies changes slightly.  To be brief, autowiring moves additional work to the Spring container to detect bean dependencies which needs explicit to be done by you programmers.</p>
<p>The Spring supports 4 kinds of autowiring modes:</p>
<ul>
<li><code>no</code> autowiring.  (Default) No autowiring means all dependencies must be specified explicitely.</li>
<li><code>byName</code> autowiring.  Autowiring is done by property name.</li>
<li><code>byType</code> autowiring.  Autowiring is done by property type.  Note that if more than one beans for target type exists, a fatal exception is thrown.</li>
<li><code>constructor</code> autowiring.  Autowiring is done by constructor-arg type, similar to <code>byType</code> for property.</li>
</ul>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">&lt;bean ... autowire=&quot;byName&quot; /&gt;
</span></pre>
<p>If you want to exclude a bean from the autowiring of another bean, you can:</p>
<ul>
<li>set <code>default-autowire-candidates</code> attribute for top level <code>&lt;beans /&gt;</code> element.  For example, <code>&lt;beans ... default-autowire-candidates=&quot;*DAO&quot; /&gt;</code> will exclude all beans in this element not matching <code>&quot;*DAO</code> pattern for autowiring.</li>
<li>set <code>autowire-candidates</code> attribute for target <code>&lt;bean /&gt;</code> element to <code>false</code>.</li>
</ul>
<p>The latter takes precedence.</p>
<p>Typically it is best practice to keep consistent across your project when using autowiring.</p>
<h1 id="summary"><a class="zola-anchor" href="#summary" aria-label="Anchor link for: summary">ðŸ”—</a>Summary</h1>
<p>XML based configuration is the traditional method to fulfill ths Spring IoC/DI and other features, and it is the best supported and documented.</p>
<p>Ths Spring also supports Annotation based configuration and Java based configuration.  Annotation based configuration is more convenient and simply in syntax; Java based configuration is implemented using Java classes.</p>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;spring&#x2F;">#spring</a>
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;java&#x2F;">#java</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;spring-at-first-glance&#x2F;">â€¹ Spring DI: At First Glance</a>
                    
                    
                        <a class="next" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;spring-annotation-based-configuration&#x2F;">Spring: Annotation based configuration â€º</a>
                    
                    
                    
                </div>
            

        

    </div>

    
    
</article>


                </div>
            </main>

            
            
        </div>

      
          <script type="text/javascript" src="https:&#x2F;&#x2F;www.wangbo.im&#x2F;even.js" ></script>
      
    </body>

</html>
