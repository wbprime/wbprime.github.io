

<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>wangboâ€™s blog - Value Class Generated by FreeBuilder</title>

      

      
          <script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
          
      

      
          <link rel="stylesheet" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;site.css">
          
      

      
      
    </head>

    <body>
        <div class="container">

            <div id="mobile-navbar" class="mobile-navbar">
              <div class="mobile-header-logo">
                <a href="/" class="logo">WB Prime</a>
              </div>
              <div class="mobile-navbar-icon icon-out">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wangbo.im&#x2F;categories">
                            Categories
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wangbo.im&#x2F;tags">
                            Tags
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;github.wangbo.im">
                            Github
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wangbo.im&#x2F;about">
                            About
                        </a>
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                <div class="logo"><a href="https:&#x2F;&#x2F;www.wangbo.im">WB Prime</a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="https://www.wangbo.im&#x2F;categories">
                                    Categories
                                </a>
                            </li>
                        
                            <li>
                                <a href="https://www.wangbo.im&#x2F;tags">
                                    Tags
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;github.wangbo.im">
                                    Github
                                </a>
                            </li>
                        
                            <li>
                                <a href="https://www.wangbo.im&#x2F;about">
                                    About
                                </a>
                            </li>
                        
                    </ul>
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    



<article class="post">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2019-09-30-freebuilder-usecases&#x2F;">Value Class Generated by FreeBuilder</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2019-09-30</span>
            
        </div>
    </header>

    <div class="post-content">
      <p><a href="https://freebuilder.inferred.org/" title="Automatic generation of the Builder pattern for Java">FreeBuilder</a> æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„åŸºäº JAVA <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/apt/" title="Annotation Processing Tool (apt)">æ³¨è§£å¤„ç†å™¨ APT (Annotation Processing Tool)</a> æŠ€æœ¯çš„æ•°æ®å®ä½“ç±»ç”Ÿæˆå™¨ï¼Œå¯ä»¥
é€šè¿‡ç®€å•çš„æ³¨è§£æ¥ç”Ÿæˆ Builder æ¨¡å¼çš„å®ä½“ç±»ã€‚<a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> æ˜¯å¦ä¸€ä¸ªéå¸¸å¥½ç”¨çš„åŸºäº <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/apt/" title="Annotation Processing Tool (apt)">APT</a> çš„ç±»åº“ï¼Œå‚è§ <a href="@/posts/2019-09-28-google-autovalue-usecases/index.md">Value Class Generated by Google AutoValue</a>ã€‚äºŒè€…çš„åŒºåˆ«åœ¨äºï¼š</p>
<ol>
<li><a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> æ ¹æ®å¼€å‘è€…æä¾›çš„ä¸€ä¸ª Builder æ¥å£æ¥å®ç°å…·ä½“çš„ Builder ç±»ï¼›<a href="https://freebuilder.inferred.org/" title="Automatic generation of the Builder pattern for Java">FreeBuilder</a> åˆ™å¯¹ç»™å®šçš„æ•°æ®å®ä½“ç±»ç”Ÿæˆç¬¦åˆå›ºå®šè§„åˆ™çš„ Builder ç±»ã€‚å‰è€…å¯ä»¥æ§åˆ¶ç”Ÿæˆçš„ Builder ç±»çš„æ–¹æ³•åˆ—è¡¨ï¼Œåè€…æ— æ³•æ§åˆ¶ç”Ÿæˆçš„ Builder ç±»çš„æ–¹æ³•åˆ—è¡¨ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ç»§æ‰¿ç”Ÿæˆçš„ Builder ç±»é™åˆ¶å¯¹å¤–æš´éœ²çš„æ–¹æ³•åˆ—è¡¨ã€‚</li>
<li><a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> éœ€è¦æ•°æ®å®ä½“ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼›<a href="https://freebuilder.inferred.org/" title="Automatic generation of the Builder pattern for Java">FreeBuilder</a> åˆ™åŒæ—¶æ”¯æŒæŠ½è±¡ç±»å’Œæ¥å£ã€‚</li>
</ol>
<p>è¯¦ç»†å¯¹æ¯”å¯ä»¥å‚è€ƒ <a href="https://github.com/inferred/FreeBuilder#alternatives">FreeBuilder
Alternatives</a> ã€‚</p>
<p><a name="continue-reading"></a></p>
<h1 id="maven-settings"><a class="zola-anchor" href="#maven-settings" aria-label="Anchor link for: maven-settings">ğŸ”—</a>
Maven Settings</h1>
<pre style="background-color:#282828;">
<span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.inferred</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">freebuilder</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${freebuilder_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">scope</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">provided</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">scope</span><span style="color:#83a598;">&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span></pre>
<p><code>freebuilder</code> ä¸­åŒæ—¶åŒ…å«äº†å®šä¹‰æ•°æ®å®ä½“ç±»æ—¶éœ€è¦çš„æ³¨è§£å’Œæ³¨è§£å¤„ç†å™¨å®ç°ã€‚</p>
<p>æˆªè‡³ 2019-09-30 æ—¥ï¼Œ <a href="https://freebuilder.inferred.org/" title="Automatic generation of the Builder pattern for Java">FreeBuilder</a> çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ <code>2.4.1</code> ã€‚</p>
<h1 id="abstract-class"><a class="zola-anchor" href="#abstract-class" aria-label="Anchor link for: abstract-class">ğŸ”—</a>
Abstract Class</h1>
<p>ä¸€ä¸ªåŸºæœ¬çš„æ•°æ®ç±»å¦‚ä¸‹ï¼š</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">@</span><span style="color:#fdf4c1;">FreeBuilder
</span><span style="color:#fa5c4b;">interface </span><span style="color:#8ec07c;">Task </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#8ec07c;">Long id</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#8ec07c;">String type</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#8ec07c;">String description</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">static </span><span style="color:#8ec07c;">Builder builder</span><span style="color:#fdf4c1aa;">() { </span><span style="color:#fa5c4b;">return new </span><span style="color:#8ec07c;">Builder</span><span style="color:#fdf4c1aa;">(); }
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">class </span><span style="color:#8ec07c;">Builder </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">Task_Builder </span><span style="color:#fdf4c1aa;">{ }
</span><span style="color:#fdf4c1aa;">}
</span></pre>
<p>ä¸Šè¿°æ˜¯æ‰€éœ€è¦çš„å…¨éƒ¨ä»£ç ã€‚å¦‚æœå€¾å‘äºä½¿ç”¨æŠ½è±¡ç±»çš„è¯ï¼Œå¯ä»¥æ¢æˆï¼š</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">@</span><span style="color:#fdf4c1;">FreeBuilder
</span><span style="color:#fa5c4b;">abstract class </span><span style="color:#8ec07c;">Task </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">abstract long </span><span style="color:#8ec07c;">getId</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">abstract </span><span style="color:#8ec07c;">String getType</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">abstract </span><span style="color:#8ec07c;">String getDescription</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">static </span><span style="color:#8ec07c;">Builder builder</span><span style="color:#fdf4c1aa;">() { </span><span style="color:#fa5c4b;">return new </span><span style="color:#8ec07c;">Builder</span><span style="color:#fdf4c1aa;">(); }
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">static class </span><span style="color:#8ec07c;">Builder </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">Task_Builder </span><span style="color:#fdf4c1aa;">{ }
</span><span style="color:#fdf4c1aa;">}
</span></pre>
<p>å®šä¹‰ä¸€ä¸ªæ•°æ®å®ä½“ç±»ï¼Œåªéœ€æä¾›ä¸€ä¸ªæ¥å£æˆ–æŠ½è±¡ç±»ï¼Œæ‰€éœ€å­—æ®µä»¥æ¥å£æ–¹æ³•/æŠ½è±¡æ–¹æ³•å£°æ˜å³å¯ï¼Œ<a href="https://freebuilder.inferred.org/" title="Automatic generation of the Builder pattern for Java">FreeBuilder</a> ä¼šé€šè¿‡ <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/apt/" title="Annotation Processing Tool (apt)">APT</a> ç”Ÿæˆä¸€ä¸ªåä¸º <code>Task_Builder</code> çš„ Builder ç±»å’Œä¸¤ä¸ªåˆ†åˆ«åä¸º <code>Task_Builder.Value</code> å’Œ <code>Task_Builder.Partial</code> çš„å®ç°ç±»ã€‚ä»¥ä¸Šç”Ÿæˆç±»çš„ç±»åæ˜¯ç”±å®ä½“ç±»åè‡ªåŠ¨ç”Ÿæˆçš„ã€‚</p>
<p>æ¯ä¸€ä¸ªæ¥å£æ–¹æ³•/æŠ½è±¡æ–¹æ³•ä¼šè¢« <a href="https://freebuilder.inferred.org/" title="Automatic generation of the Builder pattern for Java">FreeBuilder</a> æ ‡è®°ä¸ºä¸€ä¸ª <em>property</em> ï¼šå¦‚æœæ–¹æ³•åä»¥ &quot;get&quot; å¼€å¤´åˆ™å¯¹åº”çš„ <em>property</em> åæ˜¯æ–¹æ³•åå»æ‰ &quot;get&quot; ä¹‹åçš„éƒ¨åˆ†ï¼Œå¦åˆ™æ˜¯æ•´ä¸ªæ–¹æ³•åã€‚</p>
<h1 id="builder"><a class="zola-anchor" href="#builder" aria-label="Anchor link for: builder">ğŸ”—</a>
Builder</h1>
<p><a href="https://freebuilder.inferred.org/" title="Automatic generation of the Builder pattern for Java">FreeBuilder</a> ä¼šåœ¨ <code>Task_Builder</code> ä¸­ä¸º <code>Task</code> ä¸­çš„æ¯ä¸€ä¸ª <em>property</em> ç”Ÿæˆä¸€ç³»åˆ—çš„æ–¹æ³•ã€‚</p>
<h2 id="regular-property"><a class="zola-anchor" href="#regular-property" aria-label="Anchor link for: regular-property">ğŸ”—</a>
Regular Property</h2>
<p>å¯¹äºåŸºæœ¬ç±»å‹å’Œæ™®é€šç±»ç±»å‹çš„ <em>property</em> å¦‚ <code>long getId()</code>ï¼Œä¼šç”Ÿæˆï¼š</p>
<table><thead><tr><th> æ–¹æ³•                       </th><th> è¯´æ˜    </th></tr></thead><tbody>
<tr><td> setId(long)                </td><td> Setter  </td></tr>
<tr><td> getId()                    </td><td> Getter  </td></tr>
<tr><td> mapId(UnaryOperator<Long>) </td><td> Mutator </td></tr>
</tbody></table>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">@</span><span style="color:#fdf4c1;">Generated</span><span style="color:#fdf4c1aa;">(</span><span style="color:#b8bb26;">&quot;org.inferred.freebuilder.processor.Processor&quot;</span><span style="color:#fdf4c1aa;">)
</span><span style="color:#fa5c4b;">abstract class </span><span style="color:#8ec07c;">Task_Builder </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">Task</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder setId</span><span style="color:#fdf4c1aa;">(</span><span style="color:#fa5c4b;">long </span><span style="color:#fdf4c1;">id</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">        </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">Task</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder mapId</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">UnaryOperator</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">Long</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#fdf4c1;">mapper</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">        </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public long </span><span style="color:#8ec07c;">getId</span><span style="color:#fdf4c1aa;">() {
</span><span style="color:#fdf4c1aa;">        </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span></pre><h2 id="property-of-optional-type"><a class="zola-anchor" href="#property-of-optional-type" aria-label="Anchor link for: property-of-optional-type">ğŸ”—</a>
Property of Optional Type</h2>
<p>å¯¹äº <code>Optional</code> (<code>java.util.Optional</code> æˆ– <code>com.google.common.base.Optional</code>) ç±»å‹çš„ <em>property</em> å¦‚ <code>Optional&lt;String&gt; getTitle()</code>ï¼Œä¼šç”Ÿæˆï¼š</p>
<table><thead><tr><th> æ–¹æ³•                          </th><th> è¯´æ˜                           </th></tr></thead><tbody>
<tr><td> setTitle(String)              </td><td> Setter with non-null value     </td></tr>
<tr><td> setTitle(Optional<String>)    </td><td> Setter with optional value     </td></tr>
<tr><td> setNullableTitle(String)      </td><td> Setter with nullable value     </td></tr>
<tr><td> getTitle()                    </td><td> Getter                         </td></tr>
<tr><td> mapTitle(Spliterator<String>) </td><td> Mutator                        </td></tr>
<tr><td> clearTitle()                  </td><td> Setter with <code>Optional.empty()</code> </td></tr>
</tbody></table>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">setTitle(</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;"> title) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">setTitle(</span><span style="color:#8ec07c;">Optional</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#fe8019;">? </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;">&gt; title) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">setNullableTitle(</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;"> title) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">mapTitle(</span><span style="color:#8ec07c;">UnaryOperator</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;">&gt; mapper) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">clearTitle() </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">Optional</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#fdf4c1;">getTitle() </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span></pre><h2 id="property-of-collection-type"><a class="zola-anchor" href="#property-of-collection-type" aria-label="Anchor link for: property-of-collection-type">ğŸ”—</a>
Property of Collection Type</h2>
<p>å¯¹äº <code>List</code>, <code>Set</code>, <code>SortedSet</code> å’Œ <code>Multiset</code> ç±»å‹çš„ <em>property</em> å¦‚ <code>List&lt;String&gt; getEmails()</code> ï¼Œä¼šç”Ÿæˆï¼š</p>
<table><thead><tr><th> æ–¹æ³•                                 </th><th> è¯´æ˜                                                       </th></tr></thead><tbody>
<tr><td> addEmails(String)                    </td><td> Appends a single value                                     </td></tr>
<tr><td> addEmails(String ...)                </td><td> Appends multi values                                       </td></tr>
<tr><td> addAllEmails(Iterable<String>)       </td><td> Appends all elements from a <code>java.lang.Iterable</code>           </td></tr>
<tr><td> addAllEmails(Spliterator<String>)    </td><td> Appends all elements from a <code>java.util.Spliterator</code>        </td></tr>
<tr><td> addAllEmails(Stream<String>)         </td><td> Appends all elements from a <code>java.util.stream.Stream</code>      </td></tr>
<tr><td> mutateEmails(Consumer&lt;List<String>&gt;) </td><td> Mutates values by invoking a <code>java.util.function.Consumer</code> </td></tr>
<tr><td> clearEmails()                        </td><td> Remove all elements                                        </td></tr>
<tr><td> getEmails()                          </td><td> Returns an unmodifiable view of all elements               </td></tr>
</tbody></table>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">addEmails(</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;"> element) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">addEmails(</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;">... elements) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">addAllEmails(</span><span style="color:#8ec07c;">Spliterator</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#fe8019;">? </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;">&gt; elements) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">addAllEmails(</span><span style="color:#8ec07c;">BaseStream</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#fe8019;">? </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;">, </span><span style="color:#fe8019;">?</span><span style="color:#fdf4c1;">&gt; elements) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">addAllEmails(</span><span style="color:#8ec07c;">Iterable</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#fe8019;">? </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;">&gt; elements) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">mutateEmails(</span><span style="color:#8ec07c;">Consumer</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#fe8019;">? </span><span style="color:#fa5c4b;">super </span><span style="color:#8ec07c;">List</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;">&gt;&gt; mutator) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">clearEmails() </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">List</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#fdf4c1;">getEmails() </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span></pre><h2 id="property-of-map-type"><a class="zola-anchor" href="#property-of-map-type" aria-label="Anchor link for: property-of-map-type">ğŸ”—</a>
Property of Map Type</h2>
<p>å¯¹äº <code>Map</code> ç±»å‹çš„ <em>property</em> å¦‚ <code>Map&lt;String, Integer&gt; getScores()</code>ï¼Œä¼šç”Ÿæˆï¼š</p>
<table><thead><tr><th> æ–¹æ³•                                         </th><th> è¯´æ˜                                      </th></tr></thead><tbody>
<tr><td> putScores(String, Integer)                   </td><td> Adds a key-value pair                     </td></tr>
<tr><td> putAllScores(Map&lt;String, Integer&gt;)           </td><td> Adds key-value pairs from an existed map  </td></tr>
<tr><td> removeScores(String)                         </td><td> Removes a pair with given key             </td></tr>
<tr><td> mutateScores(Consumer&lt;Map&lt;String, Integer&gt;&gt;) </td><td> Mutator                                   </td></tr>
<tr><td> clearScores()                                </td><td> Removes all pairs                         </td></tr>
<tr><td> getScores()                                  </td><td> Returns an unmodifiable view of all pairs </td></tr>
</tbody></table>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">putScores(</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;"> key, </span><span style="color:#fa5c4b;">int</span><span style="color:#fdf4c1;"> value) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">putAllScores(</span><span style="color:#8ec07c;">Map</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#fe8019;">? </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;">, </span><span style="color:#fe8019;">? </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">Integer</span><span style="color:#fdf4c1;">&gt; map) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">removeScores(</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;"> key) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">mutateScores(</span><span style="color:#8ec07c;">Consumer</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#fe8019;">? </span><span style="color:#fa5c4b;">super </span><span style="color:#8ec07c;">Map</span><span style="color:#fdf4c1;">&lt;</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1;">, </span><span style="color:#8ec07c;">Integer</span><span style="color:#fdf4c1;">&gt;&gt; mutator) </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">StudentDto</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">Builder </span><span style="color:#fdf4c1;">clearScores() </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">Map</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">String</span><span style="color:#fdf4c1aa;">, </span><span style="color:#8ec07c;">Integer</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#fdf4c1;">getScores() </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// ...
</span><span style="color:#fdf4c1aa;">}
</span></pre><h2 id="custom-propertys-generation"><a class="zola-anchor" href="#custom-propertys-generation" aria-label="Anchor link for: custom-propertys-generation">ğŸ”—</a>
Custom Propertys Generation</h2>
<p><a href="https://freebuilder.inferred.org/" title="Automatic generation of the Builder pattern for Java">FreeBuilder</a> ä¼šè‡ªåŠ¨ç”Ÿæˆæ•°æ®å®ä½“ç±»çš„ <code>String toString()</code> æ–¹æ³•å’Œ <code>boolean equals(Object)</code>ï¼›æ–¹æ³•å®ç°ä¸­ä¼šé»˜è®¤åŒ…å«æ‰€æœ‰çš„ <em>property</em> ã€‚</p>
<p>å¦‚æœæŸä¸ª <em>property</em> ä¸æƒ³è¢«åŒ…å«åœ¨ <code>toString</code> æ–¹æ³•ä¸­ï¼Œå¯ä»¥å¯¹å…¶æ·»åŠ  <code>@NotInToString</code> æ³¨è§£ã€‚</p>
<p>å¦‚æœæŸä¸ª <em>property</em> ä¸æƒ³è¢«åŒ…å«åœ¨ <code>equals</code> æ–¹æ³•ä¸­ï¼Œå¯ä»¥å¯¹å…¶æ·»åŠ  <code>@IgnoredByEquals</code> æ³¨è§£ã€‚</p>
<hr />
<p>å®Œæ•´çš„ç¤ºä¾‹ä»£ç å¯ä»¥å‚è§ <a href="https://github.com/wbprime/java-mods/tree/master/freebuilder-usecases">FreeBuilder Usecases</a> ã€‚</p>
<hr />
<p><a href="https://freebuilder.inferred.org/" title="Automatic generation of the Builder pattern for Java">FreeBuilder</a> æ˜¯è¿™æ ·çš„å¼ºå¤§ï¼Œä»¥è‡³äºæˆ‘æ­£åœ¨ä½¿ç”¨å®ƒé€æ­¥æ›¿æ¢ <a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> ã€‚</p>
<p>ä»¥ä¸Šã€‚</p>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;java&#x2F;">#java</a>
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;apt&#x2F;">#apt</a>
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;freebuilder&#x2F;">#freebuilder</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2019-09-28-google-autovalue-usecases&#x2F;">â€¹ Value Class Generated by Google AutoValue</a>
                    
                    
                        <a class="next" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2019-09-30-add-supports-for-apt-in-maven&#x2F;">åœ¨ Maven ä¸­æ”¯æŒ Java çš„æ³¨è§£å¤„ç†å™¨ APT â€º</a>
                    
                    
                    
                </div>
            

        

    </div>

    
    
</article>


                </div>
            </main>

            
            
        </div>

      
          <script type="text/javascript" src="https:&#x2F;&#x2F;www.wangbo.im&#x2F;even.js" ></script>
      
    </body>

</html>
