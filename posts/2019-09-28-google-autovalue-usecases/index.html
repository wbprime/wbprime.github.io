<!DOCTYPE html>
<html lang="en">
    <head>
    <title>Value Class Generated by Google AutoValue - Elvis Wang</title>
    
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="wangboâ€™s home &amp; blog"/>

    <meta property="og:title" content="
    wangboâ€™s blog -&nbsp;Value Class Generated by Google AutoValue" />
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2019-09-28-google-autovalue-usecases&#x2F;"/>
    <meta property="og:description" content="Google AutoValue åˆ©ç”¨ Java çš„æ³¨è§£å¤„ç†å™¨æ‰©å±•æŠ€æœ¯æ¥è‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œæå¤§åœ°æé«˜äº† POJO ç±»éœ€æ±‚çš„ä½¿ç”¨ä½“éªŒã€‚"/>
    <link rel="stylesheet" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;style.css">
    <link rel="stylesheet" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;color&#x2F;blue.css">
<link rel="shortcut icon" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;favicon.ico" type="image/x-icon" /></head>
    <body>
        <div class="container full">
<header class="header">
    <div class="header__inner">
        <div class="header__logo">
            <a href="&#x2F;">
    <div class="logo">
        WB Prime
    </div>
</a>
        </div>
        <div class="menu-trigger">menu</div>
    </div>
    
    <nav class="menu">
        <ul class="menu__inner menu__inner--desktop">
            
            
                    <li>
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;about">About</a>
                    </li>
                
                    <li>
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;categories">Categories</a>
                    </li>
                
                    <li>
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags">Tags</a>
                    </li>
                
            </ul>

        <ul class="menu__inner menu__inner--mobile">
            
        <li>
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;about">About</a>
        </li>
        <li>
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;categories">Categories</a>
        </li>
        <li>
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags">Tags</a>
        </li>
        </ul>
    </nav>

    </header>
<div class="content"><div class="post">
        <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2019-09-28-google-autovalue-usecases&#x2F;">Value Class Generated by Google AutoValue</a>
        </h1>
        
    <div class="post-meta">
        <span class="post-date">2019.09.28
                </span>

        <span class="post-author"></span>

        

    
    :: {<a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;categories&#x2F;java&#x2F;">Java</a>} 

            
    ::
    #<a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;java&#x2F;">java</a>
        
    #<a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;apt&#x2F;">apt</a>
        
    #<a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;google&#x2F;">google</a>
        
    #<a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;auto-value&#x2F;">auto-value</a>
        
    
            
        
    </div>



        

        <div class="post-content">
            <p>Java ä¸­ç»„ç»‡æ•°æ®å¯¹è±¡çš„æ–¹å¼ä¸­ï¼Œæœ€ç®€å•ä¹Ÿæ˜¯æœ€é€šç”¨çš„æ˜¯æ‰€è°“çš„ POJO (Plain Ordinary Java Object) å³
Java ç®€å•å¯¹è±¡ã€‚POJO å¤§æ³•å¥½ï¼Œå¥½å°±å¥½åœ¨ç®€å•å®ç”¨ï¼šåªéœ€ç”¨éµå¾ªç®€å•çš„å‘½åçº¦å®šå’Œæ„é€ è§„åˆ™ï¼Œå°±å¯ä»¥æ»¡è¶³æ•°æ®å®ä½“
çš„éœ€æ±‚ï¼Œè€Œä¸”å¤§å¤šæ•°çš„åºåˆ—åŒ–æ–¹æ¡ˆå’ŒæŒä¹…åŒ–æ–¹æ¡ˆéƒ½èƒ½æä¾› POJO çš„æ”¯æŒï¼›å¦‚æœè¿½æ±‚ä»£ç ç²¾ç®€çš„è¯ï¼Œä½¿ç”¨ POJO å¯ä»¥
å’Œåå°„æ–¹æ¡ˆä¸€èµ·æå¤§åœ°ç®€åŒ–é‡å¤ä»£ç ã€‚</p>
<p>POJO çš„å¥½å¤„å¾ç­‰çš†éå¸¸æ¸…æ¥šï¼Œç„¶è€Œæœ¬æ–‡å´åœ¨è®² <a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a>ï¼Œå› ä¸ºï¼š</p>
<ol>
<li>äººæ˜¯å–„å˜çš„ã€‚å¾ç­‰åƒå¤Ÿäº†é¸¡è›‹ç‰›å¥¶ï¼Œä¹Ÿä¼šæƒ³è¦å°å°è±†æµ†æ²¹æ¡ã€‚</li>
<li><code>equals</code> <code>toString</code> <code>hash</code> ã€‚æ­¤ä¸‰ç§æ ·æ¿ä»£ç ï¼Œå³ä½¿æ˜¯æœ‰ IDE çš„ååŠ©ï¼Œç»´æŠ¤èµ·æ¥ä»ä¼šéå¸¸ç—›è‹¦ã€‚</li>
<li><a href="http://www.dalnefre.com/wp/2011/11/high-availability-for-mutable-shared-state/comment-page-1/">Mutable shared state is the root of all evil in concurrent
systems</a>
ã€‚å¯å˜æ€§åœ¨å¹¶å‘ç³»ç»Ÿä¸­çš„å…±äº«æ˜¯æ‰€æœ‰ BUG çš„æºå¤´ï¼Œä¸å¯å˜æ€§æ˜¯æ•‘èµä¹‹é“ï¼›è€Œ POJO ä¸èƒ½æ»¡è¶³ä¸å¯å˜æ€§çº¦æŸã€‚</li>
<li>Google å¤§æ³•å¥½ã€‚<a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> æ˜¯ Google Java å›¢é˜Ÿçš„ä½œå“ã€‚</li>
</ol>
<p><a href="https://www.wangbo.im/posts/2019-09-28-google-autovalue-usecases/autovalue">AutoValue</a> æ˜¯ä¸€ä¸ªåŸºäº Java <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/apt/" title="Annotation Processing Tool (apt)">æ³¨è§£å¤„ç†å™¨ APT
(Annotation Processing Tool)</a> çš„ä»£ç ç”Ÿæˆåº“ï¼Œç½‘ç»œä¸Šå…³äº <a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> çš„ä»‹ç»ä¸è¦å¤ªå°‘ï¼Œæ¯‹åº¸å†è®²ï¼›å…¶ç†å¿µå’Œå®é™…ç”¨æ³•å¯è§
<a href="https://github.com/google/auto/blob/master/value/userguide/index.md">å®˜ç½‘æ–‡æ¡£</a>ï¼Œååˆ†é’Ÿå…¥é—¨ï¼Œè€å°‘å’¸
å®œã€‚</p>
<p>æœ¬æ–‡å¯¹äº <a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> çš„ç”¨æ³•åšä¸€ä¸ªç®€å•æ±‡æ€»ï¼Œå¹¶å¼•ç”³ä»‹ç»ä¸€ä¸‹åŸºäº <a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> çš„å¯¹
è±¡ JSON åºåˆ—åŒ–æ–¹æ¡ˆã€‚</p>
<h1 id="autovalue-usecases"><a class="zola-anchor" href="#autovalue-usecases" aria-label="Anchor link for: autovalue-usecases">ğŸ”—</a>
AutoValue Usecases</h1>
<h2 id="maven-settings"><a class="zola-anchor" href="#maven-settings" aria-label="Anchor link for: maven-settings">ğŸ”—</a>
Maven Settings</h2>
<pre style="background-color:#1e1e1e;">
<span style="color:#808080;">&lt;</span><span style="color:#569cd6;">dependency</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">groupId</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">com.google.auto.value</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">groupId</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">artifactId</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">auto-value</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">artifactId</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">version</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">${auto-value.version}</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">version</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">scope</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">provided</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">scope</span><span style="color:#808080;">&gt;
</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">dependency</span><span style="color:#808080;">&gt;
</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">dependency</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">groupId</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">com.google.auto.value</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">groupId</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">artifactId</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">auto-value-annotations</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">artifactId</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">version</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">${auto-value.version}</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">version</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">scope</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">provided</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">scope</span><span style="color:#808080;">&gt;
</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">dependency</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">
</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">dependency</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">groupId</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">com.squareup.auto.value</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">groupId</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">artifactId</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">auto-value-redacted</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">artifactId</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">version</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">${squareup_autovalue_redacted_version}</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">version</span><span style="color:#808080;">&gt;
</span><span style="color:#dcdcdc;">    </span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">scope</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;">provided</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">scope</span><span style="color:#808080;">&gt;
</span><span style="color:#808080;">&lt;/</span><span style="color:#569cd6;">dependency</span><span style="color:#808080;">&gt;
</span></pre>
<p><code>auto-value-annotations</code> åŒ…å«å®šä¹‰æ•°æ®å®ä½“ç±»æ—¶éœ€è¦çš„æ³¨è§£ï¼Œ<code>auto-value</code>
åŒ…å«æ³¨è§£å¤„ç†å™¨å®ç°ã€‚å¦‚æœéœ€è¦åœ¨ <code>toString</code> çš„å®ç°ä¸­å¯¹æŸäº›å­—æ®µä½œç‰¹æ®Šå¤„ç†ï¼ˆæ¯”å¦‚
å¯†ç å­—æ®µéœ€è¦éšè—ï¼‰ï¼Œå¯ä»¥é¢å¤–ä½¿ç”¨ <a href="https://github.com/square/auto-value-redacted">AutoValue: Redacted
Extension</a>ã€‚</p>
<p>æˆªè‡³ 2019-09-28 æ—¥ï¼Œ<a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> çš„æœ€æ–°ç‰ˆæœ¬æ˜¯ <code>1.6.6</code>ï¼Œ<a href="https://github.com/square/auto-value-redacted">AutoValue:
Redacted Extension</a> çš„æœ€æ–°ç‰ˆæœ¬æ˜¯
<code>1.1.1</code>ã€‚</p>
<h2 id="abstract-class"><a class="zola-anchor" href="#abstract-class" aria-label="Anchor link for: abstract-class">ğŸ”—</a>
Abstract Class</h2>
<p>ä¸€ä¸ªåŸºæœ¬çš„æ•°æ®ç±»å¦‚ä¸‹ï¼š</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">@AutoValue
</span><span style="color:#569cd6;">public abstract class </span><span style="color:#dcdcdc;">Task {
</span><span style="color:#dcdcdc;">    </span><span style="color:#569cd6;">public abstract </span><span style="color:#dcdcdc;">Long id();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#569cd6;">public abstract </span><span style="color:#dcdcdc;">String type();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#569cd6;">public abstract </span><span style="color:#dcdcdc;">String description();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#569cd6;">public static </span><span style="color:#dcdcdc;">Task create(Long id, String type, String description) {
</span><span style="color:#dcdcdc;">        </span><span style="color:#569cd6;">return new </span><span style="color:#dcdcdc;">AutoValue_Task(id, type, description);
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">}
</span><span style="color:#dcdcdc;">}
</span></pre>
<p>ä¸Šè¿°æ˜¯æ‰€éœ€è¦çš„å…¨éƒ¨ä»£ç ã€‚</p>
<p>å®šä¹‰ä¸€ä¸ªæ•°æ®å®ä½“ç±»ï¼Œåªéœ€ä»¥æŠ½è±¡æ–¹æ³•çš„æ–¹å¼å®šä¹‰æ‰€éœ€å­—æ®µå³å¯ï¼Œ<a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> ä¼šé€šè¿‡ <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/apt/" title="Annotation Processing Tool (apt)">APT</a> ç”Ÿæˆä¸€ä¸ªåä¸º <code>AutoValue_Task</code> çš„å®ç°ç±»ã€‚ç±»å <code>AutoValue_Task</code> æ˜¯æ ¹æ®æ•°æ®å®ä½“ç±»å <code>Task</code> æŒ‰ç…§å›ºå®šè§„åˆ™æ¨å¯¼å¾—åˆ°çš„ã€‚</p>
<h2 id="builder"><a class="zola-anchor" href="#builder" aria-label="Anchor link for: builder">ğŸ”—</a>
Builder</h2>
<p>å¦‚æœå­—æ®µé¡¹å¾ˆå¤šçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨
<a href="https://github.com/google/auto/blob/master/value/userguide/builders.md">Builder</a> æ¨¡å¼ã€‚</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">@AutoValue
</span><span style="color:#dcdcdc;">abstract class StudentDto {
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public abstract String getName();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public abstract Level getLevel();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public abstract OffsetDateTime getBirthday();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public abstract String getAddr();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public abstract List</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">String</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;"> getEmails();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public abstract Map</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">String</span><span style="color:#ff3333;">,</span><span style="color:#808080;"> Integer&gt;</span><span style="color:#dcdcdc;"> getScores();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public abstract Integer getAdditionalInt();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public abstract List</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">String</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;"> getAdditionalList();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public abstract Map</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">String</span><span style="color:#ff3333;">,</span><span style="color:#808080;"> Integer&gt;</span><span style="color:#dcdcdc;"> getAdditionalMap();
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">public static Builder builder() {
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">return new AutoValue_StudentDto.Builder();
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">}
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">@AutoValue.Builder
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">abstract static class Builder {
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract Builder setName(String name);
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract Builder setLevel(Level level);
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract Builder setBirthday(OffsetDateTime birthday);
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract Builder setAddr(String addr);
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract Builder setEmails(List</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">String</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;"> emails);
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract Builder setScores(Map</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">String</span><span style="color:#ff3333;">,</span><span style="color:#808080;"> Integer&gt;</span><span style="color:#dcdcdc;"> scores);
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract Builder setAdditionalInt(Integer additionalInt);
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract Builder setAdditionalList(List</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">String</span><span style="color:#808080;">&gt;</span><span style="color:#dcdcdc;"> additionalList);
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract Builder setAdditionalMap(Map</span><span style="color:#808080;">&lt;</span><span style="color:#569cd6;">String</span><span style="color:#ff3333;">,</span><span style="color:#808080;"> Integer&gt;</span><span style="color:#dcdcdc;"> additionalMap);
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">public abstract StudentDto build();
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">}
</span><span style="color:#dcdcdc;">}
</span></pre>
<p><a href="https://github.com/google/auto/blob/master/value/userguide/builders.md">Builder æ¨¡å¼</a> é€šè¿‡åœ¨æ•°æ®ç±»
ä¸­å®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„ Builder ç±»å®ç°ï¼ŒBuilder ç±»çš„å®ç°ç”± <a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> è‡ªåŠ¨ç”Ÿæˆã€‚</p>
<p><a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> å¯¹ Java çš„é›†åˆç±»å‹æœ‰å¾ˆå¥½çš„æ”¯æŒï¼Œé…åˆ <a href="https://github.com/google/guava/wiki/ImmutableCollectionsExplained">Guava ä¸å¯å˜é›†åˆ</a> ä¸€èµ·é£Ÿç”¨å‘³é“æ›´åŠ ã€‚</p>
<h2 id="json-support-json-b"><a class="zola-anchor" href="#json-support-json-b" aria-label="Anchor link for: json-support-json-b">ğŸ”—</a>
Json Support - JSON-B</h2>
<p><a href="http://json-b.net/">JSON-B</a> æ˜¯ Java EE (ç° Jakarta) æ ‡å‡†çš„å¯¹è±¡ä¸ JSON ä¹‹é—´çš„åºåˆ—åŒ–/ååºåˆ—åŒ–çš„æ ‡å‡† APIï¼›å‚è€ƒå®ç°æ˜¯ <a href="https://eclipse-ee4j.github.io/yasson">Yasson</a>ï¼Œä¸è¿‡æˆ‘ä¸€ç›´ä½¿ç”¨ <a href="http://johnzon.apache.org/">Apache Johnzon</a> çš„å®ç°ã€‚</p>
<ul>
<li>å¯¹äº <a href="http://johnzon.apache.org/">Apache Johnzon</a> çš„å®ç°æ¥è¯´ï¼Œ<a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> ç”Ÿæˆçš„å¯¹è±¡å¯ä»¥ç›´æ¥é€šè¿‡ JSON-B å®ç°åºåˆ—åŒ–ï¼Œä¸éœ€è¦ä½œå…¶ä»–ä¿®æ”¹ï¼›ååºåˆ—åŒ–åˆ™ä¸æ”¯æŒã€‚</li>
<li>å¯¹äº <a href="https://eclipse-ee4j.github.io/yasson">Yasson</a> çš„å®ç°æ¥è¯´ï¼Œ<a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> ç”Ÿæˆçš„å¯¹è±¡æ— æ³•ç›´æ¥é€šè¿‡ JSON-B å®ç°åºåˆ—åŒ–ï¼›ååºåˆ—åŒ–åˆ™å¯ä»¥é€šè¿‡åœ¨ Builder ä¸­æ‰‹åŠ¨æ·»åŠ  <code>JsonbCreator</code> çš„é™æ€æ„é€ æ–¹æ³•çš„æ–¹å¼ï¼Œé€šè¿‡ JSON-B å…ˆæ„é€  Builder å®ä¾‹å†è°ƒç”¨ <code>build()</code> æ–¹æ³•çš„æ–¹å¼é—´æ¥å®ç°ã€‚</li>
</ul>
<p>ç»“è®ºï¼šå¯ä»¥ç›´æ¥æ‰‹å†™åºåˆ—åŒ–çš„ä»£ç è€Œä¸æ˜¯ä¾èµ– JSON-B æ¥å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼›æˆ–è€…ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªä¸“é—¨ç”¨æ¥åº
åˆ—åŒ–çš„ POJO ç±»åšä¸€ä¸ªä¸­é—´å±‚ï¼ŒAutoValue çš„å®ä½“ç±»å’Œ POJO å®ä½“ç±»ä¹‹é—´çš„è½¬åŒ–å¯ä»¥é€šè¿‡
<a href="https://mapstruct.org/"></a> ä¹‹ç±»çš„æ¡†æ¶å®ç°ã€‚</p>
<h2 id="json-support-moshi"><a class="zola-anchor" href="#json-support-moshi" aria-label="Anchor link for: json-support-moshi">ğŸ”—</a>
Json Support - Moshi</h2>
<p>ä½¿ç”¨ <a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> çš„æ•°æ®å®ä½“ç±»å¦‚æœæœ‰å¾ˆå¼ºçš„ JSON çš„åºåˆ—åŒ–/ååºåˆ—åŒ–éœ€æ±‚çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨åŸºäº <a href="https://github.com/square/moshi">Moshi: a
modern JSON library for Android and Java</a> çš„ AutoValue æ‰©å±•
<a href="https://github.com/rharter/auto-value-moshi">AutoValue: Moshi Extension</a> æ¥å®ç°ã€‚</p>
<h2 id="json-support-gson"><a class="zola-anchor" href="#json-support-gson" aria-label="Anchor link for: json-support-gson">ğŸ”—</a>
Json Support - Gson</h2>
<p>æˆ–è€…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŸºäº <a href="https://github.com/google/gson">Gson</a> çš„ AutoValue æ‰©å±• <a href="https://github.com/rharter/auto-value-gson">AutoValue: Gson Extension</a> æ¥å®ç°ã€‚</p>
<h1 id="lei-si-xiang-mu"><a class="zola-anchor" href="#lei-si-xiang-mu" aria-label="Anchor link for: lei-si-xiang-mu">ğŸ”—</a>
ç±»ä¼¼é¡¹ç›®</h1>
<h2 id="freebuilder"><a class="zola-anchor" href="#freebuilder" aria-label="Anchor link for: freebuilder">ğŸ”—</a>
FreeBuilder</h2>
<p><a href="https://freebuilder.inferred.org/">FreeBuilder</a> æ˜¯å¦ä¸€ä¸ªåŸºäºæ³¨è§£å¤„ç†å™¨ <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/apt/" title="Annotation Processing Tool (apt)">APT</a> çš„å®ä½“ç±»æ¡†æ¶ï¼Œä¸»è¦æ˜¯å®ç°
äº† Builder æ¨¡å¼ã€‚</p>
<p>å…¶ä¸ <a href="https://github.com/google/auto/tree/master/value" title="AutoValue - Immutable value-type code generation for Java 1.6+.">AutoValue</a> çš„åŒºåˆ«åœ¨äºï¼ŒAutoValue ç”±ç”¨æˆ·å®šä¹‰æ¥å£å§”æ‰˜ç»™æ³¨è§£å¤„ç†å™¨å»å®ç°ï¼Œè€Œ
FreeBuilder åˆ™æ˜¯é¢„å®šä¹‰äº†ä¸€æ•´å¥—çš„åŸºäºå±æ€§(Property)çš„ Builder æ¥å£ï¼Œç”¨æˆ·ä½¿ç”¨æ—¶éœ€è¦å»ç»§æ‰¿ä¹‹ã€‚ä¹Ÿå°±æ˜¯è¯´
ï¼Œå‰è€…å¯ä»¥é€‰æ‹©æš´éœ²å‡ºçš„ Builder APIï¼Œåè€…åˆ™æä¾›äº†ä¸°å¯Œçš„ï¼ˆå¦‚æœä¸æ˜¯æç®€ä¸»ä¹‰è€…çš„è¯ï¼‰çš„ Builder APIã€‚</p>
<p>å¦‚æœæƒ³è¦å¯¹æ¯”çš„è¯ï¼Œå¯ä»¥å‚è€ƒ <a href="https://github.com/inferred/FreeBuilder#alternatives">FreeBuilder
Alternatives</a> ã€‚</p>
<h2 id="immutables"><a class="zola-anchor" href="#immutables" aria-label="Anchor link for: immutables">ğŸ”—</a>
Immutables</h2>
<p><a href="https://immutables.github.io/">Immutables</a> æ˜¯å¦ä¸€ä¸ªæ‹¥æœ‰ Immutable &amp; Builder æ ‡ç­¾çš„ç±»åº“ã€‚</p>
<p>å¦‚æœæƒ³è¦å¯¹æ¯”çš„è¯ï¼Œå¯ä»¥å‚è€ƒ <a href="https://github.com/inferred/FreeBuilder#alternatives">FreeBuilder
Alternatives</a> ã€‚</p>
<h2 id="lombok"><a class="zola-anchor" href="#lombok" aria-label="Anchor link for: lombok">ğŸ”—</a>
Lombok</h2>
<p><a href="https://projectlombok.org/">Lombok</a> æ˜¯ä¸€ä¸ªæå¯Œäº‰è®®çš„ä»£ç ç”Ÿæˆåº“ï¼Œäº‰è®®ç‚¹åœ¨äºå…¶ä¸ºäº†æé«˜ç”Ÿäº§åŠ›ï¼ˆæƒ³æƒ³é‚£
ä¹ˆå¤šçš„æ ·æ¿é‡å¤ä»£ç  Getter Setter ä¹‹ç±»çš„ï¼‰è€Œæ”¹å˜äº† Java çš„è¯­æ³•ã€‚</p>
<p>å…¶ä»–çš„ç±»åº“åŸºäºæ³¨è§£å¤„ç†å™¨çš„æ ‡å‡† API è¿›è¡Œä»£ç ç”Ÿæˆï¼Œä¸ä¼šæ”¹å˜å·²æœ‰çš„ç±»ï¼ˆé€šå¸¸æ˜¯ç”Ÿæˆä¸€ä¸ªæŠ½è±¡ç±»æˆ–æ¥å£çš„å®ç°
æˆ–ç”Ÿæˆä¸€ä¸ªæ ‡å‡†çš„æ ·æœ¬ç±»ï¼‰ï¼›è€Œ Lombok åˆ™ä¼šåœ¨ <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/apt/" title="Annotation Processing Tool (apt)">APT</a> æ ‡å‡† API ä¹‹å¤–ä¾èµ– Orcle JDK çš„ä¸€äº›ç‰¹å®š API ä¾µå…¥ä»£ç ï¼Œ
ä¿®æ”¹æºä»£ç çš„ç»“æ„ã€‚</p>
<p>è¿™æ ·çš„ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œèƒ½æœ‰æ•ˆåœ°è§£å†³ Java å¼€å‘çš„ä¸€äº›ç—›ç‚¹ï¼›åå¤„åˆ™æ˜¯è‡ªå·±å®šä¹‰äº†ä¸€é—¨æ–°çš„è¯­è¨€ã€‚</p>
<h2 id="autofactory"><a class="zola-anchor" href="#autofactory" aria-label="Anchor link for: autofactory">ğŸ”—</a>
AutoFactory</h2>
<p><a href="https://github.com/google/auto/tree/master/factory" title="AutoFactory - JSR-330-compatible factories">AutoFactory</a> æ˜¯å¦ä¸€ä¸ª Google çš„ä»£ç ç”Ÿæˆç±»åº“ï¼Œç”¨æ¥ç”Ÿæˆå·¥å‚ç±»çš„ã€‚</p>
<hr />
<p>å…·ä½“çš„ä»£ç å¯ä»¥å‚è§ <a href="https://github.com/wbprime/java-mods/tree/master/autovalue-usecases">AutoValue Usecases</a> ã€‚</p>
<hr />
<p>ä»¥ä¸Šã€‚</p>

        </div>
        
    
</div></div>
            
    <div class="pagination">
        <div class="pagination__buttons">
            </div>
    </div>
<footer class="footer">
                    <div class="footer__inner"><div class="copyright copyright--user"><span>Â© 2019 <a href="https://www.wangbo.im">wangbo&apos; blog</a> :: <a href="https://github.wangbo.im">Github</a> :: Powered by <a href="https://www.getzola.org/">Zola</a></span></div>
    <script type="text/javascript" src="https:&#x2F;&#x2F;www.wangbo.im&#x2F;assets&#x2F;js&#x2F;main.js"></script>
</div>
                    

                </footer></div>
    </body>
</html>
