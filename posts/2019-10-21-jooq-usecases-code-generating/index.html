

<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>wangbo’s blog - JOOQ 的使用 - 代码生成配置 (PostgreSQL &amp; DDL Driven)</title>

      

      
          <script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
          
      

      
          <link rel="stylesheet" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;site.css">
          
      

      
      
    </head>

    <body>
        <div class="container">

            <div id="mobile-navbar" class="mobile-navbar">
              <div class="mobile-header-logo">
                <a href="/" class="logo">WB Prime</a>
              </div>
              <div class="mobile-navbar-icon icon-out">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wangbo.im&#x2F;categories">
                            Categories
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wangbo.im&#x2F;tags">
                            Tags
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wangbo.im&#x2F;about">
                            About
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;github.wangbo.im">
                            Github
                        </a>
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                <div class="logo"><a href="https:&#x2F;&#x2F;www.wangbo.im">WB Prime</a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="https://www.wangbo.im&#x2F;categories">
                                    Categories
                                </a>
                            </li>
                        
                            <li>
                                <a href="https://www.wangbo.im&#x2F;tags">
                                    Tags
                                </a>
                            </li>
                        
                            <li>
                                <a href="https://www.wangbo.im&#x2F;about">
                                    About
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;github.wangbo.im">
                                    Github
                                </a>
                            </li>
                        
                    </ul>
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    



<article class="post">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2019-10-21-jooq-usecases-code-generating&#x2F;">JOOQ 的使用 - 代码生成配置 (PostgreSQL &amp; DDL Driven)</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2019-10-21</span>
            
        </div>
    </header>

    <div class="post-content">
      <p><a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 是基于 JDBC 之上的一个抽象层，提供了多种多样的模型来与关系型数据库进行互操作；其使用与 <a href="https://mybatis.org/mybatis-3/">mybatis</a> 和 <a href="http://hibernate.org/orm/">Hibernate ORM</a> 不同的思路来实现 <a href="https://en.wikipedia.org/wiki/Object-relational_mapping">对象关系映射 ORM</a> 。</p>
<p><a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 的一个最主要的特性就是基于代码生成的类型安全 SQL。其主要是从已有的数据库配置信息中收集
到足够的表结构、字段结构和索引等信息，生成对应的 Java 类型；业务使用生成的 Java 类型来进行 SQL 操作
，可以得到足够的类型安全保证。同时，由于代码生成避免了基于反射的对象关系映射，在调试时会有更好的表现
。</p>
<p>截止到版本 <code>3.12.1</code>, <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 支持从以下数据库配置源生成代码：</p>
<ol>
<li>关系数据库实例，包括(注：免费版本的 jOOQ 可能不支持特定的数据库提供商的产品)：
<ul>
<li>Aurora MySQL Edition</li>
<li>Aurora PostgreSQL Edition</li>
<li>Azure SQL Data Warehouse</li>
<li>Azure SQL Database</li>
<li>CUBRID</li>
<li>DB2 LUW</li>
<li>Derby</li>
<li>Firebird</li>
<li>H2</li>
<li>HANA</li>
<li>HSQLDB</li>
<li>Informix</li>
<li>Ingres</li>
<li>MariaDB</li>
<li>Microsoft Access</li>
<li>MySQL</li>
<li>Oracle</li>
<li>PostgreSQL</li>
<li>Redshift</li>
<li>SQL Server</li>
<li>SQLite</li>
<li>Sybase Adaptive Server Enterprise</li>
<li>Sybase SQL Anywhere</li>
<li>Teradata</li>
<li>Vertica</li>
</ul>
</li>
<li><a href="https://en.wikipedia.org/wiki/Java_Persistence_API">Java Persistence API (JPA)</a> 相关的实体类型（带注解）</li>
<li>符合约定条件的描述表结构信息等的 XML 文件</li>
<li>符合标准的用于创建表结构等的 SQL DDL 语句文件</li>
</ol>
<p>本篇主要介绍基于 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 的数据库实例和 SQL DDL 文件驱动的代码生成实践。</p>
<p><a name="continue-reading"></a></p>
<h1 id="maven-pei-zhi"><a class="zola-anchor" href="#maven-pei-zhi" aria-label="Anchor link for: maven-pei-zhi">🔗</a>
Maven 配置</h1>
<p>在 <a href="https://maven.apache.org/">Maven</a> 中使用 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 的代码生成功能，需要在 <code>pom.xml</code> 文件中添加依赖和插件的配置：</p>
<pre style="background-color:#282828;">
<span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependencies</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">&lt;!-- omitted --&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">&lt;!-- omitted --&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependencies</span><span style="color:#83a598;">&gt;
</span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">build</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">plugins</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">plugin</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-codegen-maven</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="font-style:italic;color:#928374;">&lt;!--
</span><span style="font-style:italic;color:#928374;">            </span><span style="font-style:italic;color:#928374;">&lt;executions&gt;
</span><span style="font-style:italic;color:#928374;">                </span><span style="font-style:italic;color:#928374;">&lt;execution&gt;
</span><span style="font-style:italic;color:#928374;">                    </span><span style="font-style:italic;color:#928374;">&lt;id&gt;jooq-generating&lt;/id&gt;
</span><span style="font-style:italic;color:#928374;">                    </span><span style="font-style:italic;color:#928374;">&lt;phase&gt;generate-sources&lt;/phase&gt;
</span><span style="font-style:italic;color:#928374;">                    </span><span style="font-style:italic;color:#928374;">&lt;goals&gt;
</span><span style="font-style:italic;color:#928374;">                        </span><span style="font-style:italic;color:#928374;">&lt;goal&gt;generate&lt;/goal&gt;
</span><span style="font-style:italic;color:#928374;">                    </span><span style="font-style:italic;color:#928374;">&lt;/goals&gt;
</span><span style="font-style:italic;color:#928374;">                </span><span style="font-style:italic;color:#928374;">&lt;/execution&gt;
</span><span style="font-style:italic;color:#928374;">            </span><span style="font-style:italic;color:#928374;">&lt;/executions&gt;
</span><span style="font-style:italic;color:#928374;">            </span><span style="font-style:italic;color:#928374;">--&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependencies</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-meta</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-meta-extensions</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-codegen</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependencies</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">configuration</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">configurationFile</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">src/main/resources/jooq.xml</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">configurationFile</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">configuration</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">plugin</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">plugins</span><span style="color:#83a598;">&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">build</span><span style="color:#83a598;">&gt;
</span></pre>
<p>在 <code>pom.xml</code> 所在目录执行 <code>mvn jooq-codegen:generate</code> 即可生成所有需要的类文件。如果需要每次执行 <code>mvn install</code> 时自动执行，可以将 <code>jooq-codegen:generate</code> 绑定到 <code>generate-sources</code> 阶段。</p>
<p>截至 2019-10-21，<a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 的最新版本是 <code>3.12.1</code> 。</p>
<p><code>src/main/resources/jooq.xml</code> 指向 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 代码生成的配置文件。<a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 代码生成插件需要引用一个 XML 格式的配置文件，该配置文件中包含了用于获取数据库数据表结构等元数据的必要信息，配置项细则见 <a href="http://www.jooq.org/xsd/jooq-codegen-3.12.0.xsd">http://www.jooq.org/xsd/jooq-codegen-3.12.0.xsd</a> 。</p>
<p>更多信息请参考 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 代码生成部分的<a href="https://www.jooq.org/doc/3.12/manual-single-page/#code-generation">文档</a>。</p>
<h1 id="postgresql-shu-ju-ku-shi-li-qu-dong-dai-ma-sheng-cheng"><a class="zola-anchor" href="#postgresql-shu-ju-ku-shi-li-qu-dong-dai-ma-sheng-cheng" aria-label="Anchor link for: postgresql-shu-ju-ku-shi-li-qu-dong-dai-ma-sheng-cheng">🔗</a>
PostgreSQL 数据库实例驱动代码生成</h1>
<h2 id="shu-ju-ku-biao-jie-gou"><a class="zola-anchor" href="#shu-ju-ku-biao-jie-gou" aria-label="Anchor link for: shu-ju-ku-biao-jie-gou">🔗</a>
数据库表结构</h2>
<p>数据库建表 SQL 语句如下：</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">CREATE TABLE </span><span style="color:#8ec07c;">author</span><span style="color:#fdf4c1aa;"> (
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">id              </span><span style="color:#fa5c4b;">BIGSERIAL     NOT NULL PRIMARY KEY</span><span style="color:#fdf4c1aa;">,
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">first_name      </span><span style="color:#fa5c4b;">VARCHAR</span><span style="color:#fdf4c1aa;">(</span><span style="color:#d3869b;">50</span><span style="color:#fdf4c1aa;">)   </span><span style="color:#fa5c4b;">NOT NULL</span><span style="color:#fdf4c1aa;">,
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">last_name       </span><span style="color:#fa5c4b;">VARCHAR</span><span style="color:#fdf4c1aa;">(</span><span style="color:#d3869b;">50</span><span style="color:#fdf4c1aa;">)   </span><span style="color:#fa5c4b;">NOT NULL</span><span style="color:#fdf4c1aa;">,
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">date_of_birth   </span><span style="color:#fa5c4b;">DATE</span><span style="color:#fdf4c1aa;">,
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">year_of_birth   </span><span style="color:#fa5c4b;">BIGINT
</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">CREATE TABLE </span><span style="color:#8ec07c;">book</span><span style="color:#fdf4c1aa;"> (
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">id              </span><span style="color:#fa5c4b;">BIGSERIAL    NOT NULL PRIMARY KEY</span><span style="color:#fdf4c1aa;">,
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">author_id       </span><span style="color:#fa5c4b;">BIGINT       NOT NULL</span><span style="color:#fdf4c1aa;">,
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">title           </span><span style="color:#fa5c4b;">VARCHAR</span><span style="color:#fdf4c1aa;">(</span><span style="color:#d3869b;">400</span><span style="color:#fdf4c1aa;">) </span><span style="color:#fa5c4b;">NOT NULL
</span><span style="color:#fdf4c1aa;">);
</span></pre><h2 id="maven-pei-zhi-1"><a class="zola-anchor" href="#maven-pei-zhi-1" aria-label="Anchor link for: maven-pei-zhi-1">🔗</a>
Maven 配置</h2>
<p><a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 的代码生成插件需要使用 <a href="https://www.postgresql.org" title="PostgreSQL: The World's Most Advanced Open Source Relational Database">PostgreSQL</a> 的 JDBC 支持。在 <code>pom.xml</code> 中修改如下：</p>
<pre style="background-color:#282828;">
<span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">plugin</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-codegen-maven</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependencies</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-meta</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-meta-extensions</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-codegen</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="font-style:italic;color:#928374;">&lt;!-- for postgresql --&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.postgresql</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">postgresql</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${postgresql_versoin}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependencies</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">configuration</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">configurationFile</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">src/main/resources/jooq-postgresql.xml</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">configurationFile</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">configuration</span><span style="color:#83a598;">&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">plugin</span><span style="color:#83a598;">&gt;
</span></pre>
<p>示例中使用的 <a href="https://www.postgresql.org" title="PostgreSQL: The World's Most Advanced Open Source Relational Database">PostgreSQL</a> 的 JDBC 版本为 <code>42.2.8</code> 。</p>
<h2 id="pei-zhi-wen-jian"><a class="zola-anchor" href="#pei-zhi-wen-jian" aria-label="Anchor link for: pei-zhi-wen-jian">🔗</a>
配置文件</h2>
<p>所引用的 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 代码生成插件配置文件 <code>jooq-postgresql.xml</code> 内容如下：</p>
<pre style="background-color:#282828;">
<span style="color:#83a598;">&lt;?</span><span style="font-weight:bold;color:#8ec07c;">xml </span><span style="color:#8ec07c;">version=</span><span style="color:#b8bb26;">&quot;1.0&quot; </span><span style="color:#8ec07c;">encoding=</span><span style="color:#b8bb26;">&quot;UTF-8&quot; </span><span style="color:#8ec07c;">standalone=</span><span style="color:#b8bb26;">&quot;yes&quot;</span><span style="color:#83a598;">?&gt;
</span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">configuration </span><span style="color:#8ec07c;">xmlns=</span><span style="color:#b8bb26;">&quot;http://www.jooq.org/xsd/jooq-codegen-3.12.0.xsd&quot;</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">jdbc</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">driver</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.postgresql.Driver</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">driver</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">url</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jdbc:postgresql:jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">url</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">user</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">user</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">password</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jOOQ@postgresql</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">password</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">jdbc</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">generator</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">database</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">name</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq.meta.postgres.PostgresDatabase</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">name</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">includes</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">.*</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">includes</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">inputSchema</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">public</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">inputSchema</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">database</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">validationAnnotations</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">validationAnnotations</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">javaTimeTypes</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">javaTimeTypes</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">pojos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">pojos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">pojosEqualsAndHashCode</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">pojosEqualsAndHashCode</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">pojosToString</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">pojosToString</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">immutablePojos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">immutablePojos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">serializablePojos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">serializablePojos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">interfaces</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">interfaces</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">serializableInterfaces</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">serializableInterfaces</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">daos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">daos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">target</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">packageName</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">im.wangbo.java.usecases.generated.postgresql</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">packageName</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">directory</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">src/main/java</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">directory</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">encoding</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">UTF-8</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">encoding</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">target</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">generator</span><span style="color:#83a598;">&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">configuration</span><span style="color:#83a598;">&gt;
</span></pre>
<p>配置文件需要指定目标数据库的类型为 <code>org.postgresql.Driver</code>，同时指定到开发环境数据库实例连接的 URL、用户名、密码等信息。由于用户名和密码信息被明文保存在代码仓库中，所以在配置代码生成的时候千万不要使用线上环境或其他敏感数据库的配置信息，可以使用开发环境的配置或者使用从 Docker/Podman 部署的相同配置的数据库实例配置；也可以使用下面介绍的从建表语句 SQL DDL 文件驱动的代码生成。</p>
<p><code>&lt;database&gt;</code> 节点配置了需要包含的数据表名等；<code>&lt;generate&gt;</code> 节点配置了如何生成代码等；<code>&lt;target&gt;</code> 节点配置了生成代码的输出路径等。</p>
<p>更详细的配置说明可以参见 <a href="https://www.jooq.org/doc/3.12/manual-single-page/#code-generation">官方文档</a> 。</p>
<h2 id="sheng-cheng-de-lei"><a class="zola-anchor" href="#sheng-cheng-de-lei" aria-label="Anchor link for: sheng-cheng-de-lei">🔗</a>
生成的类</h2>
<p>运行 <code>mvn clean jooq-codegen:generate</code> 生成的类文件如下：</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">├── tables
</span><span style="color:#fdf4c1aa;">│   ├── daos
</span><span style="color:#fdf4c1aa;">│   │   ├── AuthorDao.java
</span><span style="color:#fdf4c1aa;">│   │   └── BookDao.java
</span><span style="color:#fdf4c1aa;">│   ├── interfaces
</span><span style="color:#fdf4c1aa;">│   │   ├── IAuthor.java
</span><span style="color:#fdf4c1aa;">│   │   └── IBook.java
</span><span style="color:#fdf4c1aa;">│   ├── pojos
</span><span style="color:#fdf4c1aa;">│   │   ├── Author.java
</span><span style="color:#fdf4c1aa;">│   │   └── Book.java
</span><span style="color:#fdf4c1aa;">│   ├── records
</span><span style="color:#fdf4c1aa;">│   │   ├── AuthorRecord.java
</span><span style="color:#fdf4c1aa;">│   │   └── BookRecord.java
</span><span style="color:#fdf4c1aa;">│   ├── Author.java
</span><span style="color:#fdf4c1aa;">│   └── Book.java
</span><span style="color:#fdf4c1aa;">├── DefaultCatalog.java
</span><span style="color:#fdf4c1aa;">├── Indexes.java
</span><span style="color:#fdf4c1aa;">├── Keys.java
</span><span style="color:#fdf4c1aa;">├── Public.java
</span><span style="color:#fdf4c1aa;">├── Sequences.java
</span><span style="color:#fdf4c1aa;">└── Tables.java
</span></pre>
<p>详细的生成结果可以参见 <a href="https://github.com/wbprime/java-mods/tree/master/jooq-usecases">jOOQ Usecases</a> 。</p>
<h1 id="cong-jian-biao-sql-ddl-yu-ju-wen-jian-sheng-cheng-dai-ma"><a class="zola-anchor" href="#cong-jian-biao-sql-ddl-yu-ju-wen-jian-sheng-cheng-dai-ma" aria-label="Anchor link for: cong-jian-biao-sql-ddl-yu-ju-wen-jian-sheng-cheng-dai-ma">🔗</a>
从建表 SQL DDL 语句文件生成代码</h1>
<h2 id="maven-pei-zhi-2"><a class="zola-anchor" href="#maven-pei-zhi-2" aria-label="Anchor link for: maven-pei-zhi-2">🔗</a>
Maven 配置</h2>
<p>此时只需要在 <code>pom.xml</code> 中指定 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 代码生成插件配置文件的路径即可，如下：</p>
<pre style="background-color:#282828;">
<span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">plugin</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-codegen-maven</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependencies</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-meta</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-meta-extensions</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">groupId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">jooq-codegen</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">artifactId</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">${jooq_version}</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">version</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependency</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">dependencies</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">configuration</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">configurationFile</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">src/main/resources/jooq-ddl.xml</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">configurationFile</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">configuration</span><span style="color:#83a598;">&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">plugin</span><span style="color:#83a598;">&gt;
</span></pre>
<p>示例中使用的 <a href="https://www.postgresql.org" title="PostgreSQL: The World's Most Advanced Open Source Relational Database">PostgreSQL</a> 的 JDBC 版本为 <code>42.2.8</code> 。</p>
<h2 id="pei-zhi-wen-jian-1"><a class="zola-anchor" href="#pei-zhi-wen-jian-1" aria-label="Anchor link for: pei-zhi-wen-jian-1">🔗</a>
配置文件</h2>
<p>所引用的 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 代码生成插件配置文件 <code>jooq-ddl.xml</code> 内容如下：</p>
<pre style="background-color:#282828;">
<span style="color:#83a598;">&lt;?</span><span style="font-weight:bold;color:#8ec07c;">xml </span><span style="color:#8ec07c;">version=</span><span style="color:#b8bb26;">&quot;1.0&quot; </span><span style="color:#8ec07c;">encoding=</span><span style="color:#b8bb26;">&quot;UTF-8&quot; </span><span style="color:#8ec07c;">standalone=</span><span style="color:#b8bb26;">&quot;yes&quot;</span><span style="color:#83a598;">?&gt;
</span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">configuration </span><span style="color:#8ec07c;">xmlns=</span><span style="color:#b8bb26;">&quot;http://www.jooq.org/xsd/jooq-codegen-3.12.0.xsd&quot;</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">generator</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">database</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">name</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">org.jooq.meta.extensions.ddl.DDLDatabase</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">name</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">properties</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">property</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">key</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">scripts</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">key</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">value</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">src/main/resources/database.sql</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">value</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">property</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">property</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">key</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">sort</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">key</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">value</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">semantic</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">value</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">property</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">property</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">key</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">unqualifiedSchema</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">key</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">value</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">public</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">value</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">property</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">properties</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">database</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">validationAnnotations</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">validationAnnotations</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">javaTimeTypes</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">javaTimeTypes</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">pojos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">pojos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">pojosEqualsAndHashCode</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">pojosEqualsAndHashCode</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">pojosToString</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">pojosToString</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">immutablePojos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">immutablePojos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">serializablePojos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">serializablePojos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">interfaces</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">interfaces</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">serializableInterfaces</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">serializableInterfaces</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">daos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">daos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">target</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">packageName</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">im.wangbo.java.usecases.generated.ddl</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">packageName</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">directory</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">src/main/java</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">directory</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">encoding</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">UTF-8</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">encoding</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">target</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">generator</span><span style="color:#83a598;">&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">configuration</span><span style="color:#83a598;">&gt;
</span></pre><h2 id="sheng-cheng-de-lei-1"><a class="zola-anchor" href="#sheng-cheng-de-lei-1" aria-label="Anchor link for: sheng-cheng-de-lei-1">🔗</a>
生成的类</h2>
<p>运行 <code>mvn clean jooq-codegen:generate</code> 生成的类文件如下：</p>
<pre style="background-color:#282828;">
<span style="color:#fdf4c1aa;">├── tables
</span><span style="color:#fdf4c1aa;">│   ├── daos
</span><span style="color:#fdf4c1aa;">│   │   ├── AuthorDao.java
</span><span style="color:#fdf4c1aa;">│   │   └── BookDao.java
</span><span style="color:#fdf4c1aa;">│   ├── interfaces
</span><span style="color:#fdf4c1aa;">│   │   ├── IAuthor.java
</span><span style="color:#fdf4c1aa;">│   │   └── IBook.java
</span><span style="color:#fdf4c1aa;">│   ├── pojos
</span><span style="color:#fdf4c1aa;">│   │   ├── Author.java
</span><span style="color:#fdf4c1aa;">│   │   └── Book.java
</span><span style="color:#fdf4c1aa;">│   ├── records
</span><span style="color:#fdf4c1aa;">│   │   ├── AuthorRecord.java
</span><span style="color:#fdf4c1aa;">│   │   └── BookRecord.java
</span><span style="color:#fdf4c1aa;">│   ├── Author.java
</span><span style="color:#fdf4c1aa;">│   └── Book.java
</span><span style="color:#fdf4c1aa;">├── DefaultCatalog.java
</span><span style="color:#fdf4c1aa;">├── Indexes.java
</span><span style="color:#fdf4c1aa;">├── Keys.java
</span><span style="color:#fdf4c1aa;">├── Public.java
</span><span style="color:#fdf4c1aa;">└── Tables.java
</span></pre>
<p>详细的生成结果可以参见 <a href="https://github.com/wbprime/java-mods/tree/master/jooq-usecases">jOOQ Usecases</a> 。</p>
<h1 id="sheng-cheng-lei-wen-jian-de-shuo-ming"><a class="zola-anchor" href="#sheng-cheng-lei-wen-jian-de-shuo-ming" aria-label="Anchor link for: sheng-cheng-lei-wen-jian-de-shuo-ming">🔗</a>
生成类文件的说明</h1>
<h2 id="jie-kou-lei"><a class="zola-anchor" href="#jie-kou-lei" aria-label="Anchor link for: jie-kou-lei">🔗</a>
接口类</h2>
<p>接口类的生成是可选的。如果在 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 代码生成插件配置文件的 <code>&lt;generate&gt;</code> 节点中开启了生成接口类的配置，则会生成接口类。</p>
<pre style="background-color:#282828;">
<span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">&lt;!-- more --&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">interfaces</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">interfaces</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">serializableInterfaces</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">serializableInterfaces</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">&lt;!-- more --&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span></pre>
<p><a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 会为每一个数据库表生成一个接口类，接口类中包含了每一个字段的 Getter/Setter 方法以及对象转换方法 <code>from</code> 和 <code>into</code> 方法。</p>
<p>根据前述配置为数据表 <code>author</code> 生成的接口类为 <code>tables/interfaces/IAuthor</code>，主要内容如下：</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public interface </span><span style="color:#8ec07c;">IAuthor </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public void </span><span style="color:#8ec07c;">setId</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">Long </span><span style="color:#fdf4c1;">value</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">Long getId</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public void </span><span style="color:#8ec07c;">setFirstName</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">String </span><span style="color:#fdf4c1;">value</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">String getFirstName</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public void </span><span style="color:#8ec07c;">setLastName</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">String </span><span style="color:#fdf4c1;">value</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">String getLastName</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public void </span><span style="color:#8ec07c;">setDateOfBirth</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">LocalDate </span><span style="color:#fdf4c1;">value</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">LocalDate getDateOfBirth</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public void </span><span style="color:#8ec07c;">setYearOfBirth</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">Long </span><span style="color:#fdf4c1;">value</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">Long getYearOfBirth</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public void </span><span style="color:#8ec07c;">from</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">IAuthor </span><span style="color:#fdf4c1;">from</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public </span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#fdf4c1;">E </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">IAuthor</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">E into</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">E </span><span style="color:#fdf4c1;">into</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">}
</span></pre><h2 id="pojo-lei"><a class="zola-anchor" href="#pojo-lei" aria-label="Anchor link for: pojo-lei">🔗</a>
POJO 类</h2>
<p>POJO 类的生成是可选的。如果在 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 代码生成插件配置文件的 <code>&lt;generate&gt;</code> 节点中开启了生成 POJO 类的配置，则会生成 POJO 类。</p>
<pre style="background-color:#282828;">
<span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">&lt;!-- more --&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">pojos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">pojos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">pojosEqualsAndHashCode</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">pojosEqualsAndHashCode</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">pojosToString</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">pojosToString</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">immutablePojos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">immutablePojos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">serializablePojos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">false</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">serializablePojos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">&lt;!-- more --&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span></pre>
<p><a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 会为每一个数据库表生成一个 POJO 类，该类中包含了每一个字段的 Getter/Setter 方法、对象转换方法 <code>from</code> 和 <code>into</code> 方法。</p>
<p>如果配置了生成接口类，则生成的 POJO 类会实现对应的接口类。</p>
<p>根据前述配置为数据表 <code>author</code> 生成的 POJO 类为 <code>tables/pojos/Author</code> 。</p>
<h2 id="biao-ji-lu-lei-tablerecord-updatablerecord"><a class="zola-anchor" href="#biao-ji-lu-lei-tablerecord-updatablerecord" aria-label="Anchor link for: biao-ji-lu-lei-tablerecord-updatablerecord">🔗</a>
表记录类 TableRecord/UpdatableRecord</h2>
<p><a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 会为每一个数据库表生成一个表记录类，该类是 <code>org.jooq.TableRecord</code> 或 <code>org.jooq.UpdatableRecord</code> 类的子类，其中包含每一个字段的 Getter/Setter 方法。</p>
<p>如果配置了生成接口类，则生成的 POJO 类会实现对应的接口类。</p>
<p>根据前述配置为数据表 <code>author</code> 生成的 POJO 类为 <code>tables/records/AuthorRecord</code> 。</p>
<h2 id="biao-lei-table"><a class="zola-anchor" href="#biao-lei-table" aria-label="Anchor link for: biao-lei-table">🔗</a>
表类 Table</h2>
<p><a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 会为每一个数据库表生成一个表类，该类是 <code>org.jooq.Table</code> 类的子类，其中包含每一个字段的引用。</p>
<p>根据前述配置为数据表 <code>author</code> 生成的表类为 <code>Author</code> 。</p>
<h2 id="dao-lei"><a class="zola-anchor" href="#dao-lei" aria-label="Anchor link for: dao-lei">🔗</a>
DAO 类</h2>
<p>DAO 类的生成是可选的。如果在 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 代码生成插件配置文件的 <code>&lt;generate&gt;</code> 节点中开启了生成 DAO 类的配置，则会生成 DAO 类。</p>
<pre style="background-color:#282828;">
<span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">&lt;!-- more --&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">daos</span><span style="color:#83a598;">&gt;</span><span style="color:#fdf4c1aa;">true</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">daos</span><span style="color:#83a598;">&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">&lt;!-- more --&gt;
</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">generate</span><span style="color:#83a598;">&gt;
</span></pre>
<p><a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 会为每一个数据库表生成一个 DAO 类，该类中包含 <code>insert</code>/<code>update</code>/<code>delete</code>/<code>fetchById</code> 等方法。</p>
<p>根据前述配置为数据表 <code>author</code> 生成的 DAO 类为 <code>tables/daos/AuthorDao</code> 。</p>
<h2 id="jing-tai-bang-zhu-lei"><a class="zola-anchor" href="#jing-tai-bang-zhu-lei" aria-label="Anchor link for: jing-tai-bang-zhu-lei">🔗</a>
静态帮助类</h2>
<p><a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 会生成一系列的帮助类，提供静态字段或方法可以获取可用的表、主键、索引和递增序列等引用，分别是：</p>
<ul>
<li><code>Tables</code><pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public class </span><span style="color:#8ec07c;">Tables </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">/**
</span><span style="font-style:italic;color:#928374;">     </span><span style="font-style:italic;color:#928374;">* The table </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">code</span><span style="color:#83a598;">&gt;</span><span style="font-style:italic;color:#928374;">public.author</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">code</span><span style="color:#83a598;">&gt;</span><span style="font-style:italic;color:#928374;">.
</span><span style="font-style:italic;color:#928374;">     </span><span style="font-style:italic;color:#928374;">*/
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">Author AUTHOR </span><span style="color:#fe8019;">= </span><span style="color:#8ec07c;">Author</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">AUTHOR</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">/**
</span><span style="font-style:italic;color:#928374;">     </span><span style="font-style:italic;color:#928374;">* The table </span><span style="color:#83a598;">&lt;</span><span style="font-weight:bold;color:#8ec07c;">code</span><span style="color:#83a598;">&gt;</span><span style="font-style:italic;color:#928374;">public.book</span><span style="color:#83a598;">&lt;/</span><span style="font-weight:bold;color:#8ec07c;">code</span><span style="color:#83a598;">&gt;</span><span style="font-style:italic;color:#928374;">.
</span><span style="font-style:italic;color:#928374;">     </span><span style="font-style:italic;color:#928374;">*/
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">Book BOOK </span><span style="color:#fe8019;">= </span><span style="color:#8ec07c;">Book</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">BOOK</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">}
</span></pre></li>
<li><code>Keys</code><pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public class </span><span style="color:#8ec07c;">Keys </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// IDENTITY definitions
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">Identity</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">AuthorRecord</span><span style="color:#fdf4c1aa;">, </span><span style="color:#8ec07c;">Long</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">IDENTITY_AUTHOR </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">Identities0</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">IDENTITY_AUTHOR</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">Identity</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">BookRecord</span><span style="color:#fdf4c1aa;">, </span><span style="color:#8ec07c;">Long</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">IDENTITY_BOOK </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">Identities0</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">IDENTITY_BOOK</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// UNIQUE and PRIMARY KEY definitions
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">UniqueKey</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">AuthorRecord</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">AUTHOR_PKEY </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">UniqueKeys0</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">AUTHOR_PKEY</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">UniqueKey</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">BookRecord</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">BOOK_PKEY </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">UniqueKeys0</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">BOOK_PKEY</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// FOREIGN KEY definitions
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// [#1459] distribute members to avoid static initialisers &gt; 64kb
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">private static class </span><span style="color:#8ec07c;">Identities0 </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">public static </span><span style="color:#8ec07c;">Identity</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">AuthorRecord</span><span style="color:#fdf4c1aa;">, </span><span style="color:#8ec07c;">Long</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">IDENTITY_AUTHOR </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">Internal</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">createIdentity(</span><span style="color:#8ec07c;">Author</span><span style="color:#fdf4c1;">.AUTHOR, </span><span style="color:#8ec07c;">Author</span><span style="color:#fdf4c1;">.AUTHOR.ID)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">public static </span><span style="color:#8ec07c;">Identity</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">BookRecord</span><span style="color:#fdf4c1aa;">, </span><span style="color:#8ec07c;">Long</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">IDENTITY_BOOK </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">Internal</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">createIdentity(</span><span style="color:#8ec07c;">Book</span><span style="color:#fdf4c1;">.BOOK, </span><span style="color:#8ec07c;">Book</span><span style="color:#fdf4c1;">.BOOK.ID)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">private static class </span><span style="color:#8ec07c;">UniqueKeys0 </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">UniqueKey</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">AuthorRecord</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">AUTHOR_PKEY </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">Internal</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">createUniqueKey(</span><span style="color:#8ec07c;">Author</span><span style="color:#fdf4c1;">.AUTHOR, </span><span style="color:#b8bb26;">&quot;author_pkey&quot;</span><span style="color:#fdf4c1;">, </span><span style="color:#8ec07c;">Author</span><span style="color:#fdf4c1;">.AUTHOR.ID)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">UniqueKey</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">BookRecord</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">BOOK_PKEY </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">Internal</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">createUniqueKey(</span><span style="color:#8ec07c;">Book</span><span style="color:#fdf4c1;">.BOOK, </span><span style="color:#b8bb26;">&quot;book_pkey&quot;</span><span style="color:#fdf4c1;">, </span><span style="color:#8ec07c;">Book</span><span style="color:#fdf4c1;">.BOOK.ID)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">}
</span></pre></li>
<li><code>Indexes</code><pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public class </span><span style="color:#8ec07c;">Indexes </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// INDEX definitions
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">Index AUTHOR_PKEY </span><span style="color:#fe8019;">= </span><span style="color:#8ec07c;">Indexes0</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">AUTHOR_PKEY</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">Index BOOK_PKEY </span><span style="color:#fe8019;">= </span><span style="color:#8ec07c;">Indexes0</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">BOOK_PKEY</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// [#1459] distribute members to avoid static initialisers &gt; 64kb
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// -------------------------------------------------------------------------
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">private static class </span><span style="color:#8ec07c;">Indexes0 </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">public static </span><span style="color:#8ec07c;">Index AUTHOR_PKEY </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">Internal</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">createIndex(</span><span style="color:#b8bb26;">&quot;author_pkey&quot;</span><span style="color:#fdf4c1;">, </span><span style="color:#8ec07c;">Author</span><span style="color:#fdf4c1;">.AUTHOR,
</span><span style="color:#fdf4c1;">                    </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">OrderField</span><span style="color:#fdf4c1;">[] { </span><span style="color:#8ec07c;">Author</span><span style="color:#fdf4c1;">.AUTHOR.ID }, </span><span style="color:#d3869b;">true</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">public static </span><span style="color:#8ec07c;">Index BOOK_PKEY </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#8ec07c;">Internal</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">createIndex(</span><span style="color:#b8bb26;">&quot;book_pkey&quot;</span><span style="color:#fdf4c1;">, </span><span style="color:#8ec07c;">Book</span><span style="color:#fdf4c1;">.BOOK,
</span><span style="color:#fdf4c1;">                    </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">OrderField</span><span style="color:#fdf4c1;">[] { </span><span style="color:#8ec07c;">Book</span><span style="color:#fdf4c1;">.BOOK.ID }, </span><span style="color:#d3869b;">true</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">}
</span></pre></li>
<li><code>Sequences</code><pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public class </span><span style="color:#8ec07c;">Sequences </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// The sequence &lt;code&gt;public.author_id_seq&lt;/code&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">Sequence</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">Long</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">AUTHOR_ID_SEQ </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">SequenceImpl</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">Long</span><span style="color:#fdf4c1aa;">&gt;(</span><span style="color:#b8bb26;">&quot;author_id_seq&quot;</span><span style="color:#fdf4c1aa;">, </span><span style="color:#8ec07c;">Public</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">PUBLIC</span><span style="color:#fdf4c1aa;">,
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#fabd2f;">org</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fabd2f;">jooq</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fabd2f;">impl</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">SQLDataType</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">BIGINT</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">nullable(</span><span style="color:#d3869b;">false</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="font-style:italic;color:#928374;">// The sequence &lt;code&gt;public.book_id_seq&lt;/code&gt;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static final </span><span style="color:#8ec07c;">Sequence</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">Long</span><span style="color:#fdf4c1aa;">&gt; </span><span style="color:#8ec07c;">BOOK_ID_SEQ </span><span style="color:#fe8019;">=
</span><span style="color:#fdf4c1aa;">             </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">SequenceImpl</span><span style="color:#fdf4c1aa;">&lt;</span><span style="color:#8ec07c;">Long</span><span style="color:#fdf4c1aa;">&gt;(</span><span style="color:#b8bb26;">&quot;book_id_seq&quot;</span><span style="color:#fdf4c1aa;">, </span><span style="color:#8ec07c;">Public</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">PUBLIC</span><span style="color:#fdf4c1aa;">,
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#fabd2f;">org</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fabd2f;">jooq</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fabd2f;">impl</span><span style="color:#fdf4c1aa;">.</span><span style="color:#8ec07c;">SQLDataType</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">BIGINT</span><span style="color:#fdf4c1aa;">.</span><span style="color:#fdf4c1;">nullable(</span><span style="color:#d3869b;">false</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">}
</span></pre></li>
</ul>
<hr />
<p>完整的示例代码可以参见 <a href="https://github.com/wbprime/java-mods/tree/master/jooq-usecases">jOOQ Usecases</a> 。</p>
<p>想了解更多的 <a href="https://www.jooq.org/" title="jOOQ generates Java code from your database and lets you build type safe SQL queries through its fluent API.">jOOQ</a> 用法，可以阅读 <a href="https://www.jooq.org/learn/" title="jOOQ Documentation">官方文档</a> 。</p>
<hr />
<p>以上。</p>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;jdbc&#x2F;">#jdbc</a>
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;sql&#x2F;">#sql</a>
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;jooq&#x2F;">#jooq</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2019-10-17-jooq-usecases-sql-executor&#x2F;">‹ JOOQ 的使用 - 执行 SQL 语句 (SQL Executor)</a>
                    
                    
                        <a class="next" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2019-10-23-jooq-usecases-code-generated-sql-builder&#x2F;">JOOQ 的使用 - 从生成代码拼接 SQL 语句 (SQL Builder) ›</a>
                    
                    
                    
                </div>
            

        

    </div>

    
    
</article>


                </div>
            </main>

            
            
        </div>

      
          <script type="text/javascript" src="https:&#x2F;&#x2F;www.wangbo.im&#x2F;even.js" ></script>
      
    </body>

</html>
