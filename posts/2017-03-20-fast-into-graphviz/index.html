

<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>Wbprime</title>

      

      
          <script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
          
      

      
          <link rel="stylesheet" href="https:&#x2F;&#x2F;www.wbprime.me&#x2F;site.css">
          
      

      
      
    </head>

    <body>
        <div class="container">

            <div id="mobile-navbar" class="mobile-navbar">
              <div class="mobile-header-logo">
                <a href="/" class="logo">Wbprime</a>
              </div>
              <div class="mobile-navbar-icon icon-out">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wbprime.me">
                            Home
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wbprime.me&#x2F;categories">
                            Categories
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wbprime.me&#x2F;tags">
                            Tags
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wbprime.me&#x2F;about">
                            About
                        </a>
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                <div class="logo"><a href="https:&#x2F;&#x2F;www.wbprime.me">Wbprime</a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="https://www.wbprime.me">
                                    Home
                                </a>
                            </li>
                        
                            <li>
                                <a href="https://www.wbprime.me&#x2F;categories">
                                    Categories
                                </a>
                            </li>
                        
                            <li>
                                <a href="https://www.wbprime.me&#x2F;tags">
                                    Tags
                                </a>
                            </li>
                        
                            <li>
                                <a href="https://www.wbprime.me&#x2F;about">
                                    About
                                </a>
                            </li>
                        
                    </ul>
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    


<div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content always-active">
        <nav id="TableOfContents">
            <ul>
                
                <li>
                    <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#demos" class="toc-link">Demos</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#hello-world" class="toc-link">Hello world</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#cheng-xu-diao-yong" class="toc-link">ç¨‹åºè°ƒç”¨</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#jie-dian-xing-zhuang" class="toc-link">èŠ‚ç‚¹å½¢çŠ¶</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#shu-ju-jie-gou" class="toc-link">æ•°æ®ç»“æ„</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#hash-table" class="toc-link">Hash table</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#liu-cheng-tu" class="toc-link">æµç¨‹å›¾</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#utilities" class="toc-link">Utilities</a>
                    
                </li>
                
                <li>
                    <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#dot-language" class="toc-link">DOT Language</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#abstract-grammar-definition" class="toc-link">Abstract Grammar Definition</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#keywords" class="toc-link">keywords</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#graph-digraph" class="toc-link">graph &amp; digraph</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#id" class="toc-link">ID</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#stmt" class="toc-link">stmt</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#subgraph" class="toc-link">subgraph</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#strict" class="toc-link">strict</a>
                        </li>
                        
                        <li>
                            <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#attrs" class="toc-link">attrs</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a href="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/#can-kao" class="toc-link">å‚è€ƒ</a>
                    
                </li>
                
            </ul>
        </nav>
    </div>
</div>


<article class="post">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;www.wbprime.me&#x2F;posts&#x2F;2017-03-20-fast-into-graphviz&#x2F;">Fast into Graphviz</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2017-03-20</span>
            
        </div>
    </header>

    <div class="post-content">
      <p><a href="http://www.graphviz.org">Graphviz - Graph Visualization Software</a> ç”± AT&amp;T å‡ºå“ï¼Œ æ˜¯ä¸€ç§ç»“æ„åŒ–ä¿¡æ¯çš„å¯è§†åŒ–æ–¹å¼ï¼Œä¹Ÿæ˜¯ä¸€å¥—å¼€æ”¾æºä»£ç è½¯ä»¶ï¼Œå¯ä»¥è¢«å¹¿æ³›åœ°ä½¿ç”¨äºç½‘ç»œæ‹“æ‰‘ã€è½¯ä»¶å·¥ç¨‹ã€æ•°æ®åº“è®¾è®¡ã€æœºå™¨å­¦ä¹ ç­‰æ–¹å‘çš„å›¾è¡¨å±•ç¤ºã€‚</p>
<p>Graphviz 1.2D åŠä¹‹å‰çš„ç‰ˆæœ¬ä½¿ç”¨äº† AT&amp;T ä»£ç è®¸å¯è¯ (the AT&amp;T Source Code Agreement)ï¼Œä¹‹åçš„ç‰ˆæœ¬ä½¿ç”¨äº†EPL (The Eclipse Public License) ã€‚</p>
<p>Graphviz æ˜¯ä¸€æ¬¾é¢å‘ç¨‹åºå‘˜çš„ç»˜å›¾è½¯ä»¶ï¼Œä¸ä»…ä½“ç°åœ¨å…¶è®¾è®¡å’Œä½¿ç”¨æ–¹å¼ä¸Šï¼Œè¿˜ä½“ç°åœ¨å…¶æ–‡æ¡£ä¸Š :)</p>
<p><a name="continue-reading"></a></p>
<h1 id="demos"><a class="zola-anchor" href="#demos" aria-label="Anchor link for: demos">ğŸ”—</a>
Demos</h1>
<h2 id="hello-world"><a class="zola-anchor" href="#hello-world" aria-label="Anchor link for: hello-world">ğŸ”—</a>
Hello world</h2>
<p>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ <code>a.dot</code> ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">graph start {
</span><span style="color:#c0c5ce;">   </span><span style="color:#c0c5ce;">hello -- {graphviz world};
</span><span style="color:#c0c5ce;">   </span><span style="color:#c0c5ce;">graphviz -- world
</span><span style="color:#c0c5ce;">}
</span></pre>
<p>è¿è¡Œ <code>dot -Tpng a.dot -o a.png</code></p>
<p>å¾—åˆ°ï¼š</p>
<p><img src="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/demo0_start.png" alt="a.png" /></p>
<h2 id="cheng-xu-diao-yong"><a class="zola-anchor" href="#cheng-xu-diao-yong" aria-label="Anchor link for: cheng-xu-diao-yong">ğŸ”—</a>
ç¨‹åºè°ƒç”¨</h2>
<p>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ <code>b.dot</code> ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">digraph Invoke {
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">size = &quot;4, 4&quot;;// å›¾ç‰‡å¤§å°
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">main[shape=box];/* å½¢çŠ¶ */
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">main-&gt;parse;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">parse-&gt;execute;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">main-&gt;init[style = dotted];// è™šçº¿
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">main-&gt;cleanup;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">execute-&gt;{make_string; printf}// è¿æ¥ä¸¤ä¸ª
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">init-&gt;make_string;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">edge[color = red]; // è¿æ¥çº¿çš„é¢œè‰²
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">main-&gt;printf[style=bold, label=&quot;100 times&quot;];// çº¿çš„ label
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">make_string[label = &quot;make a\nstring&quot;]// \n, è¿™ä¸ªnodeçš„labelï¼Œæ³¨æ„å’Œä¸Šä¸€è¡Œçš„åŒºåˆ«
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node[shape = box, style = filled, color = &quot;.7.3 1.0&quot;];// ä¸€ä¸ªnodeçš„å±æ€§
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">execute-&gt;compare;
</span><span style="color:#c0c5ce;">}
</span></pre>
<p>è¿è¡Œ <code>dot -Tpng b.dot -o b.png</code></p>
<p>å¾—åˆ°ï¼š</p>
<p><img src="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/demo1_invoke.png" alt="b.png" /></p>
<h2 id="jie-dian-xing-zhuang"><a class="zola-anchor" href="#jie-dian-xing-zhuang" aria-label="Anchor link for: jie-dian-xing-zhuang">ğŸ”—</a>
èŠ‚ç‚¹å½¢çŠ¶</h2>
<p>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ <code>c.dot</code> ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">digraph node_shape {
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">size = &quot;4, 4&quot;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">a-&gt;b-&gt;c;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">b-&gt;d;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">a[shape = polygon, sides = 5, peripheries=3, color = lightblue, style = filled];
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">c[shape = polygon, sides = 4, skew= 0.4, lable = &quot;hello world&quot;];
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">d[shape = rect];
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">e[shape = polygon, side = 4, distortion = .7];
</span><span style="color:#c0c5ce;">}
</span></pre>
<p>è¿è¡Œ <code>dot -Tpng c.dot -o c.png</code></p>
<p>å¾—åˆ°ï¼š</p>
<p><img src="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/demo2_node_shape.png" alt="c.png" /></p>
<h2 id="shu-ju-jie-gou"><a class="zola-anchor" href="#shu-ju-jie-gou" aria-label="Anchor link for: shu-ju-jie-gou">ğŸ”—</a>
æ•°æ®ç»“æ„</h2>
<p>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ <code>d.dot</code> ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">digraph data_struct {
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node [shape = record, height=.1]; // å…¨å±€æ ·å¼;  
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node0[label = &quot;&lt;f0&gt; |&lt;f1&gt; G|&lt;f2&gt; &quot;];  
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node1[label = &quot;&lt;f0&gt; |&lt;f1&gt; E|&lt;f2&gt; &quot;];  
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node2[label = &quot;&lt;f0&gt; |&lt;f1&gt; B|&lt;f2&gt; &quot;];  
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node3[label = &quot;&lt;f0&gt; |&lt;f1&gt; F|&lt;f2&gt; &quot;];  
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node4[label = &quot;&lt;f0&gt; |&lt;f1&gt; R|&lt;f2&gt; &quot;];  
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node5[label = &quot;&lt;f0&gt; |&lt;f1&gt; H|&lt;f2&gt; &quot;];  
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node6[label = &quot;&lt;f0&gt; |&lt;f1&gt; Y|&lt;f2&gt; &quot;];  
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node7[label = &quot;&lt;f0&gt; |&lt;f1&gt; A|&lt;f2&gt; &quot;];  
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node8[label = &quot;&lt;f0&gt; |&lt;f1&gt; C|&lt;f2&gt; &quot;];  
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">&quot;node0&quot;:f2 -&gt; &quot;node4&quot;:f1;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">&quot;node0&quot;:f0 -&gt; &quot;node1&quot;:f1;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">&quot;node1&quot;:f0 -&gt; &quot;node2&quot;:f1;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">&quot;node1&quot;:f2 -&gt; &quot;node3&quot;:f1;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">&quot;node2&quot;:f2 -&gt; &quot;node8&quot;:f1;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">&quot;node2&quot;:f0 -&gt; &quot;node7&quot;:f1;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">&quot;node4&quot;:f2 -&gt; &quot;node6&quot;:f1;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">&quot;node4&quot;:f0 -&gt; &quot;node5&quot;:f1;
</span><span style="color:#c0c5ce;">}
</span></pre>
<p>è¿è¡Œ <code>dot -Tpng d.dot -o d.png</code></p>
<p>å¾—åˆ°ï¼š</p>
<p><img src="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/demo3_data_struct.png" alt="d.png" /></p>
<h2 id="hash-table"><a class="zola-anchor" href="#hash-table" aria-label="Anchor link for: hash-table">ğŸ”—</a>
Hash table</h2>
<p>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ <code>e.dot</code> ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">digraph hash_table {
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">nodesep = .05;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">rankdir = LR;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node[shape = record, width = .1, height = .1];
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node0[label = &quot;&lt;f0&gt; |&lt;f1&gt; |&lt;f2&gt; |&lt;f3&gt; |&lt;f4&gt; |&lt;f5&gt; |&lt;f6&gt; |&quot;, height = 2.5];
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node [width = 1.5];
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node1[label = &quot;{&lt;n&gt; n14 | 719 |&lt;p&gt;}&quot;];
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node2[label = &quot;{&lt;n&gt; a1 | 719 |&lt;p&gt;}&quot;];
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node3[label = &quot;{&lt;n&gt; i9 | 512 |&lt;p&gt;}&quot;];
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node4[label = &quot;{&lt;n&gt; e5 | 632 |&lt;p&gt;}&quot;];
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node5[label = &quot;{&lt;n&gt; t20 | 959 |&lt;p&gt;}&quot;];
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node6[label = &quot;{&lt;n&gt; o15 | 794 |&lt;p&gt;}&quot;];
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node7[label = &quot;{&lt;n&gt; s19 | 659 |&lt;p&gt;}&quot;];
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node0:f0 -&gt; node1:n;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node0:f1 -&gt; node2:n;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node0:f2 -&gt; node3:n;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node0:f5 -&gt; node4:n;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node0:f6 -&gt; node5:n;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node2:p  -&gt; node6:n;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">node4:p  -&gt; node7:n;
</span><span style="color:#c0c5ce;">} 
</span></pre>
<p>è¿è¡Œ <code>dot -Tpng e.dot -o e.png</code></p>
<p>å¾—åˆ°ï¼š</p>
<p><img src="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/demo4_hash_table.png" alt="e.png" /></p>
<h2 id="liu-cheng-tu"><a class="zola-anchor" href="#liu-cheng-tu" aria-label="Anchor link for: liu-cheng-tu">ğŸ”—</a>
æµç¨‹å›¾</h2>
<p>æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ <code>f.dot</code> ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">digraph work_flow {
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">subgraph cluster0 {
</span><span style="color:#c0c5ce;">        </span><span style="color:#c0c5ce;">node[style = filled, color = white];
</span><span style="color:#c0c5ce;">        </span><span style="color:#c0c5ce;">style = filled;
</span><span style="color:#c0c5ce;">        </span><span style="color:#c0c5ce;">color = lightgrey;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">        </span><span style="color:#c0c5ce;">a0-&gt;a1-&gt;a2-&gt;a3;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">        </span><span style="color:#c0c5ce;">label = &quot;prcess #1&quot;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">}
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">subgraph cluster1 {
</span><span style="color:#c0c5ce;">        </span><span style="color:#c0c5ce;">node[style = filled];
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">        </span><span style="color:#c0c5ce;">b0-&gt;b1-&gt;b2-&gt;b3;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">        </span><span style="color:#c0c5ce;">label = &quot;process #2&quot;;
</span><span style="color:#c0c5ce;">        </span><span style="color:#c0c5ce;">color = blue;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">}
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">start-&gt;a0;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">start-&gt;b0;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">a1-&gt;b3;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">b2-&gt;a3;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">a3-&gt;end;
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">b3-&gt;end;
</span><span style="color:#c0c5ce;">
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">start[shape=Mdiamond];
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">end[shape=Msquare];
</span><span style="color:#c0c5ce;">}
</span></pre>
<p>è¿è¡Œ <code>dot -Tpng f.dot -o f.png</code></p>
<p>å¾—åˆ°ï¼š</p>
<p><img src="https://www.wbprime.me/posts/2017-03-20-fast-into-graphviz/demo5_work_flow.png" alt="f.png" /></p>
<h1 id="utilities"><a class="zola-anchor" href="#utilities" aria-label="Anchor link for: utilities">ğŸ”—</a>
Utilities</h1>
<ul>
<li>dot       : filter for drawing directed graphs</li>
<li>neato     : filter for drawing undirected graphs</li>
<li>twopi     : filter for radial layouts of graphs</li>
<li>circo     : filter for circular layout of graphs</li>
<li>fdp       : filter for drawing undirected graphs</li>
<li>sfdp      : filter for drawing large undirected graphs</li>
<li>patchwork : filter for tree maps</li>
</ul>
<p>ä»¥ä¸Šå‘½ä»¤å·¥å…·æ˜¯åŒä¸€å¥—ä»£ç çš„wrapperï¼Œå…±äº«ç›¸åŒçš„å‘½ä»¤è¡Œå‚æ•°:</p>
<ul>
<li><code>-G</code> sets a default graph attribute.</li>
<li><code>-N</code> sets a default node attribute.</li>
<li><code>-E</code> sets a default edge attribute.</li>
<li><code>-Tlang</code> sets the output language.</li>
<li><code>-Klayout</code> override the default layout engine implied by the command name.</li>
<li><code>-O</code> automatically generate output filenames based on the input filename and the -T format.</li>
<li><code>-ooutfile</code> writes output to file outfile.</li>
</ul>
<p>å¸¸ç”¨çš„è¾“å‡ºæ ¼å¼æœ‰:</p>
<ul>
<li>-Tps (PostScript)</li>
<li>-Tsvg -Tsvgz (Structured Vector Graphics)</li>
<li>-Tfig (XFIG graphics)</li>
<li>-Tpng -Tgif (bitmap graphics)</li>
<li>-Timap (imagemap files for httpd servers for each node or edge that has a nonâ€null &quot;href&quot; attribute)</li>
<li>-Tcmapx (clientâ€side imagemap for use in html and xhtml)</li>
</ul>
<p>æ›´å¤šè¾“å‡ºæ ¼å¼å‚è§ <a href="https://graphviz.gitlab.io/_pages/doc/info/output.html">https://graphviz.gitlab.io/_pages/doc/info/output.html</a> ã€‚</p>
<h1 id="dot-language"><a class="zola-anchor" href="#dot-language" aria-label="Anchor link for: dot-language">ğŸ”—</a>
DOT Language</h1>
<h2 id="abstract-grammar-definition"><a class="zola-anchor" href="#abstract-grammar-definition" aria-label="Anchor link for: abstract-grammar-definition">ğŸ”—</a>
Abstract Grammar Definition</h2>
<p>å®˜æ–¹å¯¹DOTè¯­è¨€çš„è¯­æ³•çš„æè¿°å¦‚ä¸‹ï¼š</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">     </span><span style="color:#c0c5ce;">graph: [ strict ] (graph | digraph) [ ID ] &#39;{&#39; stmt_list &#39;}&#39;
</span><span style="color:#c0c5ce;"> </span><span style="color:#c0c5ce;">stmt_list: [ stmt [ &#39;;&#39; ] stmt_list ]
</span><span style="color:#c0c5ce;">      </span><span style="color:#c0c5ce;">stmt: node_stmt |	edge_stmt |	attr_stmt |	ID &#39;=&#39; ID |	subgraph
</span><span style="color:#c0c5ce;"> </span><span style="color:#c0c5ce;">attr_stmt: (graph | node | edge) attr_list
</span><span style="color:#c0c5ce;"> </span><span style="color:#c0c5ce;">attr_list: &#39;[&#39; [ a_list ] &#39;]&#39; [ attr_list ]
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">a_list: ID &#39;=&#39; ID [ (&#39;;&#39; | &#39;,&#39;) ] [ a_list ]
</span><span style="color:#c0c5ce;"> </span><span style="color:#c0c5ce;">edge_stmt: (node_id | subgraph) edgeRHS [ attr_list ]
</span><span style="color:#c0c5ce;">   </span><span style="color:#c0c5ce;">edgeRHS: edgeop (node_id | subgraph) [ edgeRHS ]
</span><span style="color:#c0c5ce;"> </span><span style="color:#c0c5ce;">node_stmt: node_id [ attr_list ]
</span><span style="color:#c0c5ce;">   </span><span style="color:#c0c5ce;">node_id: ID [ port ]
</span><span style="color:#c0c5ce;">      </span><span style="color:#c0c5ce;">port: &#39;: &#39; ID [ &#39;:&#39; compass_pt ] |	&#39;:      &#39; compass_pt
</span><span style="color:#c0c5ce;">  </span><span style="color:#c0c5ce;">subgraph: [ subgraph [ ID ] ] &#39;{&#39; stmt_list &#39;}&#39;
</span><span style="color:#c0c5ce;">compass_pt: (n | ne | e | se | s | sw | w | nw | c | _)
</span></pre>
<p>å…·ä½“è¯´æ˜ï¼Œå‚è§ <a href="http://www.graphviz.org/content/dot-language">The DOT Language</a>
ã€‚</p>
<h2 id="keywords"><a class="zola-anchor" href="#keywords" aria-label="Anchor link for: keywords">ğŸ”—</a>
keywords</h2>
<p>DOT è¯­è¨€é‡Œé¢çš„å…³é”®å­—æ˜¯å¤§å°å†™æ— å…³çš„ (node, edge, graph, digraph, subgraph,
strict) ã€‚</p>
<h2 id="graph-digraph"><a class="zola-anchor" href="#graph-digraph" aria-label="Anchor link for: graph-digraph">ğŸ”—</a>
<code>graph</code> & <code>digraph</code></h2>
<p>ä¸€ä¸ªå›¾ç”± <code>graph</code> æˆ–è€… <code>digraph</code> å…³é”®å­—å®šä¹‰ï¼Œåé¢è·Ÿä¸€ä¸ªå¯é€‰çš„å›¾IDï¼Œåè·Ÿä¸€å¯¹å¤§æ‹¬å· (<code>{</code>, <code>}</code>) åŒ…å›´çš„è¯­å¥å—ã€‚<code>grpha</code> æ˜¯æ— å‘å›¾ï¼Œ<code>digraph</code> æ˜¯æœ‰å‘å›¾ã€‚</p>
<h2 id="id"><a class="zola-anchor" href="#id" aria-label="Anchor link for: id">ğŸ”—</a>
ID</h2>
<p>å›¾IDæ˜¯ä¸€ä¸ªå¸¸è§„çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç”±ä¸€ä¸ªå¯é€‰çš„åŒå¼•å·åŒ…å›´èµ·æ¥ï¼›å¦‚æœè¦ä½¿ç”¨å…³é”®å­—ä½œä¸ºIDï¼Œåˆ™å¿…é¡»è¦ç”¨åŒå¼•å·ï¼›å›¾IDå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦å¯ä»¥æ˜¯ä»»æ„çš„å¤§å°å†™å­—ç¬¦ (<code>[a-zA-Z\200-\377]</code>) ï¼Œä¸‹åˆ’çº¿ (<code>_</code>) å’Œæ•°å­— (<code>[0-9]</code>) ï¼Œä½†ä¸èƒ½æ˜¯ä»¥æ•°å­—å¼€å¤´ï¼›å›¾IDä¹Ÿå¯ä»¥æ˜¯æœ‰æ•ˆçš„æ•°å­— (<code>[-]?(.[0-9]+ | [0-9]+(.[0-9]*)? )</code>) ï¼›å›¾IDä¹Ÿå¯ä»¥æ˜¯æœ‰æ•ˆçš„HTMLä¸²ã€‚</p>
<h2 id="stmt"><a class="zola-anchor" href="#stmt" aria-label="Anchor link for: stmt">ğŸ”—</a>
<code>stmt</code></h2>
<p>è¯­å¥æ˜¯å¯ä»¥æ˜¯èŠ‚ç‚¹å®šä¹‰è¯­å¥ (<code>node_stmt</code>) ã€è¾¹å®šä¹‰è¯­å¥ (<code>edge_stmt</code>) ã€å±æ€§å®šä¹‰è¯­å¥ (<code>attr_stmt</code>) æˆ–è€…å­å›¾å®šä¹‰è¯­å¥ (<code>subgraph</code>) ã€‚</p>
<p>åœ¨ <code>graph</code> ä¸­ï¼Œéœ€è¦ç”¨ <code>--</code> æ“ä½œç¬¦æ¥å®šä¹‰ä¸€æ¡è¾¹ï¼›åœ¨ <code>digraph</code> ä¸­ï¼Œéœ€è¦ç”¨ <code>-&gt;</code> æ“ä½œç¬¦æ¥å®šä¹‰ä¸€æ¡è¾¹ã€‚</p>
<p>ä¸¤ä¸ªè¯­å¥ä¹‹é—´å¯ä»¥ç”¨ä¸€ä¸ªå¯é€‰çš„ <code>;</code> åˆ†éš”ã€‚</p>
<h2 id="subgraph"><a class="zola-anchor" href="#subgraph" aria-label="Anchor link for: subgraph">ğŸ”—</a>
<code>subgraph</code></h2>
<p>å­å›¾å¯ä»¥ç”¨æ¥å¯¹èŠ‚ç‚¹å’Œè¾¹è¿›è¡Œåˆ†ç»„ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">A -&gt; {B C}
</span></pre>
<p>å­å›¾ä¹Ÿå¯ä»¥ç”¨æ¥æ‰¹é‡è®¾ç½®å±æ€§ã€‚</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">subgraph {
</span><span style="color:#c0c5ce;">    </span><span style="color:#c0c5ce;">rank = same; A; B; C;
</span><span style="color:#c0c5ce;">}
</span></pre>
<p>å­å›¾ä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å®šå¸ƒå±€å¼•æ“ã€‚å¦‚æœå­å›¾IDä»¥ &quot;cluster&quot;
å¼€å§‹ï¼Œåˆ™è¯¥å­å›¾ä¼šè¢«å¸ƒå±€å¼•æ“ä½œä¸ºç‰¹æ®Šçš„é›†èšå›¾æ¥å¯¹å¾…ã€‚</p>
<h2 id="strict"><a class="zola-anchor" href="#strict" aria-label="Anchor link for: strict">ğŸ”—</a>
<code>strict</code></h2>
<p>å¦‚æœä½¿ç”¨äº† <code>strict</code>
å…³é”®å­—ï¼Œåˆ™å›¾ä¸­ä¸€ä¸ªèµ·ç‚¹ä¸€ä¸ªç»ˆç‚¹ä¹‹é—´æœ€å¤šç”Ÿæˆä¸€æ¡è¾¹ã€‚åœ¨æ— å‘å›¾ä¸­ï¼Œä¸¤ä¸ªç‚¹ä¹‹é—´æœ€å¤šä¸€æ¡è¾¹ï¼›åœ¨æœ‰å‘å›¾ä¸­ï¼Œä¸¤ä¸ªç‚¹ä¹‹é—´æœ€å¤šä¸¤æ¡è¾¹ï¼Œå¹¶ä¸”æ–¹å‘ç›¸åã€‚</p>
<h2 id="attrs"><a class="zola-anchor" href="#attrs" aria-label="Anchor link for: attrs">ğŸ”—</a>
attrs</h2>
<p>å±æ€§å¯ä»¥æ˜¯ç‰¹å®šäºèŠ‚ç‚¹æˆ–è€…è¾¹çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç‰¹å®šäºå›¾çš„ã€‚å¤šä¸ªå±æ€§ä¹‹é—´ç”±ç©ºæ ¼åˆ†éš”ï¼Œä¹Ÿå¯ä»¥æœ‰å¯é€‰çš„ <code>;</code> æˆ–è€… <code>,</code> ã€‚</p>
<ul>
<li><code>name=val;</code> : å›¾å±æ€§</li>
<li><code>node [name=val];</code> : èŠ‚ç‚¹å±æ€§</li>
<li><code>edge [name=val];</code> : è¾¹å±æ€§</li>
</ul>
<p>è¯¦ç»†è¯´æ˜ï¼Œå‚è§ <a href="https://graphviz.gitlab.io/_pages/doc/info/attrs.html">Graphviz
attrs</a> ã€‚</p>
<h1 id="can-kao"><a class="zola-anchor" href="#can-kao" aria-label="Anchor link for: can-kao">ğŸ”—</a>
å‚è€ƒ</h1>
<ul>
<li><a href="http://www.graphviz.org/content/dot-language">http://www.graphviz.org/content/dot-language</a></li>
<li><a href="http://www.cnblogs.com/sld666666/archive/2010/06/25/1765510.html">http://www.cnblogs.com/sld666666/archive/2010/06/25/1765510.html</a></li>
</ul>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https:&#x2F;&#x2F;www.wbprime.me&#x2F;tags&#x2F;graphviz&#x2F;">#graphviz</a>
                    
                        <a href="https:&#x2F;&#x2F;www.wbprime.me&#x2F;tags&#x2F;tech&#x2F;">#tech</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="https:&#x2F;&#x2F;www.wbprime.me&#x2F;posts&#x2F;learning-java-concurrency-executors-1-executorservice&#x2F;">â€¹ Learning Java Concurrency - Executors(1) ExecutorService</a>
                    
                    
                        <a class="next" href="https:&#x2F;&#x2F;www.wbprime.me&#x2F;posts&#x2F;huangyi-memory&#x2F;">å½“æ—¶æ˜æœˆåœ¨ æ›¾ç…§å½©äº‘å½’ â€º</a>
                    
                    
                    
                </div>
            

        

    </div>

    
    
</article>


                </div>
            </main>

            
            
        </div>

      
          <script type="text/javascript" src="https:&#x2F;&#x2F;www.wbprime.me&#x2F;even.js" ></script>
      
    </body>

</html>
