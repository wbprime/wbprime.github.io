<!DOCTYPE html>
<html lang="en">
    <head>
    <title>Fast into Graphviz - Elvis Wang</title>
    
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="wangbo’s home &amp; blog"/>

    <meta property="og:title" content="
    wangbo’s blog -&nbsp;Fast into Graphviz" />
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2017-03-20-fast-into-graphviz&#x2F;"/>
    <meta property="og:description" content="&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.graphviz.org&quot;&gt;Graphviz - Graph Visualization Software&lt;&#x2F;a&gt; 由 AT&amp;amp;T 出品， 是一种结构化信息的可视化方式，也是一套开放源代码软件，可以被广泛地使用于网络拓扑、软件工程、数据库设计、机器学习等…"/>
    <link rel="stylesheet" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;style.css">
    <link rel="stylesheet" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;color&#x2F;blue.css">
<link rel="shortcut icon" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;favicon.ico" type="image/x-icon" /></head>
    <body>
        <div class="container full">
<header class="header">
    <div class="header__inner">
        <div class="header__logo">
            <a href="&#x2F;">
    <div class="logo">
        WB Prime
    </div>
</a>
        </div>
        <div class="menu-trigger">menu</div>
    </div>
    
    <nav class="menu">
        <ul class="menu__inner menu__inner--desktop">
            
            
                    <li>
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;about">About</a>
                    </li>
                
                    <li>
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;categories">Categories</a>
                    </li>
                
                    <li>
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags">Tags</a>
                    </li>
                
            </ul>

        <ul class="menu__inner menu__inner--mobile">
            
        <li>
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;about">About</a>
        </li>
        <li>
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;categories">Categories</a>
        </li>
        <li>
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags">Tags</a>
        </li>
        </ul>
    </nav>

    </header>
<div class="content"><div class="post">
        <h1 class="post-title">
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2017-03-20-fast-into-graphviz&#x2F;">Fast into Graphviz</a>
        </h1>
        
    <div class="post-meta">
        <span class="post-date">2017.03.20
                </span>

        <span class="post-author"></span>

        

    
    :: {<a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;categories&#x2F;utils&#x2F;">Utils</a>} 

            
    ::
    #<a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;graphviz&#x2F;">graphviz</a>
        
    #<a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;dot&#x2F;">dot</a>
        
    #<a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;note&#x2F;">note</a>
        
    
            
        
    </div>



        

        <div class="post-content">
            <p><a href="http://www.graphviz.org">Graphviz - Graph Visualization Software</a> 由 AT&amp;T 出品， 是一种结构化信息的可视化方式，也是一套开放源代码软件，可以被广泛地使用于网络拓扑、软件工程、数据库设计、机器学习等方向的图表展示。</p>
<p>Graphviz 1.2D 及之前的版本使用了 AT&amp;T 代码许可证 (the AT&amp;T Source Code Agreement)，之后的版本使用了EPL (The Eclipse Public License) 。</p>
<p>Graphviz 是一款面向程序员的绘图软件，不仅体现在其设计和使用方式上，还体现在其文档上 :)</p>
<p><a name="continue-reading"></a></p>
<h1 id="demos"><a class="zola-anchor" href="#demos" aria-label="Anchor link for: demos">🔗</a>
Demos</h1>
<h2 id="hello-world"><a class="zola-anchor" href="#hello-world" aria-label="Anchor link for: hello-world">🔗</a>
Hello world</h2>
<p>新建一个文本文件 <code>a.dot</code> 。</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">graph start {
</span><span style="color:#dcdcdc;">   </span><span style="color:#dcdcdc;">hello -- {graphviz world};
</span><span style="color:#dcdcdc;">   </span><span style="color:#dcdcdc;">graphviz -- world
</span><span style="color:#dcdcdc;">}
</span></pre>
<p><del>运行 <code>dot -Tpng a.dot -o a.png</code></del></p>
<p>运行 <code>dot -Tsvg a.dot -o a.svg</code></p>
<p>得到：</p>
<p><img src="https://www.wangbo.im/posts/2017-03-20-fast-into-graphviz/demo0_start.svg" alt="a.svg" /></p>
<h2 id="cheng-xu-diao-yong"><a class="zola-anchor" href="#cheng-xu-diao-yong" aria-label="Anchor link for: cheng-xu-diao-yong">🔗</a>
程序调用</h2>
<p>新建一个文本文件 <code>b.dot</code> 。</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">digraph Invoke {
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">size = &quot;4, 4&quot;;// 图片大小
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">main[shape=box];/* 形状 */
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">main-&gt;parse;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">parse-&gt;execute;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">main-&gt;init[style = dotted];// 虚线
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">main-&gt;cleanup;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">execute-&gt;{make_string; printf}// 连接两个
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">init-&gt;make_string;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">edge[color = red]; // 连接线的颜色
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">main-&gt;printf[style=bold, label=&quot;100 times&quot;];// 线的 label
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">make_string[label = &quot;make a\nstring&quot;]// \n, 这个node的label，注意和上一行的区别
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node[shape = box, style = filled, color = &quot;.7.3 1.0&quot;];// 一个node的属性
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">execute-&gt;compare;
</span><span style="color:#dcdcdc;">}
</span></pre>
<p><del>运行 <code>dot -Tpng b.dot -o b.png</code></del></p>
<p>运行 <code>dot -Tsvg b.dot -o b.svg</code></p>
<p>得到：</p>
<p><img src="https://www.wangbo.im/posts/2017-03-20-fast-into-graphviz/demo1_invoke.svg" alt="b.svg" /></p>
<h2 id="jie-dian-xing-zhuang"><a class="zola-anchor" href="#jie-dian-xing-zhuang" aria-label="Anchor link for: jie-dian-xing-zhuang">🔗</a>
节点形状</h2>
<p>新建一个文本文件 <code>c.dot</code> 。</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">digraph node_shape {
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">size = &quot;4, 4&quot;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">a-&gt;b-&gt;c;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">b-&gt;d;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">a[shape = polygon, sides = 5, peripheries=3, color = lightblue, style = filled];
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">c[shape = polygon, sides = 4, skew= 0.4, lable = &quot;hello world&quot;];
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">d[shape = rect];
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">e[shape = polygon, side = 4, distortion = .7];
</span><span style="color:#dcdcdc;">}
</span></pre>
<p><del>运行 <code>dot -Tpng c.dot -o c.png</code></del></p>
<p>运行 <code>dot -Tsvg c.dot -o c.svg</code></p>
<p>得到：</p>
<p><img src="https://www.wangbo.im/posts/2017-03-20-fast-into-graphviz/demo2_node_shape.svg" alt="c.svg" /></p>
<h2 id="shu-ju-jie-gou"><a class="zola-anchor" href="#shu-ju-jie-gou" aria-label="Anchor link for: shu-ju-jie-gou">🔗</a>
数据结构</h2>
<p>新建一个文本文件 <code>d.dot</code> 。</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">digraph data_struct {
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node [shape = record, height=.1]; // 全局样式;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node0[label = &quot;&lt;f0&gt; |&lt;f1&gt; G|&lt;f2&gt; &quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node1[label = &quot;&lt;f0&gt; |&lt;f1&gt; E|&lt;f2&gt; &quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node2[label = &quot;&lt;f0&gt; |&lt;f1&gt; B|&lt;f2&gt; &quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node3[label = &quot;&lt;f0&gt; |&lt;f1&gt; F|&lt;f2&gt; &quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node4[label = &quot;&lt;f0&gt; |&lt;f1&gt; R|&lt;f2&gt; &quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node5[label = &quot;&lt;f0&gt; |&lt;f1&gt; H|&lt;f2&gt; &quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node6[label = &quot;&lt;f0&gt; |&lt;f1&gt; Y|&lt;f2&gt; &quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node7[label = &quot;&lt;f0&gt; |&lt;f1&gt; A|&lt;f2&gt; &quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node8[label = &quot;&lt;f0&gt; |&lt;f1&gt; C|&lt;f2&gt; &quot;];
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">&quot;node0&quot;:f2 -&gt; &quot;node4&quot;:f1;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">&quot;node0&quot;:f0 -&gt; &quot;node1&quot;:f1;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">&quot;node1&quot;:f0 -&gt; &quot;node2&quot;:f1;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">&quot;node1&quot;:f2 -&gt; &quot;node3&quot;:f1;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">&quot;node2&quot;:f2 -&gt; &quot;node8&quot;:f1;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">&quot;node2&quot;:f0 -&gt; &quot;node7&quot;:f1;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">&quot;node4&quot;:f2 -&gt; &quot;node6&quot;:f1;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">&quot;node4&quot;:f0 -&gt; &quot;node5&quot;:f1;
</span><span style="color:#dcdcdc;">}
</span></pre>
<p><del>运行 <code>dot -Tpng d.dot -o d.png</code></del></p>
<p>运行 <code>dot -Tsvg d.dot -o d.svg</code></p>
<p>得到：</p>
<p><img src="https://www.wangbo.im/posts/2017-03-20-fast-into-graphviz/demo3_data_struct.svg" alt="d.svg" /></p>
<h2 id="hash-table"><a class="zola-anchor" href="#hash-table" aria-label="Anchor link for: hash-table">🔗</a>
Hash table</h2>
<p>新建一个文本文件 <code>e.dot</code> 。</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">digraph hash_table {
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">nodesep = .05;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">rankdir = LR;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node[shape = record, width = .1, height = .1];
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node0[label = &quot;&lt;f0&gt; |&lt;f1&gt; |&lt;f2&gt; |&lt;f3&gt; |&lt;f4&gt; |&lt;f5&gt; |&lt;f6&gt; |&quot;, height = 2.5];
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node [width = 1.5];
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node1[label = &quot;{&lt;n&gt; n14 | 719 |&lt;p&gt;}&quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node2[label = &quot;{&lt;n&gt; a1 | 719 |&lt;p&gt;}&quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node3[label = &quot;{&lt;n&gt; i9 | 512 |&lt;p&gt;}&quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node4[label = &quot;{&lt;n&gt; e5 | 632 |&lt;p&gt;}&quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node5[label = &quot;{&lt;n&gt; t20 | 959 |&lt;p&gt;}&quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node6[label = &quot;{&lt;n&gt; o15 | 794 |&lt;p&gt;}&quot;];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node7[label = &quot;{&lt;n&gt; s19 | 659 |&lt;p&gt;}&quot;];
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node0:f0 -&gt; node1:n;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node0:f1 -&gt; node2:n;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node0:f2 -&gt; node3:n;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node0:f5 -&gt; node4:n;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node0:f6 -&gt; node5:n;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node2:p  -&gt; node6:n;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">node4:p  -&gt; node7:n;
</span><span style="color:#dcdcdc;">}
</span></pre>
<p><del>运行 <code>dot -Tpng e.dot -o e.png</code></del></p>
<p>运行 <code>dot -Tsvg e.dot -o e.svg</code></p>
<p>得到：</p>
<p><img src="https://www.wangbo.im/posts/2017-03-20-fast-into-graphviz/demo4_hash_table.svg" alt="e.svg" /></p>
<h2 id="liu-cheng-tu"><a class="zola-anchor" href="#liu-cheng-tu" aria-label="Anchor link for: liu-cheng-tu">🔗</a>
流程图</h2>
<p>新建一个文本文件 <code>f.dot</code> 。</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">digraph work_flow {
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">subgraph cluster0 {
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">node[style = filled, color = white];
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">style = filled;
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">color = lightgrey;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">a0-&gt;a1-&gt;a2-&gt;a3;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">label = &quot;prcess #1&quot;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">}
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">subgraph cluster1 {
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">node[style = filled];
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">b0-&gt;b1-&gt;b2-&gt;b3;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">label = &quot;process #2&quot;;
</span><span style="color:#dcdcdc;">        </span><span style="color:#dcdcdc;">color = blue;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">}
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">start-&gt;a0;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">start-&gt;b0;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">a1-&gt;b3;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">b2-&gt;a3;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">a3-&gt;end;
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">b3-&gt;end;
</span><span style="color:#dcdcdc;">
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">start[shape=Mdiamond];
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">end[shape=Msquare];
</span><span style="color:#dcdcdc;">}
</span></pre>
<p>~运行 <code>dot -Tpng f.dot -o f.png</code>~
运行 <code>dot -Tsvg f.dot -o f.svg</code></p>
<p>得到：</p>
<p><img src="https://www.wangbo.im/posts/2017-03-20-fast-into-graphviz/demo5_work_flow.svg" alt="f.svg" /></p>
<h1 id="utilities"><a class="zola-anchor" href="#utilities" aria-label="Anchor link for: utilities">🔗</a>
Utilities</h1>
<ul>
<li>dot       : filter for drawing directed graphs</li>
<li>neato     : filter for drawing undirected graphs</li>
<li>twopi     : filter for radial layouts of graphs</li>
<li>circo     : filter for circular layout of graphs</li>
<li>fdp       : filter for drawing undirected graphs</li>
<li>sfdp      : filter for drawing large undirected graphs</li>
<li>patchwork : filter for tree maps</li>
</ul>
<p>以上命令工具是同一套代码的wrapper，共享相同的命令行参数:</p>
<ul>
<li><code>-G</code> sets a default graph attribute.</li>
<li><code>-N</code> sets a default node attribute.</li>
<li><code>-E</code> sets a default edge attribute.</li>
<li><code>-Tlang</code> sets the output language.</li>
<li><code>-Klayout</code> override the default layout engine implied by the command name.</li>
<li><code>-O</code> automatically generate output filenames based on the input filename and the -T format.</li>
<li><code>-ooutfile</code> writes output to file outfile.</li>
</ul>
<p>常用的输出格式有:</p>
<ul>
<li>-Tps (PostScript)</li>
<li>-Tsvg -Tsvgz (Structured Vector Graphics)</li>
<li>-Tfig (XFIG graphics)</li>
<li>-Tpng -Tgif (bitmap graphics)</li>
<li>-Timap (imagemap files for httpd servers for each node or edge that has a non‐null &quot;href&quot; attribute)</li>
<li>-Tcmapx (client‐side imagemap for use in html and xhtml)</li>
</ul>
<p>更多输出格式参见 <a href="https://graphviz.gitlab.io/_pages/doc/info/output.html">https://graphviz.gitlab.io/_pages/doc/info/output.html</a> 。</p>
<h1 id="dot-language"><a class="zola-anchor" href="#dot-language" aria-label="Anchor link for: dot-language">🔗</a>
DOT Language</h1>
<h2 id="abstract-grammar-definition"><a class="zola-anchor" href="#abstract-grammar-definition" aria-label="Anchor link for: abstract-grammar-definition">🔗</a>
Abstract Grammar Definition</h2>
<p>官方对DOT语言的语法的描述如下：</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">     </span><span style="color:#dcdcdc;">graph: [ strict ] (graph | digraph) [ ID ] &#39;{&#39; stmt_list &#39;}&#39;
</span><span style="color:#dcdcdc;"> </span><span style="color:#dcdcdc;">stmt_list: [ stmt [ &#39;;&#39; ] stmt_list ]
</span><span style="color:#dcdcdc;">      </span><span style="color:#dcdcdc;">stmt: node_stmt |	edge_stmt |	attr_stmt |	ID &#39;=&#39; ID |	subgraph
</span><span style="color:#dcdcdc;"> </span><span style="color:#dcdcdc;">attr_stmt: (graph | node | edge) attr_list
</span><span style="color:#dcdcdc;"> </span><span style="color:#dcdcdc;">attr_list: &#39;[&#39; [ a_list ] &#39;]&#39; [ attr_list ]
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">a_list: ID &#39;=&#39; ID [ (&#39;;&#39; | &#39;,&#39;) ] [ a_list ]
</span><span style="color:#dcdcdc;"> </span><span style="color:#dcdcdc;">edge_stmt: (node_id | subgraph) edgeRHS [ attr_list ]
</span><span style="color:#dcdcdc;">   </span><span style="color:#dcdcdc;">edgeRHS: edgeop (node_id | subgraph) [ edgeRHS ]
</span><span style="color:#dcdcdc;"> </span><span style="color:#dcdcdc;">node_stmt: node_id [ attr_list ]
</span><span style="color:#dcdcdc;">   </span><span style="color:#dcdcdc;">node_id: ID [ port ]
</span><span style="color:#dcdcdc;">      </span><span style="color:#dcdcdc;">port: &#39;: &#39; ID [ &#39;:&#39; compass_pt ] |	&#39;:      &#39; compass_pt
</span><span style="color:#dcdcdc;">  </span><span style="color:#dcdcdc;">subgraph: [ subgraph [ ID ] ] &#39;{&#39; stmt_list &#39;}&#39;
</span><span style="color:#dcdcdc;">compass_pt: (n | ne | e | se | s | sw | w | nw | c | _)
</span></pre>
<p>具体说明，参见 <a href="http://www.graphviz.org/content/dot-language">The DOT Language</a>
。</p>
<h2 id="keywords"><a class="zola-anchor" href="#keywords" aria-label="Anchor link for: keywords">🔗</a>
keywords</h2>
<p>DOT 语言里面的关键字是大小写无关的 (node, edge, graph, digraph, subgraph,
strict) 。</p>
<h2 id="graph-digraph"><a class="zola-anchor" href="#graph-digraph" aria-label="Anchor link for: graph-digraph">🔗</a>
<code>graph</code> & <code>digraph</code></h2>
<p>一个图由 <code>graph</code> 或者 <code>digraph</code> 关键字定义，后面跟一个可选的图ID，后跟一对大括号 (<code>{</code>, <code>}</code>) 包围的语句块。<code>grpha</code> 是无向图，<code>digraph</code> 是有向图。</p>
<h2 id="id"><a class="zola-anchor" href="#id" aria-label="Anchor link for: id">🔗</a>
ID</h2>
<p>图ID是一个常规的字符串，可以由一个可选的双引号包围起来；如果要使用关键字作为ID，则必须要用双引号；图ID字符串中的字符可以是任意的大小写字符 (<code>[a-zA-Z\200-\377]</code>) ，下划线 (<code>_</code>) 和数字 (<code>[0-9]</code>) ，但不能是以数字开头；图ID也可以是有效的数字 (<code>[-]?(.[0-9]+ | [0-9]+(.[0-9]*)? )</code>) ；图ID也可以是有效的HTML串。</p>
<h2 id="stmt"><a class="zola-anchor" href="#stmt" aria-label="Anchor link for: stmt">🔗</a>
<code>stmt</code></h2>
<p>语句是可以是节点定义语句 (<code>node_stmt</code>) 、边定义语句 (<code>edge_stmt</code>) 、属性定义语句 (<code>attr_stmt</code>) 或者子图定义语句 (<code>subgraph</code>) 。</p>
<p>在 <code>graph</code> 中，需要用 <code>--</code> 操作符来定义一条边；在 <code>digraph</code> 中，需要用 <code>-&gt;</code> 操作符来定义一条边。</p>
<p>两个语句之间可以用一个可选的 <code>;</code> 分隔。</p>
<h2 id="subgraph"><a class="zola-anchor" href="#subgraph" aria-label="Anchor link for: subgraph">🔗</a>
<code>subgraph</code></h2>
<p>子图可以用来对节点和边进行分组。</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">A -&gt; {B C}
</span></pre>
<p>子图也可以用来批量设置属性。</p>
<pre style="background-color:#1e1e1e;">
<span style="color:#dcdcdc;">subgraph {
</span><span style="color:#dcdcdc;">    </span><span style="color:#dcdcdc;">rank = same; A; B; C;
</span><span style="color:#dcdcdc;">}
</span></pre>
<p>子图也可以用来指定布局引擎。如果子图ID以 &quot;cluster&quot;
开始，则该子图会被布局引擎作为特殊的集聚图来对待。</p>
<h2 id="strict"><a class="zola-anchor" href="#strict" aria-label="Anchor link for: strict">🔗</a>
<code>strict</code></h2>
<p>如果使用了 <code>strict</code>
关键字，则图中一个起点一个终点之间最多生成一条边。在无向图中，两个点之间最多一条边；在有向图中，两个点之间最多两条边，并且方向相反。</p>
<h2 id="attrs"><a class="zola-anchor" href="#attrs" aria-label="Anchor link for: attrs">🔗</a>
attrs</h2>
<p>属性可以是特定于节点或者边的，也可以是特定于图的。多个属性之间由空格分隔，也可以有可选的 <code>;</code> 或者 <code>,</code> 。</p>
<ul>
<li><code>name=val;</code> : 图属性</li>
<li><code>node [name=val];</code> : 节点属性</li>
<li><code>edge [name=val];</code> : 边属性</li>
</ul>
<p>详细说明，参见 <a href="https://graphviz.gitlab.io/_pages/doc/info/attrs.html">Graphviz
attrs</a> 。</p>
<h1 id="can-kao"><a class="zola-anchor" href="#can-kao" aria-label="Anchor link for: can-kao">🔗</a>
参考</h1>
<ul>
<li><a href="http://www.graphviz.org/content/dot-language">http://www.graphviz.org/content/dot-language</a></li>
<li><a href="http://www.cnblogs.com/sld666666/archive/2010/06/25/1765510.html">http://www.cnblogs.com/sld666666/archive/2010/06/25/1765510.html</a></li>
</ul>

        </div>
        
    
</div></div>
            
    <div class="pagination">
        <div class="pagination__buttons">
            </div>
    </div>
<footer class="footer">
                    <div class="footer__inner"><div class="copyright copyright--user"><span>© 2019 <a href="https://www.wangbo.im">wangbo&apos; blog</a> :: <a href="https://github.wangbo.im">Github</a> :: Powered by <a href="https://www.getzola.org/">Zola</a></span></div>
    <script type="text/javascript" src="https:&#x2F;&#x2F;www.wangbo.im&#x2F;assets&#x2F;js&#x2F;main.js"></script>
</div>
                    

                </footer></div>
    </body>
</html>
