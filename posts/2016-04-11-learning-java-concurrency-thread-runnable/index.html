

<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>wangboâ€™s blog - Learning Java Concurrency - Thread &amp; Runnable</title>

      

      
          <script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
          
      

      
          <link rel="stylesheet" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;site.css">
          
      

      
      
    </head>

    <body>
        <div class="container">

            <div id="mobile-navbar" class="mobile-navbar">
              <div class="mobile-header-logo">
                <a href="/" class="logo">WB Prime</a>
              </div>
              <div class="mobile-navbar-icon icon-out">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wangbo.im&#x2F;categories">
                            Categories
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wangbo.im&#x2F;tags">
                            Tags
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https://www.wangbo.im&#x2F;about">
                            About
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;github.wangbo.im">
                            Github
                        </a>
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                <div class="logo"><a href="https:&#x2F;&#x2F;www.wangbo.im">WB Prime</a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="https://www.wangbo.im&#x2F;categories">
                                    Categories
                                </a>
                            </li>
                        
                            <li>
                                <a href="https://www.wangbo.im&#x2F;tags">
                                    Tags
                                </a>
                            </li>
                        
                            <li>
                                <a href="https://www.wangbo.im&#x2F;about">
                                    About
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;github.wangbo.im">
                                    Github
                                </a>
                            </li>
                        
                    </ul>
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    



<article class="post">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2016-04-11-learning-java-concurrency-thread-runnable&#x2F;">Learning Java Concurrency - Thread &amp; Runnable</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2016-04-11</span>
            
        </div>
    </header>

    <div class="post-content">
      <p>Javaå¹¶å‘å¤šçº¿ç¨‹çš„ç¬¬ä¸€è¯¾ï¼Œåº”è¯¥å°±æ˜¯<code>Thread</code>äº†ã€‚é¡¾åæ€ä¹‰ï¼Œ<code>Thread</code>å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹ã€‚çº¿ç¨‹æ˜¯å¾ˆåº•å±‚çš„ä¸€ä¸ªæ¦‚å¿µï¼Œåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šå®ç°çš„æ¨¡å‹å’Œç»†èŠ‚å¹¶ä¸ç›¸åŒï¼Œç”šè‡³äºå¯ä»¥è¯´å¤©å·®åœ°åˆ«ï¼›ä½†æ˜¯æ€»ä½“æ¥è¯´ï¼Œçº¿ç¨‹æ˜¯æ¯”è¿›ç¨‹æ›´ç»†ç²’åº¦çš„æ“ä½œç³»ç»Ÿè°ƒåº¦çš„å•ä½ï¼Œçº¿ç¨‹æœ‰è‡ªå·±çš„è¿è¡Œæ ˆï¼Œä½†æ˜¯åŒä¸€ä¸ªè¿›ç¨‹çš„çº¿ç¨‹å…±äº«æ–¹æ³•åŒºå’Œå †åŒºæ•°æ®ã€‚</p>
<p>å¯¹äºè¿›ç¨‹å’Œçº¿ç¨‹çš„å·®åˆ«ï¼Œæœ‰ä¸€ç§è¯´æ³•æ˜¯ï¼šçº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œè€Œè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…è¿è¡Œèµ„æºçš„åŸºæœ¬å•ä½ã€‚</p>
<p>Javaä¸­å¯¹çº¿ç¨‹ä½œäº†å¾ˆå¥½çš„å°è£…ï¼š<code>Thread</code>ç±»ã€‚<code>Thread</code>ç±»çš„ä½¿ç”¨éå¸¸ç®€å•ã€‚</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public class </span><span style="color:#8ec07c;">ThreadCase </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">private static class </span><span style="color:#8ec07c;">EchoThread </span><span style="color:#fa5c4b;">extends </span><span style="color:#8ec07c;">Thread </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">private final </span><span style="color:#8ec07c;">String </span><span style="color:#fdf4c1aa;">word;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">EchoThread</span><span style="color:#fdf4c1aa;">(</span><span style="color:#fa5c4b;">final </span><span style="color:#8ec07c;">String </span><span style="color:#fdf4c1;">word</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#fdf4c1;">this</span><span style="color:#fdf4c1aa;">.word </span><span style="color:#fe8019;">=</span><span style="color:#fdf4c1aa;"> word;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">@</span><span style="color:#fdf4c1;">Override
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">public void </span><span style="color:#8ec07c;">run</span><span style="color:#fdf4c1aa;">() {
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#fa5c4b;">for </span><span style="color:#fdf4c1aa;">(</span><span style="color:#fa5c4b;">int</span><span style="color:#fdf4c1aa;"> i </span><span style="color:#fe8019;">= </span><span style="color:#d3869b;">0</span><span style="color:#fdf4c1aa;">; i </span><span style="color:#fe8019;">&lt; </span><span style="color:#d3869b;">1000</span><span style="color:#fdf4c1aa;">; i</span><span style="color:#fe8019;">++</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#8ec07c;">System</span><span style="color:#fdf4c1aa;">.out.</span><span style="color:#fdf4c1;">println(this.getName() </span><span style="color:#fe8019;">+ </span><span style="color:#b8bb26;">&quot; echos &quot; </span><span style="color:#fe8019;">+</span><span style="color:#fdf4c1;"> word)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static void </span><span style="color:#8ec07c;">main</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">String </span><span style="color:#fa5c4b;">[] </span><span style="color:#fdf4c1;">_args</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">final </span><span style="color:#8ec07c;">Thread</span><span style="color:#fdf4c1aa;"> echo1 </span><span style="color:#fe8019;">= </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">EchoThread</span><span style="color:#fdf4c1aa;">(</span><span style="color:#b8bb26;">&quot;First&quot;</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">final </span><span style="color:#8ec07c;">Thread</span><span style="color:#fdf4c1aa;"> echo2 </span><span style="color:#fe8019;">= </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">EchoThread</span><span style="color:#fdf4c1aa;">(</span><span style="color:#b8bb26;">&quot;Second&quot;</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#8ec07c;">System</span><span style="color:#fdf4c1aa;">.out.</span><span style="color:#fdf4c1;">println(</span><span style="color:#b8bb26;">&quot;Main thread started!&quot;</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">echo1.</span><span style="color:#fdf4c1;">start()</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">echo2.</span><span style="color:#fdf4c1;">start()</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1;">joinThread(echo1)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1;">joinThread(echo2)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#8ec07c;">System</span><span style="color:#fdf4c1aa;">.out.</span><span style="color:#fdf4c1;">println(</span><span style="color:#b8bb26;">&quot;Main thread finished!&quot;</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">private static void </span><span style="color:#8ec07c;">joinThread</span><span style="color:#fdf4c1aa;">(</span><span style="color:#fa5c4b;">final </span><span style="color:#8ec07c;">Thread </span><span style="color:#fdf4c1;">th</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">try </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#fdf4c1aa;">th.</span><span style="color:#fdf4c1;">join()</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">} </span><span style="color:#fa5c4b;">catch </span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">InterruptedException </span><span style="color:#fdf4c1;">e</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#8ec07c;">System</span><span style="color:#fdf4c1aa;">.out.</span><span style="color:#fdf4c1;">println(th.getName() </span><span style="color:#fe8019;">+ </span><span style="color:#b8bb26;">&quot; interrupted!&quot;</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">}
</span></pre>
<p>å¯ä»¥å¾ˆæ˜æ˜¾åœ°å‘ç°ï¼š</p>
<ul>
<li>mainè´Ÿè´£å¯åŠ¨å…¶ä»–çº¿ç¨‹ï¼Œmainæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹</li>
<li>çº¿ç¨‹çš„è°ƒåº¦æ˜¯éš¾ä»¥é¢„æ–™çš„ï¼Œ<code>echo1</code>å’Œ<code>echo2</code>çš„è¾“å‡ºç»“æœç›¸äº’äº¤é”™å¯ä»¥çœ‹å‡ºè¿™ä¸€ç‚¹</li>
<li>çº¿ç¨‹ä¹‹é—´å¯ä»¥è¿›è¡ŒåŒæ­¥æ§åˆ¶ï¼Œä½¿ç”¨<code>Thread.join()</code>æ–¹æ³•å¯ä»¥å¼ºåˆ¶ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹ç»“æŸ</li>
<li>è‡ªå®šä¹‰çº¿ç¨‹è¡Œä¸ºåªéœ€è¦é‡æ–°å®ç°<code>Thread.run()</code>æ–¹æ³•å³å¯</li>
<li>çº¿ç¨‹çš„å¯åŠ¨å…¥å£æ˜¯<code>Thread.start()</code>æ–¹æ³•ï¼Œä¸è¦ç›´æ¥è¿è¡Œ<code>Thread.run()</code>æ–¹æ³•</li>
<li><code>Thread</code>ç±»æ˜¯ä¸€ä¸ª<code>class</code>ï¼ˆä¸<code>interface</code>ç›¸å¯¹åº”ï¼‰ï¼Œæ„å‘³ç€è‡ªå®šä¹‰çº¿ç¨‹ç±»ä¸èƒ½ç»§æ‰¿åˆ«çš„çˆ¶ç±»</li>
</ul>
<p><a name="continue-reading"></a></p>
<h1 id="thread"><a class="zola-anchor" href="#thread" aria-label="Anchor link for: thread">ğŸ”—</a>
Thread</h1>
<h2 id="api-lie-biao"><a class="zola-anchor" href="#api-lie-biao" aria-label="Anchor link for: api-lie-biao">ğŸ”—</a>
API åˆ—è¡¨</h2>
<ol>
<li>Thread()</li>
<li>Thread(Runnable target)</li>
<li>Thread(Runnable target, AccessControlContext acc)</li>
<li>Thread(ThreadGroup group, Runnable target)</li>
<li>Thread(String name)</li>
<li>Thread(ThreadGroup group, String name)</li>
<li>Thread(Runnable target, String name)</li>
<li>Thread(ThreadGroup group, Runnable target, String name)</li>
<li>Thread(ThreadGroup group, Runnable target, String name, long stackSize)</li>
<li>void start()</li>
<li>void interrupt()</li>
<li>boolean isInterrupted()</li>
<li>boolean isAlive()</li>
<li>State getState()</li>
<li>void run()</li>
<li>void join(long millis)</li>
<li>void join(long millis, int nanos)</li>
<li>void join() throws InterruptedException</li>
<li>static native void sleep(long millis) throws InterruptedException</li>
<li>static void sleep(long millis, int nanos)</li>
<li>void setDaemon(boolean on)</li>
<li>boolean isDaemon()</li>
<li>static UncaughtExceptionHandler getDefaultUncaughtExceptionHandler()</li>
<li>static void setDefaultUncaughtExceptionHandler(UncaughtExceptionHandler eh)</li>
<li>UncaughtExceptionHandler getUncaughtExceptionHandler()</li>
<li>void setUncaughtExceptionHandler(UncaughtExceptionHandler eh)</li>
<li>static native Thread currentThread()</li>
</ol>
<h2 id="chuang-jian-xian-cheng-lei-dui-xiang"><a class="zola-anchor" href="#chuang-jian-xian-cheng-lei-dui-xiang" aria-label="Anchor link for: chuang-jian-xian-cheng-lei-dui-xiang">ğŸ”—</a>
åˆ›å»ºçº¿ç¨‹ç±»å¯¹è±¡</h2>
<p><code>Thread</code>ç±»ä¸€å…±æœ‰9ä¸ªå…¬å¼€çš„æ„é€ å‡½æ•°ï¼Œå’‹ä¸€çœ‹å¾ˆæ‚ä¹±æ— ç« çš„ï¼Œä½†æ˜¯å…¶å®æ˜¯æœ‰è§„å¾‹çš„ã€‚</p>
<p>è€ƒè™‘ä»¥ä¸‹äº‹å®ï¼š</p>
<ul>
<li>æ¯ä¸ªçº¿ç¨‹åº”è¯¥æœ‰ä¸€ä¸ªåå­—ï¼Œç”¨æ¥æ ‡è¯†è‡ªå·±</li>
<li>æ¯ä¸ªçº¿ç¨‹å¯ä»¥æœ‰è‡ªå·±çš„è¡Œä¸ºï¼Œåº”è¯¥æœ‰ä¸€ä¸ªç”¨äºè‡ªå®šä¹‰è¡Œä¸ºçš„ç±»<code>Runnable</code></li>
<li>çº¿ç¨‹åº”è¯¥å¯ä»¥åˆ†ç»„ï¼Œå±äºæŸä¸ªç‰¹å®šçš„<code>ThreadGroup</code>å®ä¾‹</li>
<li>çº¿ç¨‹åº”è¯¥æœ‰æƒé™æ§åˆ¶ï¼Œç”¨<code>AccessControlContext</code>æ¥è®¾ç½®</li>
<li>æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„æ ˆï¼Œåº”è¯¥å¯ä»¥è‡ªå®šä¹‰æ ˆçš„å¤§å°</li>
</ul>
<p>è¿™äº›çº¿ç¨‹ç›¸å…³çš„å±æ€§ç›¸äº’ç»„åˆï¼Œå¹¶æ·»åŠ ä¸€äº›é»˜è®¤å€¼ï¼Œèƒ½å¤Ÿå¾—åˆ°çš„æ„é€ å‡½æ•°ç»å¯¹ä¸æ­¢9ä¸ªï¼Œå“ˆï¼</p>
<p>å®é™…ä¸Šï¼Œä»¥ä¸Šæ‰€æœ‰çš„æ„é€ å‡½æ•°éƒ½æ˜¯è°ƒç”¨äº†å†…éƒ¨ç§æœ‰çš„<code>init()</code>æ–¹æ³•ã€‚</p>
<p>æ³¨æ„ï¼š<code>Thread</code>ç±»æ˜¯ä¸€ä¸ªæ™®é€šçš„Javaç±»ï¼Œæ‰€ä»¥æ„é€ å™¨åˆ›å»ºçš„å¯¹è±¡å¼•ç”¨æ˜¯åˆ†é…åœ¨å½“å‰çš„çº¿ç¨‹ã€‚è¯¥å®ä¾‹å¯¹åº”çš„çº¿ç¨‹è¿˜æ²¡æœ‰è¢«åˆ›å»ºã€‚</p>
<h2 id="qi-dong-xian-cheng"><a class="zola-anchor" href="#qi-dong-xian-cheng" aria-label="Anchor link for: qi-dong-xian-cheng">ğŸ”—</a>
å¯åŠ¨çº¿ç¨‹</h2>
<p>æ„é€ äº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ä¹‹åï¼Œå°±å¯ä»¥å¯åŠ¨è¯¥çº¿ç¨‹å¯¹è±¡ä»£è¡¨çš„çº¿ç¨‹å¼€å§‹æ‰§è¡Œä»»åŠ¡ã€‚</p>
<p><code>run()</code>æ–¹æ³•é‡Œé¢æ˜¯éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚æƒ³è¦åœ¨è¯¥çº¿ç¨‹å¯¹è±¡ä»£è¡¨çš„çº¿ç¨‹ä¸­è¿è¡Œè¯¥ä»»åŠ¡ï¼Œéœ€è¦è°ƒç”¨<code>start()</code>æ–¹æ³•ã€‚</p>
<p>éœ€è¦å†æ¬¡æ¾„æ¸…ä¸€ä¸‹ï¼Œ<code>Thread</code>å¯¹è±¡æ˜¯å­˜åœ¨äºåˆ›å»ºå®ƒçš„çº¿ç¨‹ä¸­ï¼Œè°ƒç”¨<code>start()</code>æ–¹æ³•ä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹æ¥è¿è¡Œ<code>run()</code>é‡Œé¢çš„ä»£ç ã€‚å¦‚æœç›´æ¥è°ƒç”¨<code>run()</code>æ–¹æ³•ï¼Œåªæ˜¯è®©å½“å‰çº¿ç¨‹å»æ‰§è¡Œè¯¥ä»»åŠ¡ï¼Œè¾¾ä¸åˆ°é¢„æœŸçš„æ•ˆæœã€‚</p>
<p>ç”±äºçº¿ç¨‹çš„è¿è¡Œéœ€è¦æ“ä½œç³»ç»Ÿè¿›è¡Œè°ƒåº¦ï¼Œæ‰€ä»¥æ‰§è¡Œ<code>start()</code>æ–¹æ³•ä¹‹åï¼Œä»€ä¹ˆæ—¶å€™æ‰§è¡Œçº¿ç¨‹æ˜¯ä¸å¯é¢„æœŸçš„ã€‚å¦‚æœå¯¹çº¿ç¨‹è¿è¡Œçš„å…ˆåé¡ºåºæœ‰è¦æ±‚ï¼Œè¯·ä¸»åŠ¨å¯¹çº¿ç¨‹è¿›è¡ŒåŒæ­¥æ§åˆ¶ã€‚</p>
<h2 id="xian-cheng-de-sheng-ming-zhou-qi"><a class="zola-anchor" href="#xian-cheng-de-sheng-ming-zhou-qi" aria-label="Anchor link for: xian-cheng-de-sheng-ming-zhou-qi">ğŸ”—</a>
çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h2>
<p>å½“å‰çº¿ç¨‹åˆ›å»ºäº†<code>Thread</code>å¯¹è±¡ï¼Œå®é™…çš„çº¿ç¨‹è¿˜æ²¡æœ‰è¢«åˆ›å»ºï¼Œçº¿ç¨‹å¯¹è±¡å¤„äº<code>NEW</code>çŠ¶æ€ã€‚</p>
<p>æ ¹æ®<code>Thread</code>çš„apiè¯´æ˜ï¼Œä¸€ä¸ª<code>Thread</code>å¯¹è±¡ä¼šæœ‰6ç§çŠ¶æ€ï¼ŒåŒä¸€æ—¶é—´è¯¥å¯¹è±¡åªå¯èƒ½å¤„äºä¸€ç§çŠ¶æ€ã€‚</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public enum </span><span style="color:#8ec07c;">State </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1;">NEW</span><span style="color:#fdf4c1aa;">,			</span><span style="font-style:italic;color:#928374;">// æ–°å»ºçŠ¶æ€
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1;">RUNNABLE</span><span style="color:#fdf4c1aa;">, 		</span><span style="font-style:italic;color:#928374;">// è¿è¡ŒçŠ¶æ€
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1;">BLOCKED</span><span style="color:#fdf4c1aa;">,		</span><span style="font-style:italic;color:#928374;">// é˜»å¡çŠ¶æ€
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1;">WAITING</span><span style="color:#fdf4c1aa;">,		</span><span style="font-style:italic;color:#928374;">// æ— æ¡ä»¶çš„ç­‰å¾…çŠ¶æ€
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1;">TIMED_WAITING</span><span style="color:#fdf4c1aa;">, 	</span><span style="font-style:italic;color:#928374;">// æœ‰æ¡ä»¶çš„ç­‰å¾…çŠ¶æ€
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1;">TERMINATED</span><span style="color:#fdf4c1aa;">; 	</span><span style="font-style:italic;color:#928374;">// ç»ˆæ­¢çŠ¶æ€
</span><span style="color:#fdf4c1aa;">}
</span></pre>
<p>æ–°å»ºçŠ¶æ€è¡¨æ˜çº¿ç¨‹å¯¹è±¡è¿˜æœªè¿è¡Œï¼›è¿è¡ŒçŠ¶æ€è¡¨æ˜çº¿ç¨‹å¯¹è±¡æ­£åœ¨è¿è¡Œä¸€ä¸ªçº¿ç¨‹ï¼›é˜»å¡çŠ¶æ€è¡¨æ˜æœ¬çº¿ç¨‹å¯¹è±¡åœ¨ç­‰å¾…ä¸€ä¸ªé”æˆ–åŒæ­¥å™¨ï¼›æ— æ¡ä»¶ç­‰å¾…çŠ¶æ€è¡¨æ˜æœ¬çº¿ç¨‹å¯¹è±¡åœ¨æ— é™æœŸåœ°ç­‰å¾…ä¸€ä¸ªæ¡ä»¶ï¼Œæ¯”å¦‚è°ƒç”¨äº†æ— è¿‡æœŸæ—¶é—´çš„<code>Object.wait()</code>ã€<code>Thread.join()</code>ç­‰æ–¹æ³•ï¼›æœ‰æ¡ä»¶ç­‰å¾…çŠ¶æ€è¡¨æ˜æœ¬çº¿ç¨‹å¯¹è±¡åœ¨æœ‰æ¡ä»¶åœ°ç­‰å¾…ä¸€ä¸ªæ¡ä»¶ï¼Œæ˜¯æ— æ¡ä»¶ç­‰å¾…çŠ¶æ€çš„è¿‡æœŸæ—¶é—´ç‰ˆæœ¬ï¼ˆtimeoutï¼‰ï¼›ç»ˆæ­¢çŠ¶æ€è¡¨æ˜æœ¬çº¿ç¨‹å¯¹è±¡ä»£è¡¨çš„çº¿ç¨‹å·²ç»ç»“æŸè¿è¡Œã€‚</p>
<h2 id="zi-ding-yi-xian-cheng-xing-wei"><a class="zola-anchor" href="#zi-ding-yi-xian-cheng-xing-wei" aria-label="Anchor link for: zi-ding-yi-xian-cheng-xing-wei">ğŸ”—</a>
è‡ªå®šä¹‰çº¿ç¨‹è¡Œä¸º</h2>
<p>å‰é¢å·²ç»è¯´åˆ°ï¼Œçº¿ç¨‹æ‰§è¡Œçš„ä»»åŠ¡åœ¨<code>run()</code>æ–¹æ³•é‡Œé¢ã€‚æ‰€ä»¥ï¼Œè‡ªå®šä¹‰çº¿ç¨‹å°±éœ€è¦è‡ªå®šä¹‰è¯¥æ–¹æ³•ã€‚</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public</span><span style="color:#fdf4c1aa;"> void </span><span style="color:#fdf4c1;">run() </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">if </span><span style="color:#fdf4c1aa;">(target </span><span style="color:#fe8019;">!= </span><span style="color:#d3869b;">null</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">target.</span><span style="color:#fdf4c1;">run()</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">}
</span></pre>
<p><code>run()</code>æ–¹æ³•çš„é»˜è®¤å®ç°æ˜¯å»æ‰§è¡Œæ„é€ å™¨é‡Œé¢æä¾›çš„<code>Runnable</code>å¯¹è±¡çš„<code>run()</code>æ–¹æ³•ã€‚</p>
<p>æ‰€ä»¥ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹ã€‚</p>
<ul>
<li>ç»§æ‰¿<code>Thread</code>ç±»ï¼Œè¦†ç›–<code>run()</code>æ–¹æ³•</li>
<li>åˆ›å»ºä¸€ä¸ª<code>Runnable</code>å¯¹è±¡å¹¶ç”¨ä¹‹æ„é€ ä¸€ä¸ª<code>Thread</code>å¯¹è±¡</li>
</ul>
<p>è¿™ä¸¤ç§æ–¹å¼æ²¡æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ«ï¼Œé€‰æ‹©å“ªä¸€ç§éœ€è¦çœ‹å…·ä½“çš„åœºåˆã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ<code>Thread</code>ç±»å®ç°äº†<code>Runnable</code>æ¥å£ã€‚</p>
<h2 id="xian-cheng-deng-dai"><a class="zola-anchor" href="#xian-cheng-deng-dai" aria-label="Anchor link for: xian-cheng-deng-dai">ğŸ”—</a>
çº¿ç¨‹ç­‰å¾…</h2>
<p>çº¿ç¨‹çš„æ“ä½œç³»ç»Ÿè°ƒåº¦æ˜¯ä¸å¯é¢„æœŸçš„ï¼Œæ‰€ä»¥åœ¨éœ€è¦æ˜¾å¼åœ°æ§åˆ¶çº¿ç¨‹è¿è¡Œçš„åœºåˆï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„æ–¹æ³•æ¥è¾¾åˆ°ç›®çš„ã€‚</p>
<p>æ¯”è¾ƒé«˜çº§çš„å·¥å…·æœ‰<code>ReentrantLock</code>ã€<code>CountDownLatch</code>å’Œ<code>Semaphore</code>ç­‰ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯è°ƒç”¨<code>Thread.join()</code>æ–¹æ³•ã€‚</p>
<p>å‡å¦‚æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡Aï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„çº¿ç¨‹å¯¹è±¡Bï¼Œç„¶åè°ƒç”¨<code>B.start()</code>å¯åŠ¨Bçº¿ç¨‹ã€‚è¿™æ—¶å€™Açº¿ç¨‹å¯ä»¥ç´§æ¥ç€è°ƒç”¨<code>B.join()</code>è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼ŒçŸ¥é“Bçº¿ç¨‹æ‰§è¡Œå®Œæ¯•æ‰å¼€å§‹æ‰§è¡ŒAçº¿ç¨‹ã€‚</p>
<p><code>join()</code>æ–¹æ³•æœ‰å¤šä¸ªå˜ä½“ï¼ŒåŒºåˆ«åœ¨äºæ˜¯å¦æä¾›è¶…æ—¶æ—¶é—´ã€‚å¦‚æœå¯¹çº¿ç¨‹å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸè¿˜æœ‰æ˜ åƒçš„è¯ï¼Œæä¾›äº†è¶…æ—¶æ—¶é—´çš„<code>join()</code>æ–¹æ³•ä¼šå¯¼è‡´å½“å‰çº¿ç¨‹è¿›å…¥æœ‰æ¡ä»¶ç­‰å¾…çŠ¶æ€ï¼Œåä¹‹è¿›å…¥æ— æ¡ä»¶ç­‰å¾…çŠ¶æ€ã€‚</p>
<h2 id="hou-tai-xian-cheng"><a class="zola-anchor" href="#hou-tai-xian-cheng" aria-label="Anchor link for: hou-tai-xian-cheng">ğŸ”—</a>
åå°çº¿ç¨‹</h2>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼ŒJVMä¼šç­‰å¾…æ‰€æœ‰çš„çº¿ç¨‹éƒ½è¿è¡Œç»“æŸä¹‹åæ‰ä¼šé€€å‡ºã€‚é€šè¿‡è®¾ç½®çº¿ç¨‹ä¸ºåå°çº¿ç¨‹å¯ä»¥ä½¿å¾—JVMä¸ç”¨ç­‰å¾…ã€‚</p>
<p>å½“æ‰€æœ‰è¿è¡Œçš„çº¿ç¨‹éƒ½æ˜¯åå°çº¿ç¨‹æ—¶ï¼ŒJVMä¼šç»“æŸè¿è¡Œã€‚</p>
<p><code>setDaemon()</code>æ–¹æ³•ç”¨æ¥è®¾ç½®çº¿ç¨‹ä¸ºåå°çº¿ç¨‹ï¼Œ<code>isDaemon()</code>æ–¹æ³•å¯ä»¥ç”¨æ¥æ£€æµ‹æ˜¯å¦ä¸ºåå°çº¿ç¨‹ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>setDaemon()</code>æ–¹æ³•éœ€è¦åœ¨<code>start()</code>æ–¹æ³•è¢«è°ƒç”¨ä¹‹å‰è°ƒç”¨æ‰èƒ½ç”Ÿæ•ˆã€‚</p>
<h2 id="yi-chang-chu-li"><a class="zola-anchor" href="#yi-chang-chu-li" aria-label="Anchor link for: yi-chang-chu-li">ğŸ”—</a>
å¼‚å¸¸å¤„ç†</h2>
<p>çº¿ç¨‹æ‰§è¡Œ<code>run()</code>æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½ä¼šé‡åˆ°æœªæ•è·çš„å¼‚å¸¸ã€‚Javaè§„èŒƒè§„å®šï¼ŒJVMåœ¨æ‰§è¡Œçº¿ç¨‹è¿‡ç¨‹ä¸­é‡åˆ°äº†æœªæ•è·çš„å¼‚å¸¸ï¼Œä¼šä¸»åŠ¨å»å¯»æ‰¾è¯¥çº¿ç¨‹å¯¹è±¡çš„æœªæ•è·å¼‚å¸¸å¤„ç†å™¨ï¼Œå¦‚æœæ²¡æ‰¾åˆ°å°±å»è¯¥çº¿ç¨‹å¯¹è±¡çš„<code>ThreadGroup</code>å¯¹è±¡é‡Œæ‰¾ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°å°±å»æ‰¾<code>Thread</code>ç±»çš„é™æ€çš„æœªæ•è·å¼‚å¸¸å¤„ç†å™¨ã€‚</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public interface </span><span style="color:#8ec07c;">UncaughtExceptionHandler </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">void </span><span style="color:#8ec07c;">uncaughtException</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">Thread </span><span style="color:#fdf4c1;">t</span><span style="color:#fdf4c1aa;">, </span><span style="color:#8ec07c;">Throwable </span><span style="color:#fdf4c1;">e</span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">private volatile </span><span style="color:#8ec07c;">UncaughtExceptionHandler</span><span style="color:#fdf4c1aa;"> uncaughtExceptionHandler;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">private static volatile </span><span style="color:#8ec07c;">UncaughtExceptionHandler</span><span style="color:#fdf4c1aa;"> defaultUncaughtExceptionHandler;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public static</span><span style="color:#fdf4c1aa;"> void </span><span style="color:#fdf4c1;">setDefaultUncaughtExceptionHandler(</span><span style="color:#8ec07c;">UncaughtExceptionHandler</span><span style="color:#fdf4c1;"> eh) </span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public static </span><span style="color:#8ec07c;">UncaughtExceptionHandler </span><span style="color:#fdf4c1;">getDefaultUncaughtExceptionHandler()
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fa5c4b;">public </span><span style="color:#8ec07c;">UncaughtExceptionHandler </span><span style="color:#fdf4c1;">getUncaughtExceptionHandler()</span><span style="color:#fdf4c1aa;">;
</span></pre>
<p>å¯ä»¥é€šè¿‡ä¸Šé¢çš„æ–¹æ³•è‡ªå®šä¹‰æœªæ•è·å¼‚å¸¸çš„å¤„ç†è¡Œä¸ºã€‚</p>
<h1 id="threadgroup"><a class="zola-anchor" href="#threadgroup" aria-label="Anchor link for: threadgroup">ğŸ”—</a>
ThreadGroup</h1>
<p>é¡¾åæ€ä¹‰ï¼Œ<code>ThreadGroup</code>ç±»è¡¨å¾äº†ä¸€ä¸ªçº¿ç¨‹ç»„ã€‚</p>
<p>å¯ä»¥åœ¨åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„æ—¶å€™æŒ‡å®šæ‰€å±çš„çº¿ç¨‹ç»„ã€‚å¯ä»¥é€šè¿‡çº¿ç¨‹ç»„å¯¹è±¡æ§åˆ¶ç»„å†…çš„çº¿ç¨‹ã€‚</p>
<p><code>ThreadGroup</code>ç±»æ¯”è¾ƒæœ‰ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>void setDaemon(boolean daemon)</li>
<li>boolean isDaemon()</li>
<li>void setMaxPriority(int pri)</li>
<li>int getMaxPriority()</li>
<li>void interrupt()</li>
<li>void uncaughtException(Thread t, Throwable e)</li>
</ul>
<p>å„ä¸ªæ–¹æ³•çš„å«ä¹‰ä¸è¨€è‡ªæ˜ï¼Œæ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯<code>uncaughtException(Thread, Throwable)</code>æ–¹æ³•ã€‚å¦‚æœè¿˜è®°å¾—çº¿ç¨‹å¯¹è±¡çš„å¼‚å¸¸å¤„ç†æµç¨‹çš„è¯ï¼Œå°±èƒ½æ˜ç™½ä¸ºä»€ä¹ˆçº¿ç¨‹å¯¹è±¡æœ¬èº«æ²¡æœ‰è®¾ç½®æœªæ•è·å¼‚å¸¸å¤„ç†å™¨æ—¶ï¼Œä¼šåˆ°æ‰€å±çš„çº¿ç¨‹ç»„å¯¹è±¡é‡Œæ‰¾ã€‚</p>
<p>å› ä¸º<code>ThreadGroup</code>ç±»å®ç°äº†<code>Thread.UncaughtExceptionHandler</code>æ¥å£ã€‚<code>ThreadGroup</code>ç±»çš„<code>uncaughtException(Thread, Throwable)</code>æ–¹æ³•å®ç°ä¸­ï¼Œé¦–å…ˆå§”æ‰˜çˆ¶çº¿ç¨‹ç»„å¯¹è±¡å¤„ç†æœªæ•è·å¼‚å¸¸ï¼Œå¦‚æœæ²¡æœ‰çˆ¶çº¿ç¨‹ç»„ï¼Œåˆ™è·³åˆ°<code>Thread</code>ç±»çš„é™æ€çš„é»˜è®¤æœªæ•è·å¼‚å¸¸å¤„ç†å™¨è¿›è¡Œå¤„ç†ã€‚</p>
<h1 id="runnable"><a class="zola-anchor" href="#runnable" aria-label="Anchor link for: runnable">ğŸ”—</a>
Runnable</h1>
<p><code>Runnable</code>æ¥å£å¾ˆç®€å•ã€‚</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public interface </span><span style="color:#8ec07c;">Runnable </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public abstract void </span><span style="color:#8ec07c;">run</span><span style="color:#fdf4c1aa;">();
</span><span style="color:#fdf4c1aa;">}
</span></pre>
<p>å®é™…ä½¿ç”¨ä¸­ä½¿ç”¨<code>Runnable</code>çš„æ–¹å¼ç»å¸¸æ˜¯ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ã€‚</p>
<pre style="background-color:#282828;">
<span style="color:#fa5c4b;">public final class </span><span style="color:#8ec07c;">RunnableCase </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">public static void </span><span style="color:#8ec07c;">main</span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">String </span><span style="color:#fa5c4b;">[] </span><span style="color:#fdf4c1;">_args</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">final </span><span style="color:#8ec07c;">Thread</span><span style="color:#fdf4c1aa;"> echo1 </span><span style="color:#fe8019;">=  </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">Thread</span><span style="color:#fdf4c1aa;">(
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">Runnable</span><span style="color:#fdf4c1aa;">() {
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#fa5c4b;">public void </span><span style="color:#8ec07c;">run</span><span style="color:#fdf4c1aa;">() {
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#fa5c4b;">for </span><span style="color:#fdf4c1aa;">(</span><span style="color:#fa5c4b;">int</span><span style="color:#fdf4c1aa;"> i </span><span style="color:#fe8019;">= </span><span style="color:#d3869b;">0</span><span style="color:#fdf4c1aa;">; i </span><span style="color:#fe8019;">&lt; </span><span style="color:#d3869b;">1000</span><span style="color:#fdf4c1aa;">; i</span><span style="color:#fe8019;">++</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">                        </span><span style="color:#8ec07c;">System</span><span style="color:#fdf4c1aa;">.out.</span><span style="color:#fdf4c1;">println(</span><span style="color:#8ec07c;">Thread</span><span style="color:#fdf4c1;">.currentThread().getName() </span><span style="color:#fe8019;">+ </span><span style="color:#b8bb26;">&quot; echos first&quot;</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">final </span><span style="color:#8ec07c;">Thread</span><span style="color:#fdf4c1aa;"> echo2 </span><span style="color:#fe8019;">=  </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">Thread</span><span style="color:#fdf4c1aa;">(
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#fa5c4b;">new </span><span style="color:#8ec07c;">Runnable</span><span style="color:#fdf4c1aa;">() {
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#fa5c4b;">public void </span><span style="color:#8ec07c;">run</span><span style="color:#fdf4c1aa;">() {
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#fa5c4b;">for </span><span style="color:#fdf4c1aa;">(</span><span style="color:#fa5c4b;">int</span><span style="color:#fdf4c1aa;"> i </span><span style="color:#fe8019;">= </span><span style="color:#d3869b;">0</span><span style="color:#fdf4c1aa;">; i </span><span style="color:#fe8019;">&lt; </span><span style="color:#d3869b;">1000</span><span style="color:#fdf4c1aa;">; i</span><span style="color:#fe8019;">++</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">                        </span><span style="color:#8ec07c;">System</span><span style="color:#fdf4c1aa;">.out.</span><span style="color:#fdf4c1;">println(</span><span style="color:#8ec07c;">Thread</span><span style="color:#fdf4c1;">.currentThread().getName() </span><span style="color:#fe8019;">+ </span><span style="color:#b8bb26;">&quot; echos second&quot;</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">                    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">                </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">);
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#8ec07c;">System</span><span style="color:#fdf4c1aa;">.out.</span><span style="color:#fdf4c1;">println(</span><span style="color:#b8bb26;">&quot;Main thread started!&quot;</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">echo1.</span><span style="color:#fdf4c1;">start()</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">echo2.</span><span style="color:#fdf4c1;">start()</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1;">joinThread(echo1)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1;">joinThread(echo2)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#8ec07c;">System</span><span style="color:#fdf4c1aa;">.out.</span><span style="color:#fdf4c1;">println(</span><span style="color:#b8bb26;">&quot;Main thread finished!&quot;</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fa5c4b;">private static void </span><span style="color:#8ec07c;">joinThread</span><span style="color:#fdf4c1aa;">(</span><span style="color:#fa5c4b;">final </span><span style="color:#8ec07c;">Thread </span><span style="color:#fdf4c1;">th</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fa5c4b;">try </span><span style="color:#fdf4c1aa;">{
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#fdf4c1aa;">th.</span><span style="color:#fdf4c1;">join()</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">} </span><span style="color:#fa5c4b;">catch </span><span style="color:#fdf4c1aa;">(</span><span style="color:#8ec07c;">InterruptedException </span><span style="color:#fdf4c1;">e</span><span style="color:#fdf4c1aa;">) {
</span><span style="color:#fdf4c1aa;">            </span><span style="color:#8ec07c;">System</span><span style="color:#fdf4c1aa;">.out.</span><span style="color:#fdf4c1;">println(th.getName() </span><span style="color:#fe8019;">+ </span><span style="color:#b8bb26;">&quot; interrupted!&quot;</span><span style="color:#fdf4c1;">)</span><span style="color:#fdf4c1aa;">;
</span><span style="color:#fdf4c1aa;">        </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">    </span><span style="color:#fdf4c1aa;">}
</span><span style="color:#fdf4c1aa;">}
</span></pre><h1 id="dai-ma-xia-zai"><a class="zola-anchor" href="#dai-ma-xia-zai" aria-label="Anchor link for: dai-ma-xia-zai">ğŸ”—</a>
ä»£ç ä¸‹è½½</h1>
<p><a href="https://www.wangbo.im/posts/2016-04-11-learning-java-concurrency-thread-runnable/RunnableCase.java">RunnableCase.java</a>
<a href="https://www.wangbo.im/posts/2016-04-11-learning-java-concurrency-thread-runnable/ThreadCase.java">ThreadCase.java</a></p>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;java&#x2F;">#java</a>
                    
                        <a href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;tags&#x2F;concurrency&#x2F;">#concurrency</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;spring-mvc-testing-integration-testing-jsonpath&#x2F;">â€¹ Spring MVC Integration Testing - JsonPath</a>
                    
                    
                        <a class="next" href="https:&#x2F;&#x2F;www.wangbo.im&#x2F;posts&#x2F;2016-04-13-learning-java-concurrency-futuretask-callable&#x2F;">Learning Java Concurrency - FutureTask &amp; Callable â€º</a>
                    
                    
                    
                </div>
            

        

    </div>

    
    
</article>


                </div>
            </main>

            
            
        </div>

      
          <script type="text/javascript" src="https:&#x2F;&#x2F;www.wangbo.im&#x2F;even.js" ></script>
      
    </body>

</html>
