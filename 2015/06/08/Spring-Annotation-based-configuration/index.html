<!DOCTYPE html>
<html lang="zh">
    <head>
    <!-- 
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.0 -->

    <!-- Title -->
    
    <title>
        
            Spring: Annotation based configuration | 
        
        wbprime
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/images/favicon.png">
    <link rel="icon" sizes="192x192" href="/images/favicon.png">
    <link rel="apple-touch-icon" href="/images/favicon.png">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Elvis Wang">
    <meta name="description" content="Why bloging ?">
    <meta name="keywords" content="wbprime,Java,Spring">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="wbprime">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://www.wbprime.me">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Spring: Annotation based configuration | wbprime">
    <meta property="og:description" content="Why bloging ?">
    <meta property="og:article:tag" content="Java"> <meta property="og:article:tag" content="Spring"> 

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }
</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>



    <script src="/js/jquery.min.js"></script>
    <script src="/js/queue.js"></script>

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    

    

    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Dependency-Injection-Annotations"><span class="post-toc-number">1.</span> <span class="post-toc-text">Dependency Injection Annotations</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Required"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">@Required</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Autowired"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">@Autowired</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Autowired-Combined-with-Qualifier"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">@Autowired Combined with @Qualifier</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Custom-Qualifier"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">Custom @Qualifier</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Resource"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">@Resource</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PostConstruct-and-PreDestroy"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">@PostConstruct and @PreDestroy</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Classpath-Scanning"><span class="post-toc-number">2.</span> <span class="post-toc-text">Classpath Scanning</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Component-Repository-Service-and-Controller"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">@Component, @Repository, @Service and @Controller</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Scope"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">@Scope</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Lazy"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">@Lazy</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Beans-Filtering"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">Beans Filtering</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#JSR-3-0-Annotations-Alternatives"><span class="post-toc-number">3.</span> <span class="post-toc-text">JSR 3.0 Annotations Alternatives</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Inject"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">@Inject</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Named"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">@Named</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JSR-3-0-Annotations-VS-Spring-Annotations"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">JSR 3.0 Annotations VS Spring Annotations</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Summary"><span class="post-toc-number">4.</span> <span class="post-toc-text">Summary</span></a></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').css('background-image', 'url(' + '/img/random/material-' + randomNum + '.png' + ')');
</script>

        
    
            <p class="article-headline-p">
                Spring: Annotation based configuration
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Elvis Wang</strong>
        <span>6月 08, 2015</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">devices other</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAAC30lEQVR42u3aS27bQBAFQN3/0snWQGLqvR7KoGeKK4GSqa4x4HZ/Xn+OvF7Y2NjY2NjY2NjYj2S/4us/D/rnfvL5r+8mr797t40ZGxsbe2/2mz/9l0Fcf/5NKPGd60OJYsbGxsY+gP1diLPUkh9QniBnMWNjY2Njr7++vnN9HG1Zgo2NjY09S2BJcG2TKHkaNjY2NnbboLlm33VYbSvq4700bGxs7Mez86Hpc17/6HwbGxsb+8Hs9nqVV/6zSdpbihwbGxt7U3aeGPJVm/Vh8PrxYWNjY5/JboesszHD+mJQHgk2Njb2Cew20HZBpz2atuzJY8DGxsbeld2mjbvGvS3g+leyNN/GxsbG/uXs5AjaxtNsyeZ6oec1urCxsbGx20Z/DsjLodlzivk2NjY29hbsfHDbNnraQFdWf4a9NGxsbOyN2HeNeNth7fr33jboxcbGxv6F7DyU9VSUJ8tZUnwzMMDGxsY+gN2u0dz1hNkIIR9XY2NjY+/NbkcFK82mWTHTNqrqQS82Njb2L2d/LtBZybFSlrwpsbCxsbE3Zc/GrjksHxXki0FtqwsbGxv7BHbyD/2sYIiWacqUmTeSsLGxsc9hJ+PbPDklpUI7bM4XfepeGjY2NvZG7JWDaA9rmITK5hc2Njb2Cey22MibSnkLqR0tf2T5EhsbG3sLdpucZmkmXwBq0+EwgWFjY2NvxE6aOHlzp23xtyXHUlMJGxsbe2v2Siu/TUVtI2npPjY2NvYB7CSl5QmvTZOzMiZfxMTGxsbeld1eeTmRJ63ZCk6bDrGxsbF3ZbeJIT+aJNyVMXA9hMbGxsbemr3+lTkpP9bkaG5YvsTGxsbeiJ0v07RrN8lBfKK1hI2NjY3dJqT8yXeNh28oRbCxsbGPZM/uzMqMlVEENjY29mnsleHucI3mpqQVxYyNjY29NXtlqTFfykkOun3OD823sbGxsR/MPufCxsbGxsbGxsbGfsz1F9TrC21yu10xAAAAAElFTkSuQmCC">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/java/">Java</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/spring/">Spring</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Spring: Annotation based configuration&url=http://www.wbprime.me//2015/06/08/Spring-Annotation-based-configuration/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Spring: Annotation based configuration&url=http://www.wbprime.me//2015/06/08/Spring-Annotation-based-configuration/index.html&via=Elvis Wang" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://www.wbprime.me//2015/06/08/Spring-Annotation-based-configuration/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://www.wbprime.me//2015/06/08/Spring-Annotation-based-configuration/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>Despite XML-based configuration, the Springframework provides full support for annotation-based metadata configuration.</p>
<p>XML-based configuration isolates the configuration metadata from source code using independent xml files, while annotation-based configuration mixes source code and configuration data.  Thus which is the better one to collaborate with the Springframework?  The answer is it depends.  The XML one performes good isolation between source code and configuration, however you need to bear its stupid and complex and long-but-useless xml syntax, and you must do additional work to sync youc onfiguration data and you source code when you need to update your code, which however is very frequent during development.  The annotation one is easy-understanding and simple to update/sync your configuration with your source code.  The cons is obvious that it addes more semantics to a regular Java bean leading to a mixing of configuration and source.</p>
<p>Fortunately you can use both styels and mix them together.  Note that annotation-based configuration is performed before XMl injection.</p>
<p>Note that almost all annotation-based configurations are per-class other than per-bean.</p>
<h1 id="Dependency-Injection-Annotations"><a href="#Dependency-Injection-Annotations" class="headerlink" title="Dependency Injection Annotations"></a>Dependency Injection Annotations</h1><p>Beans can be injected into a host bean through annotations.  Typical DI-related annotations are <code>@Required</code>, <code>@Autowired</code>, <code>@Resource</code>, <code>@PostConstruct</code>, <code>@PreDestroy</code>. </p>
<p>To enable annotations <code>@Required</code>, <code>@Autowired</code>, <code>@Resource</code>, <code>@PostConstruct</code>, <code>@PreDestroy</code>, you need to add a <code>&lt;context:annotation-config /&gt;</code> element in your beans xml file.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;

    &lt;context:annotation-config /&gt;
&lt;/beans&gt;
</code></pre><p>Alternatively you can include explicite <code>RequiredAnnotationBeanPostProcessor</code>, <code>AutowiredAnnotationBeanPostProcessor</code>, <code>CommonAnnotationBeanPostProcessor</code> or <code>PersistenceAnnotationBeanPostProcessor</code> dependencies instead.</p>
<p>To make it clear, these annotations help DI procedure, while the annotation detection and bean recovery are done by XML definitions.</p>
<h2 id="Required"><a href="#Required" class="headerlink" title="@Required"></a><code>@Required</code></h2><p>The <code>@Required</code> annotation applies to bean property setter to specify that this property must be populated at configuration time.  This annotation is introduced from Spring 2.0.</p>
<pre><code>public class SimpleMovieLister {

    private MovieFinder movieFinder;

    @Required
    public void setMovieFinder(MovieFinder movieFinder) {
        this.movieFinder = movieFinder;
    }

    // more methods
}
</code></pre><h2 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired"></a><code>@Autowired</code></h2><p>The <code>@Autowired</code> annotation performs autowiring by type.  This annotation is introduced from Spring 2.5.</p>
<p>The <code>@Autowired</code> annotation can be applied to field.</p>
<pre><code>public class OuterBean {
    @Autowired
    private InnerBean inner;
}
</code></pre><p>Applied to setter:</p>
<pre><code>public class OuterBean {
    private InnerBean inner;

    @Required
    public void setInner(InnerBean inner) {
        this.inner = inner;
    }
}
</code></pre><p>Applied to regular (set) method:</p>
<pre><code>public class OuterBean {
    private InnerBean1 inner1;
    private InnerBean2 inner2;

    @Autowired
    public void prepare(InnerBean1 inner1, InnerBean2 inner2) {
        this.inner1 = inner1;
        this.inner2 = inner2;
    }
}
</code></pre><p>Applied to constructor:</p>
<pre><code>public class OuterBean {
    private InnerBean inner;

    @Autowired
    public void OuterBean(InnerBean inner) {
        this.inner = inner;
    }
}
</code></pre><p>There should only be one constructor annotated with <code>@Autowired</code> in a class.  However you can use <code>required</code> attribute to annotate multi constructor.  Typically the target constructor is <code>public</code> but not limited to.</p>
<pre><code>public class OuterBean {
    private InnerBean inner;

    @Autowired
    public void OuterBean(InnerBean inner) {
        this.inner = inner;
    }

    @Autowired(required=false)
    public void OuterBean(InnerBean inner, AnotherBean anther) {
        this.inner = inner;
    }
}
</code></pre><p>Applied to array:</p>
<pre><code>public class OuterBean {
    @Autowired
    private InnerBean[] inners;
}
</code></pre><p>Applied to typed collection:</p>
<pre><code>public class OuterBean {
    @Autowired
    private Set&lt;InnerBean&gt; inners;
}
</code></pre><p>Specially, a <code>Map</code> can be autowired if and only if its key type is <code>String</code>.</p>
<pre><code>public class OuterBean {
    @Autowired
    private Map&lt;String, InnerBean&gt; innersMap;
}
</code></pre><h2 id="Autowired-Combined-with-Qualifier"><a href="#Autowired-Combined-with-Qualifier" class="headerlink" title="@Autowired Combined with @Qualifier"></a><code>@Autowired</code> Combined with <code>@Qualifier</code></h2><p>When there are multi candidates for auotwiring, <code>@Qualifier</code> can help you control wiring details. </p>
<p>Generally you can specify which bean is needed among multi beans of the same type. For example:</p>
<p>In your annotation source file:</p>
<pre><code>public class OuterBean {
    @Autowired
    @Qualifier(&quot;main&quot;)
    private InnerBean inner;
}
</code></pre><p>In your xml file:</p>
<pre><code>&lt;bean id=&quot;inner1&quot; class=&quot;InnerBean&quot;&gt;
    &lt;qualifier value=&quot;main&quot;/&gt;
&lt;/bean&gt;

&lt;bean id=&quot;inner2&quot; class=&quot;InnerBean&quot;&gt;
    &lt;qualifier value=&quot;action&quot;/&gt;
&lt;/bean&gt;

&lt;bean id=&quot;outer&quot; class=&quot;OuterBean&quot;/&gt;
</code></pre><p>Thus bean <code>inner1</code> will be autowired to bean <code>outer</code>.</p>
<p>The <code>@Qualifier</code> can also be applied to a construtor argument.</p>
<pre><code>public class OuterBean {
    @Autowired
    public void OuterBean(@Qualifier(&quot;main&quot;) InnerBean inner) {
    }
}
</code></pre><p>If the value of <code>@Qualifier</code> is not given, the bean id/name will be used as a fallback qualifier value.</p>
<h2 id="Custom-Qualifier"><a href="#Custom-Qualifier" class="headerlink" title="Custom @Qualifier"></a>Custom <code>@Qualifier</code></h2><p>Dispite value based <code>@Qualifier</code> identification, you can custom your own qualifier annotation and use type based <code>@Qualifier</code>.</p>
<p>Given:</p>
<pre><code>@Target({ElementType.FIELD, ElementType.PARAMETER})
@Retention(RetentionPolicy.RUNTIME)
@Qualifier
public @interface Genre {
    String value();
}

public class OuterBean {
    @Autowired
    @Genre(&quot;Action&quot;)
    private InnerBean inner;
}
</code></pre><p>Thus following configuration works:</p>
<pre><code>&lt;context:annotation-config/&gt;

&lt;bean class=&quot;OuterBean&quot;&gt;
    &lt;qualifier type=&quot;Genre&quot; value=&quot;Action&quot;/&gt;
&lt;/bean&gt;
</code></pre><h2 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a><code>@Resource</code></h2><p>The Spring introduces support for JSR-250 annotations like <code>@Resource</code> from version 2.5.  <code>@Resource</code> works on fields or setters, taking a name attribute indicating the bean id/name to be injected.  One of the differences between <code>@Resource</code> and <code>@Autowired</code> is that the former performs by-name injection while the latter by-type.</p>
<pre><code>public class OuterBean {

    @Resource(name=&quot;inner&quot;)
    private InnerBean inner;

    @Resource
    private InnerBean inner1;

    private InnerBean inner2;

    @Resource
    public void setInner2(InnerBean inner2) { }
}
</code></pre><p>The bean <code>inner</code> will be injected as it is specified explicitely.  However, if not specified, a fallback injection will be done by setting the field name (for field annotation, i.e., <code>inner1</code>) or the arguement name (for setter method, e.g., <code>inner2</code>).</p>
<h2 id="PostConstruct-and-PreDestroy"><a href="#PostConstruct-and-PreDestroy" class="headerlink" title="@PostConstruct and @PreDestroy"></a><code>@PostConstruct</code> and <code>@PreDestroy</code></h2><p>Similar to XML based configuration, the Spring annotation based configuration also provides annotations to support bean lifecycle management.</p>
<p>The <code>@PostConstruct</code> annotation specifies the callback after bean instantiation and dependency injection.</p>
<p>The <code>@PreDestroy</code> annotation specifies the callback before bean destruction.</p>
<pre><code>public class OuterBean {
    @PostConstruct
    public void myCustomInit() {
    }

    @PreDestroy
    public void myCustomDestroy() {
    }
}
</code></pre><h1 id="Classpath-Scanning"><a href="#Classpath-Scanning" class="headerlink" title="Classpath Scanning"></a>Classpath Scanning</h1><p>Last annotations demonstrate ways to help dependency injection, however dependency beans themself need to be specified using traditional XML definitions.</p>
<p>More or less, the Springframework also provides annotations to help bean registration and dependecy detection, removing the need of xml files.</p>
<h2 id="Component-Repository-Service-and-Controller"><a href="#Component-Repository-Service-and-Controller" class="headerlink" title="@Component, @Repository, @Service and @Controller"></a><code>@Component</code>, <code>@Repository</code>, <code>@Service</code> and <code>@Controller</code></h2><p>The <code>@Component</code> annotation is a generic marker of any conponents that are designing to managed by the Spring container.  That is to say, that the any class decorated by <code>@Component</code> would be instatiated as a bean, and the beans lifecycle is managed by the Spring container, and the beans will be scanned and filtered in DI step. </p>
<p>The <code>@Component</code> annotation provides three specializtions concentrating on semantics.  The <code>@Repository</code> annotation marks, say, a repository type (DAO).  The <code>@Service</code> annotation marks a service layer type.  The <code>@Controller</code> annotation marks a presentation layer type.  These annotations differ in semantics and may be used differently by the Spring framework in future releases.</p>
<pre><code>@Component
public class MyCustomBean {}

@Repository
public class MyCustomDAO {}

@Service
public class MyCustomService {}

@Controller
public class MyCustomController {}
</code></pre><p>To enable classpath scanning, you need additional work.  Adding following lines in your xml configuration file:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;

    &lt;context:component-scan base-package=&quot;org.example&quot;/&gt;

&lt;/beans&gt;
</code></pre><p>The <code>&lt;context:component-scan /&gt;</code> calles classpath auto scanning, specifying the qualified package name <code>org.example</code>.  This implicit enables the <code>&lt;context:annotation-config /&gt;</code> which enables <code>AutowiredAnnotationBeanPostProcessor</code>, <code>CommonAnnotationBeanPostProcessor</code> and <code>RequiredAnnotationBeanPostProcessor</code> at the same time.  So the <code>@Required</code>, <code>@Autowired</code>, <code>@PostConstruct</code> and <code>@PreDestroy</code> annotations are also out of box.</p>
<p>Also you can implement your own annotations based on <code>@Component</code> meta annotation.</p>
<pre><code>// Spring will treat @MyComponent in the same way as @Component
@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Component 
public @interface MyComponent { }
</code></pre><p>The custom <code>@MyComponent</code> annotation will be treated like the <code>@Component</code> besides more costom semantics.</p>
<p>The bean name for a annotated class is generated by the Spring following a default rule: returning the uncapitalized non-qualified class name.</p>
<p>i.g., </p>
<pre><code>@Repository
public class MyCustomDAO {}
</code></pre><p>will auto introduce a bean named *myCustomDAO”.</p>
<p>However, if you don’t like this name, you can set <code>name</code> using <code>@Repository(&quot;myBestName&quot;)</code>.  The <code>name</code> property applies to <code>@Component</code>, <code>@Repository</code>, <code>@Service</code> and <code>@Controller</code>.</p>
<p>If you don’t like the default naming rule, you can use <code>BeanNameGenerator</code> interface.</p>
<h2 id="Scope"><a href="#Scope" class="headerlink" title="@Scope"></a><code>@Scope</code></h2><p>Specifying bean scope using the <code>@Scope</code> annotation.</p>
<pre><code>@Scope(&quot;prototype&quot;)
@Repository
public class MyCustomBean { }
</code></pre><h2 id="Lazy"><a href="#Lazy" class="headerlink" title="@Lazy"></a><code>@Lazy</code></h2><p>Specifying bean lazy instantiating using the <code>@Lazy</code> annotation.</p>
<pre><code>@Lazy
@Repository
public class MyCustomBean { }
</code></pre><h2 id="Beans-Filtering"><a href="#Beans-Filtering" class="headerlink" title="Beans Filtering"></a>Beans Filtering</h2><p>You may want to cusotm the beans are to be scanned by setting some filters.  You can achieve this by adding <code>include-filter</code> and <code>exclude-filter</code> sub-element to <code>component-scan</code> element.</p>
<pre><code>&lt;beans&gt;
    &lt;context:component-scan base-package=&quot;org.example&quot;&gt;
        &lt;context:include-filter type=&quot;regex&quot;
                expression=&quot;.*Stub.*Repository&quot;/&gt;
        &lt;context:exclude-filter type=&quot;annotation&quot;
                expression=&quot;org.springframework.stereotype.Repository&quot;/&gt;
    &lt;/context:component-scan&gt;
&lt;/beans&gt;
</code></pre><p>This implies the configuration will ignore all <code>@Repository</code> annotations and using “stub Repository” instead.</p>
<p>You must set <code>type</code> and <code>expression</code> attributes for a <code>include-filter</code> or a <code>exclude-filter</code> element.  Types are <em>annotation</em>, <em>assignable</em>, <em>aspectj</em>, <em>regex</em> and <em>custom</em>.</p>
<table>
<thead>
<tr>
<th>Filter Type</th>
<th>Example Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>annotation (default)</td>
<td>org.example.SomeAnnotation</td>
<td>An annotation to be present at the type level in target components.</td>
</tr>
<tr>
<td>assignable</td>
<td>org.example.SomeClass</td>
<td>A class (or interface) that the target components are assignable to (extend/implement).</td>
</tr>
<tr>
<td>aspectj</td>
<td>org.example..*Service+</td>
<td>An AspectJ type expression to be matched by the target components.</td>
</tr>
<tr>
<td>regex</td>
<td>org.example.Default.*</td>
<td>A regex expression to be matched by the target components class names.</td>
</tr>
<tr>
<td>custom</td>
<td>org.example.MyTypeFilter</td>
<td>A custom implementation of the org.springframework.core.type .TypeFilter interface.</td>
</tr>
</tbody>
</table>
<h1 id="JSR-3-0-Annotations-Alternatives"><a href="#JSR-3-0-Annotations-Alternatives" class="headerlink" title="JSR 3.0 Annotations Alternatives"></a>JSR 3.0 Annotations Alternatives</h1><p>You can use also JSR 3.0 standard annotations for dependency injection.  These annotations are scanned in the same way as the Spring annotations.</p>
<p>To use JSR 3.0 annotations, you need to add relevant jars to your classpath.</p>
<p>For maven, adding following lines:</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;javax.inject&lt;/groupId&gt;
    &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;
    &lt;version&gt;1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h2 id="Inject"><a href="#Inject" class="headerlink" title="@Inject"></a><code>@Inject</code></h2><p>Think <code>@Inject</code> as <code>@Autowired</code>.</p>
<p>The <code>@Inject</code> annotation can be applied at the class-level, field-level, method-level and constructor-argument level.</p>
<pre><code>import javax.inject.Inject;

public class OuterBean {
    private InnerBean inner;

    @Inject
    public void setInner(InnerBean inner) {
        this.inner = inner;
    }
}
</code></pre><h2 id="Named"><a href="#Named" class="headerlink" title="@Named"></a><code>@Named</code></h2><p>Think <code>@Named</code> as <code>@Component</code>.</p>
<pre><code>import javax.inject.Named;

@Named
public class OuterBean { }
</code></pre><p>You can specify a <em>name</em> to the <code>@Named</code>.</p>
<pre><code>@Named(&quot;myOuterBean&quot;)
public class OuterBean { }
</code></pre><p>Specially, you can use <code>@Named</code> combined with <code>@Inject</code>.</p>
<pre><code>@Inject
public void setInner(@Named(&quot;main&quot;) InnerBean inner) {
    this.inner = inner;
}
</code></pre><h2 id="JSR-3-0-Annotations-VS-Spring-Annotations"><a href="#JSR-3-0-Annotations-VS-Spring-Annotations" class="headerlink" title="JSR 3.0 Annotations VS Spring Annotations"></a><em>JSR 3.0 Annotations</em> VS <em>Spring Annotations</em></h2><p>The comparison between <em>JSR 3.0 annotations</em> VS <em>Spring annotations</em> is shown in following table.</p>
<table>
<thead>
<tr>
<th>Spring</th>
<th>javax.inject.*</th>
<th>javax.inject restrictions / comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>@Autowired</td>
<td>@Inject</td>
<td>@Inject has no required attribute</td>
</tr>
<tr>
<td>@Component</td>
<td>@Named</td>
<td>-</td>
</tr>
<tr>
<td>@Scope(“singleton”)</td>
<td>@Singleton</td>
<td>The JSR-330 default scope is like Spring’s prototype. However, in order to keep it consistent with Spring’s general defaults, a JSR-330 bean declared in the Spring container is a singleton by default. In order to use a scope other than singleton, you should use Spring’s @Scope annotation.</td>
</tr>
<tr>
<td>@Qualifier</td>
<td>@Named</td>
<td>-</td>
</tr>
<tr>
<td>-@Value</td>
<td>-</td>
<td>-no equivalent</td>
</tr>
<tr>
<td>@Required</td>
<td>-</td>
<td>-no equivalent</td>
</tr>
<tr>
<td>@Lazy</td>
<td>-</td>
<td>-no equivalent</td>
</tr>
</tbody>
</table>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>The Spring annotation-based metadata configuration method is a full-featured and easy to use alternative to traditional XML-based metadata configuration.</p>
<p>Note that annotation injection is performed before XML injection, thus the latter configuration will override the former for properties wired through both approaches.</p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    




                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2016/03/30/java-concurrent-semaphore/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2015/06/02/Spring-XML-based-configuration/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="Elvis Wang's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        mail@wbprime.me
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">17</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/06/">六月 2015<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/05/">五月 2015<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2014/05/">五月 2014<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2013/05/">五月 2013<span class="sidebar_archives-count">18</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/c-c/">C/C++<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/learning-java-concurrency/">Learning Java Concurrency<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/categories/life/">Life<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/categories/mayday/">Mayday<span class="sidebar_archives-count">19</span></a></li><li><a class="sidebar_archives-link" href="/categories/spring-di/">Spring DI<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/spring-mvc-testing/">Spring MVC Testing<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/categories/tech/">Tech<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">59</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/wbprime" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;wbprime
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->
<script src="/js/lazyload.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- Swiftye -->


<!-- Local Search-->


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div>
        </body>
    
</html>
