<!doctype html><html class="theme-next mist use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css"><meta name="keywords" content="Spring,Java,"><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.0"><meta name="description" content="The Springframework annotation-based metadata configuration guide."><meta property="og:type" content="article"><meta property="og:title" content="Spring: Annotation based configuration"><meta property="og:url" content="http://www.wbprime.me/2015/06/08/Spring-Annotation-based-configuration/index.html"><meta property="og:site_name" content="wbprime"><meta property="og:description" content="The Springframework annotation-based metadata configuration guide."><meta property="og:updated_time" content="2015-06-10T05:45:49.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Spring: Annotation based configuration"><meta name="twitter:description" content="The Springframework annotation-based metadata configuration guide."><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",sidebar:{position:"left",display:"hide",offset:12,offset_float:0,b2t:!1,scrollpercent:!1},fancybox:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.wbprime.me/2015/06/08/Spring-Annotation-based-configuration/"><title>Spring: Annotation based configuration | wbprime</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container one-collumn sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">wbprime</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">Bloging for learning</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocapitalize="off" autocomplete="off" autocorrect="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://www.wbprime.me/2015/06/08/Spring-Annotation-based-configuration/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Elvis Wang"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="wbprime"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Spring: Annotation based configuration</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-06-08T10:45:49+08:00">2015-06-08 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/spring-di/" itemprop="url" rel="index"><span itemprop="name">Spring DI</span></a></span></span><div class="post-description">The Springframework annotation-based metadata configuration guide.</div></div></header><div class="post-body" itemprop="articleBody"><p>Despite XML-based configuration, the Springframework provides full support for annotation-based metadata configuration.</p><p>XML-based configuration isolates the configuration metadata from source code using independent xml files, while annotation-based configuration mixes source code and configuration data. Thus which is the better one to collaborate with the Springframework? The answer is it depends. The XML one performes good isolation between source code and configuration, however you need to bear its stupid and complex and long-but-useless xml syntax, and you must do additional work to sync youc onfiguration data and you source code when you need to update your code, which however is very frequent during development. The annotation one is easy-understanding and simple to update/sync your configuration with your source code. The cons is obvious that it addes more semantics to a regular Java bean leading to a mixing of configuration and source.</p><p>Fortunately you can use both styels and mix them together. Note that annotation-based configuration is performed before XMl injection.</p><p>Note that almost all annotation-based configurations are per-class other than per-bean.</p><h1 id="Dependency-Injection-Annotations"><a href="#Dependency-Injection-Annotations" class="headerlink" title="Dependency Injection Annotations"></a>Dependency Injection Annotations</h1><p>Beans can be injected into a host bean through annotations. Typical DI-related annotations are <code>@Required</code>, <code>@Autowired</code>, <code>@Resource</code>, <code>@PostConstruct</code>, <code>@PreDestroy</code>.</p><p>To enable annotations <code>@Required</code>, <code>@Autowired</code>, <code>@Resource</code>, <code>@PostConstruct</code>, <code>@PreDestroy</code>, you need to add a <code>&lt;context:annotation-config /&gt;</code> element in your beans xml file.</p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;

    &lt;context:annotation-config /&gt;
&lt;/beans&gt;
</code></pre><p>Alternatively you can include explicite <code>RequiredAnnotationBeanPostProcessor</code>, <code>AutowiredAnnotationBeanPostProcessor</code>, <code>CommonAnnotationBeanPostProcessor</code> or <code>PersistenceAnnotationBeanPostProcessor</code> dependencies instead.</p><p>To make it clear, these annotations help DI procedure, while the annotation detection and bean recovery are done by XML definitions.</p><h2 id="Required"><a href="#Required" class="headerlink" title="@Required"></a><code>@Required</code></h2><p>The <code>@Required</code> annotation applies to bean property setter to specify that this property must be populated at configuration time. This annotation is introduced from Spring 2.0.</p><pre><code>public class SimpleMovieLister {

    private MovieFinder movieFinder;

    @Required
    public void setMovieFinder(MovieFinder movieFinder) {
        this.movieFinder = movieFinder;
    }

    // more methods
}
</code></pre><h2 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired"></a><code>@Autowired</code></h2><p>The <code>@Autowired</code> annotation performs autowiring by type. This annotation is introduced from Spring 2.5.</p><p>The <code>@Autowired</code> annotation can be applied to field.</p><pre><code>public class OuterBean {
    @Autowired
    private InnerBean inner;
}
</code></pre><p>Applied to setter:</p><pre><code>public class OuterBean {
    private InnerBean inner;

    @Required
    public void setInner(InnerBean inner) {
        this.inner = inner;
    }
}
</code></pre><p>Applied to regular (set) method:</p><pre><code>public class OuterBean {
    private InnerBean1 inner1;
    private InnerBean2 inner2;

    @Autowired
    public void prepare(InnerBean1 inner1, InnerBean2 inner2) {
        this.inner1 = inner1;
        this.inner2 = inner2;
    }
}
</code></pre><p>Applied to constructor:</p><pre><code>public class OuterBean {
    private InnerBean inner;

    @Autowired
    public void OuterBean(InnerBean inner) {
        this.inner = inner;
    }
}
</code></pre><p>There should only be one constructor annotated with <code>@Autowired</code> in a class. However you can use <code>required</code> attribute to annotate multi constructor. Typically the target constructor is <code>public</code> but not limited to.</p><pre><code>public class OuterBean {
    private InnerBean inner;

    @Autowired
    public void OuterBean(InnerBean inner) {
        this.inner = inner;
    }

    @Autowired(required=false)
    public void OuterBean(InnerBean inner, AnotherBean anther) {
        this.inner = inner;
    }
}
</code></pre><p>Applied to array:</p><pre><code>public class OuterBean {
    @Autowired
    private InnerBean[] inners;
}
</code></pre><p>Applied to typed collection:</p><pre><code>public class OuterBean {
    @Autowired
    private Set&lt;InnerBean&gt; inners;
}
</code></pre><p>Specially, a <code>Map</code> can be autowired if and only if its key type is <code>String</code>.</p><pre><code>public class OuterBean {
    @Autowired
    private Map&lt;String, InnerBean&gt; innersMap;
}
</code></pre><h2 id="Autowired-Combined-with-Qualifier"><a href="#Autowired-Combined-with-Qualifier" class="headerlink" title="@Autowired Combined with @Qualifier"></a><code>@Autowired</code> Combined with <code>@Qualifier</code></h2><p>When there are multi candidates for auotwiring, <code>@Qualifier</code> can help you control wiring details.</p><p>Generally you can specify which bean is needed among multi beans of the same type. For example:</p><p>In your annotation source file:</p><pre><code>public class OuterBean {
    @Autowired
    @Qualifier(&quot;main&quot;)
    private InnerBean inner;
}
</code></pre><p>In your xml file:</p><pre><code>&lt;bean id=&quot;inner1&quot; class=&quot;InnerBean&quot;&gt;
    &lt;qualifier value=&quot;main&quot;/&gt;
&lt;/bean&gt;

&lt;bean id=&quot;inner2&quot; class=&quot;InnerBean&quot;&gt;
    &lt;qualifier value=&quot;action&quot;/&gt;
&lt;/bean&gt;

&lt;bean id=&quot;outer&quot; class=&quot;OuterBean&quot;/&gt;
</code></pre><p>Thus bean <code>inner1</code> will be autowired to bean <code>outer</code>.</p><p>The <code>@Qualifier</code> can also be applied to a construtor argument.</p><pre><code>public class OuterBean {
    @Autowired
    public void OuterBean(@Qualifier(&quot;main&quot;) InnerBean inner) {
    }
}
</code></pre><p>If the value of <code>@Qualifier</code> is not given, the bean id/name will be used as a fallback qualifier value.</p><h2 id="Custom-Qualifier"><a href="#Custom-Qualifier" class="headerlink" title="Custom @Qualifier"></a>Custom <code>@Qualifier</code></h2><p>Dispite value based <code>@Qualifier</code> identification, you can custom your own qualifier annotation and use type based <code>@Qualifier</code>.</p><p>Given:</p><pre><code>@Target({ElementType.FIELD, ElementType.PARAMETER})
@Retention(RetentionPolicy.RUNTIME)
@Qualifier
public @interface Genre {
    String value();
}

public class OuterBean {
    @Autowired
    @Genre(&quot;Action&quot;)
    private InnerBean inner;
}
</code></pre><p>Thus following configuration works:</p><pre><code>&lt;context:annotation-config/&gt;

&lt;bean class=&quot;OuterBean&quot;&gt;
    &lt;qualifier type=&quot;Genre&quot; value=&quot;Action&quot;/&gt;
&lt;/bean&gt;
</code></pre><h2 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a><code>@Resource</code></h2><p>The Spring introduces support for JSR-250 annotations like <code>@Resource</code> from version 2.5. <code>@Resource</code> works on fields or setters, taking a name attribute indicating the bean id/name to be injected. One of the differences between <code>@Resource</code> and <code>@Autowired</code> is that the former performs by-name injection while the latter by-type.</p><pre><code>public class OuterBean {

    @Resource(name=&quot;inner&quot;)
    private InnerBean inner;

    @Resource
    private InnerBean inner1;

    private InnerBean inner2;

    @Resource
    public void setInner2(InnerBean inner2) { }
}
</code></pre><p>The bean <code>inner</code> will be injected as it is specified explicitely. However, if not specified, a fallback injection will be done by setting the field name (for field annotation, i.e., <code>inner1</code>) or the arguement name (for setter method, e.g., <code>inner2</code>).</p><h2 id="PostConstruct-and-PreDestroy"><a href="#PostConstruct-and-PreDestroy" class="headerlink" title="@PostConstruct and @PreDestroy"></a><code>@PostConstruct</code> and <code>@PreDestroy</code></h2><p>Similar to XML based configuration, the Spring annotation based configuration also provides annotations to support bean lifecycle management.</p><p>The <code>@PostConstruct</code> annotation specifies the callback after bean instantiation and dependency injection.</p><p>The <code>@PreDestroy</code> annotation specifies the callback before bean destruction.</p><pre><code>public class OuterBean {
    @PostConstruct
    public void myCustomInit() {
    }

    @PreDestroy
    public void myCustomDestroy() {
    }
}
</code></pre><h1 id="Classpath-Scanning"><a href="#Classpath-Scanning" class="headerlink" title="Classpath Scanning"></a>Classpath Scanning</h1><p>Last annotations demonstrate ways to help dependency injection, however dependency beans themself need to be specified using traditional XML definitions.</p><p>More or less, the Springframework also provides annotations to help bean registration and dependecy detection, removing the need of xml files.</p><h2 id="Component-Repository-Service-and-Controller"><a href="#Component-Repository-Service-and-Controller" class="headerlink" title="@Component, @Repository, @Service and @Controller"></a><code>@Component</code>, <code>@Repository</code>, <code>@Service</code> and <code>@Controller</code></h2><p>The <code>@Component</code> annotation is a generic marker of any conponents that are designing to managed by the Spring container. That is to say, that the any class decorated by <code>@Component</code> would be instatiated as a bean, and the beans lifecycle is managed by the Spring container, and the beans will be scanned and filtered in DI step.</p><p>The <code>@Component</code> annotation provides three specializtions concentrating on semantics. The <code>@Repository</code> annotation marks, say, a repository type (DAO). The <code>@Service</code> annotation marks a service layer type. The <code>@Controller</code> annotation marks a presentation layer type. These annotations differ in semantics and may be used differently by the Spring framework in future releases.</p><pre><code>@Component
public class MyCustomBean {}

@Repository
public class MyCustomDAO {}

@Service
public class MyCustomService {}

@Controller
public class MyCustomController {}
</code></pre><p>To enable classpath scanning, you need additional work. Adding following lines in your xml configuration file:</p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;

    &lt;context:component-scan base-package=&quot;org.example&quot;/&gt;

&lt;/beans&gt;
</code></pre><p>The <code>&lt;context:component-scan /&gt;</code> calles classpath auto scanning, specifying the qualified package name <code>org.example</code>. This implicit enables the <code>&lt;context:annotation-config /&gt;</code> which enables <code>AutowiredAnnotationBeanPostProcessor</code>, <code>CommonAnnotationBeanPostProcessor</code> and <code>RequiredAnnotationBeanPostProcessor</code> at the same time. So the <code>@Required</code>, <code>@Autowired</code>, <code>@PostConstruct</code> and <code>@PreDestroy</code> annotations are also out of box.</p><p>Also you can implement your own annotations based on <code>@Component</code> meta annotation.</p><pre><code>// Spring will treat @MyComponent in the same way as @Component
@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Component 
public @interface MyComponent { }
</code></pre><p>The custom <code>@MyComponent</code> annotation will be treated like the <code>@Component</code> besides more costom semantics.</p><p>The bean name for a annotated class is generated by the Spring following a default rule: returning the uncapitalized non-qualified class name.</p><p>i.g.,</p><pre><code>@Repository
public class MyCustomDAO {}
</code></pre><p>will auto introduce a bean named *myCustomDAO”.</p><p>However, if you don’t like this name, you can set <code>name</code> using <code>@Repository(&quot;myBestName&quot;)</code>. The <code>name</code> property applies to <code>@Component</code>, <code>@Repository</code>, <code>@Service</code> and <code>@Controller</code>.</p><p>If you don’t like the default naming rule, you can use <code>BeanNameGenerator</code> interface.</p><h2 id="Scope"><a href="#Scope" class="headerlink" title="@Scope"></a><code>@Scope</code></h2><p>Specifying bean scope using the <code>@Scope</code> annotation.</p><pre><code>@Scope(&quot;prototype&quot;)
@Repository
public class MyCustomBean { }
</code></pre><h2 id="Lazy"><a href="#Lazy" class="headerlink" title="@Lazy"></a><code>@Lazy</code></h2><p>Specifying bean lazy instantiating using the <code>@Lazy</code> annotation.</p><pre><code>@Lazy
@Repository
public class MyCustomBean { }
</code></pre><h2 id="Beans-Filtering"><a href="#Beans-Filtering" class="headerlink" title="Beans Filtering"></a>Beans Filtering</h2><p>You may want to cusotm the beans are to be scanned by setting some filters. You can achieve this by adding <code>include-filter</code> and <code>exclude-filter</code> sub-element to <code>component-scan</code> element.</p><pre><code>&lt;beans&gt;
    &lt;context:component-scan base-package=&quot;org.example&quot;&gt;
        &lt;context:include-filter type=&quot;regex&quot;
                expression=&quot;.*Stub.*Repository&quot;/&gt;
        &lt;context:exclude-filter type=&quot;annotation&quot;
                expression=&quot;org.springframework.stereotype.Repository&quot;/&gt;
    &lt;/context:component-scan&gt;
&lt;/beans&gt;
</code></pre><p>This implies the configuration will ignore all <code>@Repository</code> annotations and using “stub Repository” instead.</p><p>You must set <code>type</code> and <code>expression</code> attributes for a <code>include-filter</code> or a <code>exclude-filter</code> element. Types are <em>annotation</em>, <em>assignable</em>, <em>aspectj</em>, <em>regex</em> and <em>custom</em>.</p><table><thead><tr><th>Filter Type</th><th>Example Expression</th><th>Description</th></tr></thead><tbody><tr><td>annotation (default)</td><td>org.example.SomeAnnotation</td><td>An annotation to be present at the type level in target components.</td></tr><tr><td>assignable</td><td>org.example.SomeClass</td><td>A class (or interface) that the target components are assignable to (extend/implement).</td></tr><tr><td>aspectj</td><td>org.example..*Service+</td><td>An AspectJ type expression to be matched by the target components.</td></tr><tr><td>regex</td><td>org.example.Default.*</td><td>A regex expression to be matched by the target components class names.</td></tr><tr><td>custom</td><td>org.example.MyTypeFilter</td><td>A custom implementation of the org.springframework.core.type .TypeFilter interface.</td></tr></tbody></table><h1 id="JSR-3-0-Annotations-Alternatives"><a href="#JSR-3-0-Annotations-Alternatives" class="headerlink" title="JSR 3.0 Annotations Alternatives"></a>JSR 3.0 Annotations Alternatives</h1><p>You can use also JSR 3.0 standard annotations for dependency injection. These annotations are scanned in the same way as the Spring annotations.</p><p>To use JSR 3.0 annotations, you need to add relevant jars to your classpath.</p><p>For maven, adding following lines:</p><pre><code>&lt;dependency&gt;
    &lt;groupId&gt;javax.inject&lt;/groupId&gt;
    &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;
    &lt;version&gt;1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h2 id="Inject"><a href="#Inject" class="headerlink" title="@Inject"></a><code>@Inject</code></h2><p>Think <code>@Inject</code> as <code>@Autowired</code>.</p><p>The <code>@Inject</code> annotation can be applied at the class-level, field-level, method-level and constructor-argument level.</p><pre><code>import javax.inject.Inject;

public class OuterBean {
    private InnerBean inner;

    @Inject
    public void setInner(InnerBean inner) {
        this.inner = inner;
    }
}
</code></pre><h2 id="Named"><a href="#Named" class="headerlink" title="@Named"></a><code>@Named</code></h2><p>Think <code>@Named</code> as <code>@Component</code>.</p><pre><code>import javax.inject.Named;

@Named
public class OuterBean { }
</code></pre><p>You can specify a <em>name</em> to the <code>@Named</code>.</p><pre><code>@Named(&quot;myOuterBean&quot;)
public class OuterBean { }
</code></pre><p>Specially, you can use <code>@Named</code> combined with <code>@Inject</code>.</p><pre><code>@Inject
public void setInner(@Named(&quot;main&quot;) InnerBean inner) {
    this.inner = inner;
}
</code></pre><h2 id="JSR-3-0-Annotations-VS-Spring-Annotations"><a href="#JSR-3-0-Annotations-VS-Spring-Annotations" class="headerlink" title="JSR 3.0 Annotations VS Spring Annotations"></a><em>JSR 3.0 Annotations</em> VS <em>Spring Annotations</em></h2><p>The comparison between <em>JSR 3.0 annotations</em> VS <em>Spring annotations</em> is shown in following table.</p><table><thead><tr><th>Spring</th><th>javax.inject.*</th><th>javax.inject restrictions / comments</th></tr></thead><tbody><tr><td>@Autowired</td><td>@Inject</td><td>@Inject has no required attribute</td></tr><tr><td>@Component</td><td>@Named</td><td>-</td></tr><tr><td>@Scope(“singleton”)</td><td>@Singleton</td><td>The JSR-330 default scope is like Spring’s prototype. However, in order to keep it consistent with Spring’s general defaults, a JSR-330 bean declared in the Spring container is a singleton by default. In order to use a scope other than singleton, you should use Spring’s @Scope annotation.</td></tr><tr><td>@Qualifier</td><td>@Named</td><td>-</td></tr><tr><td>-@Value</td><td>-</td><td>-no equivalent</td></tr><tr><td>@Required</td><td>-</td><td>-no equivalent</td></tr><tr><td>@Lazy</td><td>-</td><td>-no equivalent</td></tr></tbody></table><h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>The Spring annotation-based metadata configuration method is a full-featured and easy to use alternative to traditional XML-based metadata configuration.</p><p>Note that annotation injection is performed before XML injection, thus the latter configuration will override the former for properties wired through both approaches.</p></div><div></div><div></div><div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/spring/" rel="tag"># Spring</a> <a href="/tags/java/" rel="tag"># Java</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2015/06/02/Spring-XML-based-configuration/" rel="next" title="Spring: XML based configuration"><i class="fa fa-chevron-left"></i> Spring: XML based configuration</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2016/03/30/java-concurrent-semaphore/" rel="prev" title="Learning Java Concurrency - Semaphore">Learning Java Concurrency - Semaphore <i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="post-spread"></div></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Elvis Wang"><p class="site-author-name" itemprop="name">Elvis Wang</p><p class="site-description motion-element" itemprop="description">Why bloging ?</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">62</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">9</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">20</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/wbprime" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Dependency-Injection-Annotations"><span class="nav-number">1.</span> <span class="nav-text">Dependency Injection Annotations</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Required"><span class="nav-number">1.1.</span> <span class="nav-text">@Required</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Autowired"><span class="nav-number">1.2.</span> <span class="nav-text">@Autowired</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Autowired-Combined-with-Qualifier"><span class="nav-number">1.3.</span> <span class="nav-text">@Autowired Combined with @Qualifier</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Custom-Qualifier"><span class="nav-number">1.4.</span> <span class="nav-text">Custom @Qualifier</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Resource"><span class="nav-number">1.5.</span> <span class="nav-text">@Resource</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PostConstruct-and-PreDestroy"><span class="nav-number">1.6.</span> <span class="nav-text">@PostConstruct and @PreDestroy</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Classpath-Scanning"><span class="nav-number">2.</span> <span class="nav-text">Classpath Scanning</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Component-Repository-Service-and-Controller"><span class="nav-number">2.1.</span> <span class="nav-text">@Component, @Repository, @Service and @Controller</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scope"><span class="nav-number">2.2.</span> <span class="nav-text">@Scope</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lazy"><span class="nav-number">2.3.</span> <span class="nav-text">@Lazy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Beans-Filtering"><span class="nav-number">2.4.</span> <span class="nav-text">Beans Filtering</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSR-3-0-Annotations-Alternatives"><span class="nav-number">3.</span> <span class="nav-text">JSR 3.0 Annotations Alternatives</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Inject"><span class="nav-number">3.1.</span> <span class="nav-text">@Inject</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Named"><span class="nav-number">3.2.</span> <span class="nav-text">@Named</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSR-3-0-Annotations-VS-Spring-Annotations"><span class="nav-number">3.3.</span> <span class="nav-text">JSR 3.0 Annotations VS Spring Annotations</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Summary"><span class="nav-number">4.</span> <span class="nav-text">Summary</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2015 - <span itemprop="copyrightYear">2017</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Elvis Wang</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".popup").toggle()}var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path,searchFunc=function(e,t,a){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var r=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),c=document.getElementById(t),s=document.getElementById(a);c.addEventListener("input",function(){var e=0,t='<ul class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length>1&&r.forEach(function(r){var c=!1,s=r.title.trim().toLowerCase(),o=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),n=decodeURIComponent(r.url),i=-1,l=-1,p=-1;if(""!=s&&a.forEach(function(e,t){i=s.indexOf(e),l=o.indexOf(e),(i>=0||l>=0)&&(c=!0,0==t&&(p=l))}),c){e+=1,t+="<li><a href='"+n+"' class='search-result-title'>"+s+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(p>=0){var u=p-20,d=p+80;u<0&&(u=0),0==u&&(d=50),d>h.length&&(d=h.length);var f=h.substring(u,d);a.forEach(function(e){var t=new RegExp(e,"gi");f=f.replace(t,'<b class="search-keyword">'+e+"</b>")}),t+='<p class="search-result">'+f+"...</p>"}t+="</li>"}}),t+="</ul>",0==e&&(t='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==a&&(t='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),s.innerHTML=t}),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script></body></html>